{"version":3,"sources":[false,null,"false*","webpack:///module-users/./scripts/main.js","false**","false***","false****","webpack:///module-users/./scripts/components/user-reset-password/scripts/main.js","webpack:///module-users/./scripts/components/user-reset-password/scripts/directives.js","webpack:///module-users/./scripts/authentication.js","webpack:///module-users/./scripts/image.js","webpack:///module-users/./scripts/details.js","webpack:///module-users/./scripts/settings.js","webpack:///module-users/./scripts/profile-image.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_3__","__WEBPACK_EXTERNAL_MODULE_4__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","__WEBPACK_AMD_DEFINE_RESULT__","name","base","core","resetPassword","deps","createModule","provider","directive","undefined","webpackPolyfill","deprecate","paths","children","lpResetPasswordLink","$parse","linkFn","scope","el","attrs","onClick","ngClick","fireOnClick","event","preventDefault","stopPropagation","$event","compileFn","tmpl","join","restricted","template","compile","$inject","_typeof","Symbol","iterator","obj","constructor","prototype","global","window","ERRORS","MISSING_USERNAME","MISSING_PASSWORD","MISSING_OTP","CANNOT_AUTHENTICATE","MAX_ATTEMPTS_EXCEEDED","ACCOUNT_BLOCKED","NOT_FOUND","UNKNOWN_ERROR","DISCONNECTED","FORBIDDEN","BAD_GATEWAY","SESSIONS_LIMIT_REACHED","ERROR_CODE","BAD_REQUEST","STATUS","INITIATED","VERIFIED","DELIVERY_METHOD","PHONE","EMAIL","lpUsersAuthentication","lpCoreUtils","session","isEmptyString","string","isString","trim","length","verifyOptions","options","isObject","Error","handleSuccess","deferred","response","extend","resolve","unknownError","code","message","parseError","errors","handleError","error","reject","formHeaders","Accept","Content-Type","$get","$http","$q","$window","lpPortal","API","config","initiateEndPoint","otpEndPoint","serverRootPath","portalName","pageName","reloadOnSuccess","getConfig","setConfig","chain","mapValues","resolvePortalPlaceholders","defaults","value","forEach","status","capitalize","toLowerCase","initiate","defer","username","password","params","deliveryMethod","method","url","data","buildQueryString","headers","success","promise","securityCheck","j_username","j_password","portal_name","page_name","Date","getTime","verifyOTP","otpCode","replace","otp_code","handleVerifiedResponse","defaultLandingPage","getPortalProperty","location","protocol","indexOf","successView","charAt","currentLocation","pathname","split","search","hash","href","logOut","LOGOUT_URL","LOGOUT_SUCCES_URL","b$","portal","sessionStorage","clear","then","parseInt","MOCKABLE","lpDefaultProfileImage","imageDataUri","extractInitials","initials","i","substr","toUpperCase","getColorFromInitials","a","charCodeAt","x","Math","floor","colors","width","height","color","arguments","canvas","document","createElement","getContext","setAttribute","ctx","fillStyle","isArray","fillRect","scale","fontSize","marginBottom","font","textAlign","fillText","toDataURL","lpUserDetails","lpCoreI18n","doI18n","profileDetails","detailsParsed","each","key","push","instant","formatDate","normalize","photoUrl","photoData","PhotoUrl","decodeURIComponent","details","ra","activities","lastLoggedIn","get","put","transformRequest","lpUserSettings","changePassword","oldPassword","newPassword","post","profileImage","restrict","fullname","size","link","element","updateSrc","dataUrl","$watch"],"mappings":"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","file":"scripts/main.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"base\"), require(\"core\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"base\", \"core\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"module-users\"] = factory(require(\"base\"), require(\"core\"));\n\telse\n\t\troot[\"module-users\"] = factory(root[\"base\"], root[\"core\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"base\"), require(\"core\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"base\", \"core\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"module-users\"] = factory(require(\"base\"), require(\"core\"));\n\telse\n\t\troot[\"module-users\"] = factory(root[\"base\"], root[\"core\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(1);\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(module) {'use strict';!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\t    'use strict';\n\n\t    module.name = 'module-user';\n\n\t    var base = __webpack_require__(3);\n\t    var core = __webpack_require__(4);\n\t    var resetPassword = __webpack_require__(5);\n\n\t    var deps = [\n\t    core.name,\n\t    resetPassword.name];\n\n\n\t    module.exports = base.createModule(module.name, deps).\n\t    provider(__webpack_require__(7)) // lpUsersAuthentication\n\t    .factory(__webpack_require__(8)) // lpDefaultProfileImage\n\t    .factory(__webpack_require__(9)) // lpUserDetails service\n\t    .factory(__webpack_require__(10)) // lpUserSettings service\n\t    .directive(__webpack_require__(11));\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)(module)))\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = function(module) {\r\n\t\tif(!module.webpackPolyfill) {\r\n\t\t\tmodule.deprecate = function() {};\r\n\t\t\tmodule.paths = [];\r\n\t\t\t// module.parent = undefined by default\r\n\t\t\tmodule.children = [];\r\n\t\t\tmodule.webpackPolyfill = 1;\r\n\t\t}\r\n\t\treturn module;\r\n\t}\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(module) {'use strict';!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\t    'use strict';\n\n\t    module.name = 'component.user-reset-password';\n\n\t    var base = __webpack_require__(3);\n\t    var core = __webpack_require__(4);\n\n\t    var deps = [\n\t    core.name];\n\n\n\t    module.exports = base.createModule(module.name, deps).\n\t    directive(__webpack_require__(6));\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)(module)))\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\t    'use strict';\n\n\t    // @ngInject\n\t    exports.lpResetPasswordLink = function ($parse) {\n\t        var tmpl = [\n\t        '<a href=\"#\" ng-click=\"fireOnClick($event)\">',\n\t        '<small lp-i18n=\"Having trouble accessing your account?\"></small>',\n\t        '</a>'].\n\t        join('');\n\n\t        function linkFn(scope, el, attrs) {\n\t            var onClick = $parse(attrs.ngClick || '');\n\n\t            scope.fireOnClick = function (event) {\n\t                event.preventDefault();\n\t                event.stopPropagation();\n\n\t                onClick(scope, { $event: event });\n\t            };\n\t        }\n\n\t        function compileFn() {\n\t            return linkFn;\n\t        }\n\n\t        return {\n\t            restricted: 'A',\n\t            template: tmpl,\n\t            compile: compileFn };\n\n\t    };\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {return typeof obj;} : function (obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\t    'use strict';\n\n\t    var global = window;\n\n\t    var ERRORS = {\n\t        MISSING_USERNAME: 'Please fill in your username',\n\t        MISSING_PASSWORD: 'Please fill in your password',\n\t        MISSING_OTP: 'You must provide otp code',\n\t        CANNOT_AUTHENTICATE: 'Sorry, we could not authenticate you with these credentials',\n\t        MAX_ATTEMPTS_EXCEEDED: 'Number of login attempts exceeded',\n\t        ACCOUNT_BLOCKED: 'Your account has been blocked',\n\t        NOT_FOUND: 'Resource not found',\n\t        UNKNOWN_ERROR: 'There was an error processing your request. Contact your administrator',\n\t        DISCONNECTED: 'Unable to connect. Please check your connection',\n\t        FORBIDDEN: 'Access has been denied due to security reasons',\n\t        BAD_GATEWAY: 'Bad gateway. Contact your administrator',\n\t        SESSIONS_LIMIT_REACHED: 'You already have an active session. Please close it before starting a new session' };\n\n\n\t    var ERROR_CODE = {\n\t        UNKNOWN_ERROR: 'UNKNOWN_ERROR',\n\t        NOT_FOUND: 'NOT_FOUND',\n\t        BAD_REQUEST: 'BAD_REQUEST',\n\t        CANNOT_AUTHENTICATE: 'CANNOT_AUTHENTICATE',\n\t        MAX_ATTEMPTS_EXCEEDED: 'MAX_ATTEMPTS_EXCEEDED',\n\t        DISCONNECTED: 'DISCONNECTED',\n\t        FORBIDDEN: 'FORBIDDEN',\n\t        BAD_GATEWAY: 'BAD_GATEWAY',\n\t        SESSIONS_LIMIT_REACHED: 'SESSIONS_LIMIT_REACHED' };\n\n\n\t    var STATUS = {\n\t        INITIATED: 'Initiated',\n\t        VERIFIED: 'Verified' };\n\n\n\t    // Delivery method to resend OTP code\n\t    var DELIVERY_METHOD = {\n\t        PHONE: 'phone',\n\t        EMAIL: 'email' };\n\n\n\t    // @ngInject\n\t    exports.lpUsersAuthentication = function (lpCoreUtils) {\n\n\t        var session = {};\n\n\t        var isEmptyString = function isEmptyString(string) {\n\t            return !(lpCoreUtils.isString(string) && lpCoreUtils.trim(string).length);\n\t        };\n\n\t        var verifyOptions = function verifyOptions(options) {\n\t            if (!lpCoreUtils.isObject(options)) {\n\t                throw new Error('Argument `options` should be an object instead ' + (typeof options === 'undefined' ? 'undefined' : _typeof(options)));\n\t            }\n\t        };\n\n\t        var handleSuccess = function handleSuccess(deferred) {\n\t            return function (response) {\n\t                lpCoreUtils.extend(session, response.session);\n\t                deferred.resolve(response);\n\t            };\n\t        };\n\n\t        var unknownError = {\n\t            code: ERROR_CODE.UNKNOWN_ERROR,\n\t            message: ERRORS[ERROR_CODE.UNKNOWN_ERROR] };\n\n\n\t        var parseError = function parseError(response) {\n\t            var code, message;\n\t            var errors = response.errors;\n\n\t            if (errors && errors.length) {\n\t                code = errors[0].code;\n\t                if (code !== ERROR_CODE.UNKNOWN_ERROR) {\n\t                    message = errors[0].message;\n\t                }\n\t            }\n\n\t            return {\n\t                code: code || unknownError.code,\n\t                message: message || unknownError.message };\n\n\t        };\n\n\t        var handleError = function handleError(deferred) {\n\t            return function (response, code) {\n\t                var error;\n\n\t                switch (code) {\n\t                    case 0:\n\t                        error = {\n\t                            code: ERROR_CODE.DISCONNECTED,\n\t                            message: ERRORS[ERROR_CODE.DISCONNECTED] };\n\n\t                        break;\n\t                    case 400:\n\t                        error = {\n\t                            code: ERROR_CODE.BAD_REQUEST,\n\t                            message: response.message };\n\n\t                        break;\n\t                    case 401:\n\t                        error = {\n\t                            code: ERROR_CODE.CANNOT_AUTHENTICATE,\n\t                            message: ERRORS[ERROR_CODE.CANNOT_AUTHENTICATE] };\n\n\t                        break;\n\t                    case 403:\n\t                        if (response && response[0] && response[0].code === 'OLB-403001') {\n\t                            error = {\n\t                                code: ERROR_CODE.SESSIONS_LIMIT_REACHED,\n\t                                message: ERRORS[ERROR_CODE.SESSIONS_LIMIT_REACHED] };\n\n\t                        } else {\n\t                            error = {\n\t                                code: ERROR_CODE.FORBIDDEN,\n\t                                message: ERRORS[ERROR_CODE.FORBIDDEN] };\n\n\t                        }\n\t                        break;\n\t                    case 404:\n\t                        error = {\n\t                            code: ERROR_CODE.NOT_FOUND,\n\t                            message: ERRORS[ERROR_CODE.NOT_FOUND] };\n\n\t                        break;\n\t                    case 502:\n\t                        error = {\n\t                            code: ERROR_CODE.BAD_GATEWAY,\n\t                            message: ERRORS[ERROR_CODE.BAD_GATEWAY] };\n\n\t                        break;\n\t                    default:\n\t                        error = parseError(response);}\n\n\t                deferred.reject(error);\n\t            };\n\t        };\n\n\t        var formHeaders = {\n\t            'Accept': 'application/json',\n\t            'Content-Type': 'application/x-www-form-urlencoded' };\n\n\n\t        // @ngInject\n\t        this.$get = function ($http, $q, $window, lpPortal) {\n\n\t            var API = {\n\t                ERROR_CODE: ERROR_CODE };\n\n\n\t            var config = {\n\t                initiateEndPoint: '',\n\t                otpEndPoint: '',\n\t                serverRootPath: '',\n\t                portalName: '',\n\t                pageName: '',\n\t                reloadOnSuccess: true };\n\n\n\t            API.getConfig = function () {\n\t                return config;\n\t            };\n\n\t            API.setConfig = function (options) {\n\t                config = lpCoreUtils(options).chain().\n\t                mapValues(lpCoreUtils.resolvePortalPlaceholders).\n\t                defaults(config).\n\t                value();\n\t                return this;\n\t            };\n\n\t            lpCoreUtils.forEach(STATUS, function (status) {\n\t                API['is' + lpCoreUtils.capitalize(status)] = function () {\n\t                    return session.status && session.status.toLowerCase() === status.toLowerCase();\n\t                };\n\t            });\n\n\t            API.initiate = function (options) {\n\t                var deferred = $q.defer();\n\t                var error;\n\n\t                verifyOptions(options);\n\n\t                if (isEmptyString(options.username)) {\n\t                    error = ERRORS.MISSING_USERNAME;\n\t                } else if (isEmptyString(options.password)) {\n\t                    error = ERRORS.MISSING_PASSWORD;\n\t                }\n\n\t                if (error) {\n\t                    deferred.reject(new Error(error));\n\t                } else {\n\t                    // Add the default delivery method.\n\t                    // TODO: Put the user selected delivery method\n\t                    var params = {\n\t                        deliveryMethod: DELIVERY_METHOD.PHONE };\n\n\n\t                    $http({\n\t                        method: 'POST',\n\t                        url: config.initiateEndPoint,\n\t                        params: params,\n\t                        data: lpCoreUtils.buildQueryString(options),\n\t                        headers: formHeaders }).\n\n\t                    success(handleSuccess(deferred)).\n\t                    error(handleError(deferred));\n\t                }\n\n\t                return deferred.promise;\n\t            };\n\n\t            API.securityCheck = function () {\n\t                var deferred = $q.defer();\n\t                var options = {\n\t                    'j_username': session.username,\n\t                    'j_password': session.id,\n\t                    'portal_name': config.portalName,\n\t                    'page_name': config.pageName };\n\n\n\t                $http({\n\t                    method: 'POST',\n\t                    url: config.serverRootPath + '/j_spring_security_check' + '?rd=' + new Date().getTime(),\n\t                    data: lpCoreUtils.buildQueryString(options),\n\t                    headers: formHeaders }).\n\n\t                success(handleSuccess(deferred)).\n\t                error(handleError(deferred));\n\n\t                return deferred.promise;\n\t            };\n\n\t            API.verifyOTP = function (options) {\n\t                var deferred = $q.defer();\n\n\t                verifyOptions(options);\n\n\t                if (isEmptyString(options.otpCode)) {\n\t                    deferred.reject(new Error(ERRORS.MISSING_OTP));\n\t                } else {\n\t                    $http({\n\t                        method: 'POST',\n\t                        url: config.otpEndPoint.replace('{id}', session.id),\n\t                        data: lpCoreUtils.buildQueryString({\n\t                            'otp_code': options.otpCode }),\n\n\t                        headers: formHeaders }).\n\n\t                    success(handleSuccess(deferred)).\n\t                    error(handleError(deferred));\n\t                }\n\n\t                return deferred.promise;\n\t            };\n\n\t            API.handleVerifiedResponse = function (response) {\n\t                var defaultLandingPage = lpCoreUtils.getPortalProperty('defaultLandingPage');\n\n\t                if ($window.location.protocol.indexOf('file:') === 0) {\n\t                    response.successView = null;\n\t                    defaultLandingPage = null;\n\t                }\n\n\t                if (lpCoreUtils.isString(defaultLandingPage)) {\n\t                    if (defaultLandingPage.charAt(0) !== '/') {\n\t                        defaultLandingPage = '/' + defaultLandingPage;\n\t                    }\n\t                    //redirect to defaultLandingPage defined in Portal Manager/Special Pages\n\t                    $window.location.replace(config.serverRootPath + defaultLandingPage);\n\t                    return;\n\t                }\n\n\t                if (lpCoreUtils.isString(response.successView)) {\n\t                    // Redirect\n\t                    $window.location.replace(config.serverRootPath + response.successView);\n\t                } else {\n\t                    var currentLocation;\n\t                    // Refresh\n\t                    if ($window.location.protocol.indexOf('file:') === 0) {\n\t                        //need to strip out url to state when running on the files system\n\t                        currentLocation =\n\t                        $window.location.pathname.split('//')[0] + $window.location.search + $window.location.hash;\n\t                    } else {\n\t                        currentLocation = $window.location.href;\n\t                    }\n\t                    if (config.reloadOnSuccess) {\n\t                        $window.location.replace(currentLocation);\n\t                    }\n\t                }\n\t            };\n\n\t            API.logOut = function () {\n\t                var LOGOUT_URL = lpPortal.root + '/j_spring_security_logout?portalName=' + lpPortal.name;\n\t                var LOGOUT_SUCCES_URL = lpPortal.root + global.b$.portal.config.defaultLandingPage;\n\n\t                $window.sessionStorage.clear();\n\n\t                return $http({\n\t                    method: 'POST',\n\t                    url: LOGOUT_URL,\n\t                    headers: formHeaders }).\n\n\t                then(function (response) {\n\t                    var status = parseInt(response.status, 10);\n\t                    if (status >= 200 && status < 300 || status === 304) {\n\t                        // The response returns a document and could be displayed\n\t                        // e.g. document.documentElement.innerHTML = response.data;\n\t                        // but there is an issue with a link so a redirect is used\n\t                        // instead.\n\t                        $window.location.replace(LOGOUT_SUCCES_URL);\n\t                    } else {\n\t                        throw new Error(parseError(response).message);\n\t                    }\n\t                });\n\t            };\n\n\t            // Expose private vars for mocking.\n\t            API.MOCKABLE = {\n\t                session: session };\n\n\n\t            return API;\n\t        };\n\t    };\n\n\t    // Deprecated\n\t    // exports.authentication = exports.lpUsersAuthentication;\n\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\t    'use strict';\n\n\t    // @ngInject\n\t    exports.lpDefaultProfileImage = function (lpCoreUtils) {\n\t        var imageDataUri = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABPCAIAAADz89W0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3MkVFRDI3OTJERUQxMUUzQkU4Qzk1MDlEQzAyMjFFNCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3MkVFRDI3QTJERUQxMUUzQkU4Qzk1MDlEQzAyMjFFNCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjcyRUVEMjc3MkRFRDExRTNCRThDOTUwOURDMDIyMUU0IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjcyRUVEMjc4MkRFRDExRTNCRThDOTUwOURDMDIyMUU0Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+gildPAAABRdJREFUeNrsmstKI0EUhicmRmO8IoKIgigoCoovIOhOX8m38RncuHWjG0HFjeAl4GWhoAvvUZPMZ/6ZQ9OtmUBa04OnFk2luqo9X51LnVMzqZWVlV8/qbX8+mHNgR3YgR3YgR3YgR3YgR3YgR3YgR3YgR3YgR3YgR3YgR34O1umkcWVSiX4M5VK2Yj6PDUt9Co6GPxI6MvB+U0GDlL9MZiWluBe6KkJ9iqI8RmDjVeq7cO/1TQN8wTm9fX16ekpn88/Pj5ms1kky+VyLy8vdMrlMoOtra100um0MWgLghj0mfD29mav+JnJZJKiYWuA9fb2jo2NiRYwhL64uIBf0k9NTTFHWyMY5kRtVX0msIqfPK+vr0ulUnRrmgyMHF1dXQsLCz09PYChlpubm7W1tbu7O2SFbXx8fGZmxpiZDwzToobKTwhZgmKfn5/Pz883NjaKxaJMo3FR0/Pz841/Ba0iGSSDg4MPDw/Ih27b29uPj495hbUXCoWRkRGELlYb5MDAzCv6etJ4xaD2BWzGh4aGmHl5eVnD4b8PWPpBFbK6q6ur0dFRlCxzbWtrw6sZ7OjoQNXIPTs7y2ScOVttTGCVvFTN+lI7P/kyP9k4vhkLc6NBCwmQiT76RLdbW1vLy8tyP8inp6dPT09RFHi49Pb29sDAgMyVJ+N0YI6eW6yFljkMEvyYw19pftCSQ0osheWTk5OjoyNCFLolgGHGc3Nzm5ubnZ2dbMf6+jquzvj7H85kbLOCja+xO4uLi2wWO4I5yMJjceBGMy3bcsRCOBnhzs7O/f09CmcvwJ6cnAQbWgi7u7vhyVcbVIxg1cxkOX1G6LM1eDLBWX4hS47LgWMAthiLuKgCJEx3b2+PETk2KsV1IZS7QmgeyxL5M5y5apO1M5lpds4rqicrtUS94gESZoAnJib6+/sBYBcI3ZiojqtQvik1auNub2+xDu2j3CRGS47fhzVCrEJRGCR+u7S0pIAE5/DwsDpRYEuniOe7u7vsnbKO1N8WL3MMufT74VZNIVAvHY4f/JDgjEoVYC0g84x+oVRt5WpjrX3zizTcaHloSlBKaJkjZ698WOoy3do0dfTKEmw6+DNPTbCWFA2HVC0DVpOtKsYyfnBwsL+/T4gyk+aVlC8kebuKEL1VREhWPRws8aIVrD15RWp9dnYGQyhpEZvgdUQpb5MXVAItKUHLXM4MW/KZKeotZ4/O3mipYGvVOITxZKUllmNGLxuar+HQ1QT6URqsA5noRVIZugOIOoX8glWazEdk2DF6ciZ2J7E8RC4qbPItKkTxh6wjeDeiJcQ50hVLM1G4YkGC6uEQsIWcYMWD6HaVESo8dKppnBGcWaFLsZrz2WJbEjUsEqvvTWl20RHKW2zQtsBuCKiZqCsPDw/tbiiJGpboxFskNjyJa5VgjSs73RCpzKbuJ9ksFApkMhYLkwgMGInx6uoqRZKUo6u5f2rJ/FlVhOqwvr6+GAumr9Kwkko0U7+UZtLsi2KVQoDcwbKUJPqwLiikIrmxyil5bG0N6zKEQlpHsZRsdwzJ1TAiIqhiDzmj7qssONVYq9ybtVKsrUpWLh2NQBDKaaVnRFc9XOdyqVp3l1aZJNSkLdlUTLYiIXjY1nm1EDx77QxL6DkcyoHr+QexaGYe7SRUw9EEu55z5bOFH36qaRcA/11zYAd2YAd2YAd2YAd2YAd2YAd2YAd24B/QMrH/J4qkA8f7Pyhcw+7DzW6/BRgAykJQPtOgddIAAAAASUVORK5CYII=';\n\n\t        var extractInitials = function extractInitials(name) {\n\n\t            var initials = '';\n\t            name = name.split(' ');\n\n\t            for (var i = 0; i < name.length; i++) {\n\t                initials += name[i].substr(0, 1);\n\t            }\n\n\t            initials = initials.toUpperCase();\n\t            return initials;\n\n\t        };\n\n\t        var getColorFromInitials = function getColorFromInitials(initials) {\n\n\t            var a = initials.charCodeAt(0) - 64;\n\t            var x = a + 120;\n\n\t            var i = Math.floor((a - 1) / (26 - 1) * (5 - 1) + 1 - 1);\n\t            var colors = [\n\t            [x, 210, 210],\n\t            [x, x, 210],\n\t            [210, x, x],\n\t            [x, 210, x],\n\t            [210, x, 210]];\n\n\n\t            return colors[i];\n\t        };\n\n\t        return function defaultProfileImage(name, width, height, color) {\n\t            if (!arguments.length) {\n\t                return imageDataUri;\n\t            }\n\n\t            var canvas = document.createElement('canvas');\n\n\t            if (!canvas.getContext || !canvas.getContext('2d')) {\n\t                return imageDataUri;\n\t            }\n\n\t            var initials = extractInitials(name);\n\t            color = color || getColorFromInitials(initials);\n\n\t            canvas.setAttribute('width', width);\n\t            canvas.setAttribute('height', height);\n\t            var ctx = canvas.getContext('2d');\n\n\t            ctx.fillStyle = lpCoreUtils.isArray(color) ? 'rgb(' + color.join(',') + ')' : color;\n\t            ctx.fillRect(0, 0, width, height);\n\n\t            ctx.fillStyle = 'rgb(250,250,250)';\n\n\t            var scale;\n\t            // var marginRight;\n\n\t            switch (initials.length) {\n\t                case 1:\n\t                    scale = 0.6;\n\t                    //marginRight = 4;\n\t                    break;\n\n\t                case 2:\n\t                    scale = 0.5;\n\t                    //marginRight = 3;\n\t                    break;\n\n\t                case 3:\n\t                    scale = 0.45;\n\t                    //marginRight = 2;\n\t                    break;\n\n\t                default:\n\t                    scale = 0.3;\n\t                    //marginRight = 0;\n\t                    break;}\n\n\n\t            var fontSize = parseInt(scale * height, 10);\n\t            var marginBottom = Math.floor(0.15 * height);\n\n\t            ctx.font = fontSize + 'px Proxima Regular, Helvetica Nueue, Helvetica, Arial, sans-serif';\n\t            ctx.textAlign = 'right';\n\t            ctx.fillText(initials, width - 3, height - marginBottom);\n\n\t            return canvas.toDataURL('image/png');\n\t        };\n\t    };\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\t    'use strict';\n\n\t    // @ngInject\n\t    exports.lpUserDetails = function ($http, lpCoreUtils, lpCoreI18n) {\n\n\t        function doI18n(profileDetails) {\n\t            var detailsParsed = [];\n\t            lpCoreUtils.each(profileDetails, function (value, key) {\n\t                detailsParsed.push({\n\t                    key: lpCoreI18n.instant(key),\n\t                    value: key === 'dateOfBirth' ? lpCoreI18n.formatDate(value) : lpCoreI18n.instant(value) });\n\n\t            });\n\t            return detailsParsed;\n\t        }\n\n\t        function normalize(response) {\n\n\t            response.photoUrl = response.photoData || (response.PhotoUrl ? decodeURIComponent(response.photoUrl) : null);\n\t            response.details = doI18n(response.details);\n\n\t            var ra = response.activities;\n\t            if (ra) {\n\t                if (ra.lastLoggedIn) {\n\t                    ra.lastLoggedIn = lpCoreI18n.formatDate(ra.lastLoggedIn, 'medium');\n\t                } else {\n\t                    ra.lastLoggedIn = '';\n\t                }\n\t            } else {\n\t                response.activities = { lastLoggedIn: '' };\n\t            }\n\n\t            return response;\n\t        }\n\n\t        return {\n\t            get: function get(url) {\n\t                return $http.get(url).then(function (response) {\n\t                    return normalize(response.data);\n\t                });\n\t            },\n\t            put: function put(url, data) {\n\t                // TODO move to https://docs.angularjs.org/api/ng/service/$httpParamSerializerJQLike since 1.4.x\n\t                return $http({\n\t                    method: 'put',\n\t                    url: url,\n\t                    transformRequest: lpCoreUtils.buildQueryString,\n\t                    data: data,\n\t                    headers: {\n\t                        'Content-Type': 'application/x-www-form-urlencoded;' } });\n\n\n\t            } };\n\n\t    };\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\t    'use strict';\n\n\t    // @ngInject\n\t    exports.lpUserSettings = function ($http) {\n\t        return {\n\t            changePassword: function changePassword(url, oldPassword, newPassword) {\n\t                return $http.post(url, {\n\t                    data: {\n\t                        'oldPassword': oldPassword,\n\t                        'password': newPassword } });\n\n\n\t            } };\n\n\t    };\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\t    'use strict';\n\n\t    // @ngInject\n\t    exports.profileImage = function (lpCoreUtils, lpDefaultProfileImage) {\n\t        return {\n\t            restrict: 'EA',\n\t            replace: true,\n\t            template: '<img height=\"{{size}}\" width=\"{{size}}\" ng-src=\"{{dataUrl}}\"\" />',\n\t            scope: {\n\t                fullname: '@',\n\t                color: '@',\n\t                size: '=' },\n\n\t            link: function link(scope, element, attrs) {\n\t                var updateSrc = function updateSrc(width, height) {\n\t                    scope.dataUrl = lpDefaultProfileImage(scope.fullname, width, height, scope.color);\n\t                };\n\n\t                scope.$watch('size + fullname + color', function () {\n\t                    var width = scope.size || 100;\n\t                    var height = scope.size || 100;\n\t                    updateSrc(width, height);\n\t                });\n\t            } };\n\n\t    };\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ })\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// scripts/main.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e879ec5535c4c5cadb7c","define(function (require, exports, module) {\n    'use strict';\n\n    module.name = 'module-user';\n\n    var base = require('base');\n    var core = require('core');\n    var resetPassword = require('./components/user-reset-password/scripts/main');\n\n    var deps = [\n        core.name,\n        resetPassword.name\n    ];\n\n    module.exports = base.createModule(module.name, deps)\n        .provider(require('./authentication')) // lpUsersAuthentication\n        .factory(require('./image')) // lpDefaultProfileImage\n        .factory(require('./details')) // lpUserDetails service\n        .factory(require('./settings')) // lpUserSettings service\n        .directive(require('./profile-image'));\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./scripts/main.js\n// module id = 1\n// module chunks = 0","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 2\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"base\"\n// module id = 3\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"core\"\n// module id = 4\n// module chunks = 0","define(function (require, exports, module) {\n    'use strict';\n\n    module.name = 'component.user-reset-password';\n\n    var base = require('base');\n    var core = require('core');\n\n    var deps = [\n        core.name\n    ];\n\n    module.exports = base.createModule(module.name, deps)\n        .directive( require('./directives') );\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./scripts/components/user-reset-password/scripts/main.js\n// module id = 5\n// module chunks = 0","define(function (require, exports, module) {\n    'use strict';\n\n    // @ngInject\n    exports.lpResetPasswordLink = function($parse) {\n        var tmpl = [\n            '<a href=\"#\" ng-click=\"fireOnClick($event)\">',\n                '<small lp-i18n=\"Having trouble accessing your account?\"></small>',\n            '</a>'\n        ].join('');\n\n        function linkFn(scope, el, attrs) {\n            var onClick = $parse(attrs.ngClick || '');\n\n            scope.fireOnClick = function(event) {\n                event.preventDefault();\n                event.stopPropagation();\n\n                onClick(scope, { $event: event });\n            };\n        }\n\n        function compileFn() {\n            return linkFn;\n        }\n\n        return {\n            restricted: 'A',\n            template: tmpl,\n            compile: compileFn\n        };\n    };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./scripts/components/user-reset-password/scripts/directives.js\n// module id = 6\n// module chunks = 0","define(function (require, exports, module) {\n    'use strict';\n\n    var global = window;\n\n    var ERRORS = {\n        MISSING_USERNAME: 'Please fill in your username',\n        MISSING_PASSWORD: 'Please fill in your password',\n        MISSING_OTP: 'You must provide otp code',\n        CANNOT_AUTHENTICATE: 'Sorry, we could not authenticate you with these credentials',\n        MAX_ATTEMPTS_EXCEEDED: 'Number of login attempts exceeded',\n        ACCOUNT_BLOCKED: 'Your account has been blocked',\n        NOT_FOUND: 'Resource not found',\n        UNKNOWN_ERROR: 'There was an error processing your request. Contact your administrator',\n        DISCONNECTED: 'Unable to connect. Please check your connection',\n        FORBIDDEN: 'Access has been denied due to security reasons',\n        BAD_GATEWAY: 'Bad gateway. Contact your administrator',\n        SESSIONS_LIMIT_REACHED: 'You already have an active session. Please close it before starting a new session'\n    };\n\n    var ERROR_CODE = {\n        UNKNOWN_ERROR: 'UNKNOWN_ERROR',\n        NOT_FOUND: 'NOT_FOUND',\n        BAD_REQUEST: 'BAD_REQUEST',\n        CANNOT_AUTHENTICATE: 'CANNOT_AUTHENTICATE',\n        MAX_ATTEMPTS_EXCEEDED: 'MAX_ATTEMPTS_EXCEEDED',\n        DISCONNECTED: 'DISCONNECTED',\n        FORBIDDEN: 'FORBIDDEN',\n        BAD_GATEWAY: 'BAD_GATEWAY',\n        SESSIONS_LIMIT_REACHED: 'SESSIONS_LIMIT_REACHED'\n    };\n\n    var STATUS = {\n        INITIATED: 'Initiated',\n        VERIFIED: 'Verified'\n    };\n\n    // Delivery method to resend OTP code\n    var DELIVERY_METHOD = {\n        PHONE: 'phone',\n        EMAIL: 'email'\n    };\n\n    // @ngInject\n    exports.lpUsersAuthentication = function(lpCoreUtils) {\n\n        var session = {};\n\n        var isEmptyString = function(string) {\n            return !(lpCoreUtils.isString(string) && lpCoreUtils.trim(string).length);\n        };\n\n        var verifyOptions = function(options) {\n            if (!lpCoreUtils.isObject(options)){\n                throw new Error('Argument `options` should be an object instead ' + typeof options);\n            }\n        };\n\n        var handleSuccess = function(deferred) {\n            return function(response) {\n                lpCoreUtils.extend(session, response.session);\n                deferred.resolve(response);\n            };\n        };\n\n        var unknownError = {\n            code: ERROR_CODE.UNKNOWN_ERROR,\n            message: ERRORS[ERROR_CODE.UNKNOWN_ERROR]\n        };\n\n        var parseError = function(response) {\n            var code, message;\n            var errors = response.errors;\n\n            if (errors && errors.length) {\n                code = errors[0].code;\n                if (code !== ERROR_CODE.UNKNOWN_ERROR){\n                    message = errors[0].message;\n                }\n            }\n\n            return {\n                code: code || unknownError.code,\n                message: message || unknownError.message\n            };\n        };\n\n        var handleError = function(deferred) {\n            return function(response, code) {\n                var error;\n\n                switch(code) {\n                    case 0:\n                        error = {\n                            code: ERROR_CODE.DISCONNECTED,\n                            message: ERRORS[ERROR_CODE.DISCONNECTED]\n                        };\n                    break;\n                    case 400:\n                        error = {\n                            code: ERROR_CODE.BAD_REQUEST,\n                            message: response.message\n                        };\n                    break;\n                    case 401:\n                        error = {\n                            code: ERROR_CODE.CANNOT_AUTHENTICATE,\n                            message: ERRORS[ERROR_CODE.CANNOT_AUTHENTICATE]\n                        };\n                    break;\n                    case 403:\n                        if (response && response[0] && response[0].code === 'OLB-403001') {\n                          error = {\n                            code: ERROR_CODE.SESSIONS_LIMIT_REACHED,\n                            message: ERRORS[ERROR_CODE.SESSIONS_LIMIT_REACHED]\n                          };\n                        } else {\n                          error = {\n                              code: ERROR_CODE.FORBIDDEN,\n                              message: ERRORS[ERROR_CODE.FORBIDDEN]\n                          };\n                        }\n                    break;\n                    case 404:\n                        error = {\n                            code: ERROR_CODE.NOT_FOUND,\n                            message: ERRORS[ERROR_CODE.NOT_FOUND]\n                        };\n                    break;\n                    case 502:\n                        error = {\n                            code: ERROR_CODE.BAD_GATEWAY,\n                            message: ERRORS[ERROR_CODE.BAD_GATEWAY]\n                        };\n                    break;\n                    default:\n                        error = parseError(response);\n                }\n                deferred.reject(error);\n            };\n        };\n\n        var formHeaders = {\n            'Accept': 'application/json',\n            'Content-Type': 'application/x-www-form-urlencoded'\n        };\n\n        // @ngInject\n        this.$get = function($http, $q, $window, lpPortal) {\n\n            var API = {\n                ERROR_CODE: ERROR_CODE\n            };\n\n            var config = {\n                initiateEndPoint: '',\n                otpEndPoint: '',\n                serverRootPath: '',\n                portalName: '',\n                pageName: '',\n                reloadOnSuccess: true\n            };\n\n            API.getConfig = function() {\n                return config;\n            };\n\n            API.setConfig = function(options) {\n                config = lpCoreUtils(options).chain()\n                    .mapValues(lpCoreUtils.resolvePortalPlaceholders)\n                    .defaults(config)\n                    .value();\n                return this;\n            };\n\n            lpCoreUtils.forEach(STATUS, function(status) {\n                API['is' + lpCoreUtils.capitalize(status)] = function() {\n                    return session.status && (session.status.toLowerCase() === status.toLowerCase());\n                };\n            });\n\n            API.initiate = function(options) {\n                var deferred = $q.defer();\n                var error;\n\n                verifyOptions(options);\n\n                if (isEmptyString(options.username)) {\n                    error = ERRORS.MISSING_USERNAME;\n                } else if (isEmptyString(options.password)) {\n                    error = ERRORS.MISSING_PASSWORD;\n                }\n\n                if (error) {\n                    deferred.reject(new Error(error));\n                } else {\n                    // Add the default delivery method.\n                    // TODO: Put the user selected delivery method\n                    var params = {\n                        deliveryMethod: DELIVERY_METHOD.PHONE\n                    };\n\n                    $http({\n                        method: 'POST',\n                        url: config.initiateEndPoint,\n                        params: params,\n                        data: lpCoreUtils.buildQueryString(options),\n                        headers: formHeaders\n                    })\n                    .success(handleSuccess(deferred))\n                    .error(handleError(deferred));\n                }\n\n                return deferred.promise;\n            };\n\n            API.securityCheck = function() {\n                var deferred = $q.defer();\n                var options = {\n                    'j_username': session.username,\n                    'j_password': session.id,\n                    'portal_name': config.portalName,\n                    'page_name': config.pageName\n                };\n\n                $http({\n                    method: 'POST',\n                    url: config.serverRootPath + '/j_spring_security_check' + '?rd=' + new Date().getTime(),\n                    data: lpCoreUtils.buildQueryString(options),\n                    headers: formHeaders\n                })\n                .success(handleSuccess(deferred))\n                .error(handleError(deferred));\n\n                return deferred.promise;\n            };\n\n            API.verifyOTP = function(options) {\n                var deferred = $q.defer();\n\n                verifyOptions(options);\n\n                if (isEmptyString(options.otpCode)) {\n                    deferred.reject(new Error(ERRORS.MISSING_OTP));\n                } else {\n                    $http({\n                        method: 'POST',\n                        url: config.otpEndPoint.replace('{id}', session.id),\n                        data: lpCoreUtils.buildQueryString({\n                            'otp_code': options.otpCode\n                        }),\n                        headers: formHeaders\n                    })\n                    .success(handleSuccess(deferred))\n                    .error(handleError(deferred));\n                }\n\n                return deferred.promise;\n            };\n\n            API.handleVerifiedResponse = function(response) {\n                var defaultLandingPage = lpCoreUtils.getPortalProperty('defaultLandingPage');\n\n                if($window.location.protocol.indexOf('file:') === 0) {\n                    response.successView = null;\n                    defaultLandingPage = null;\n                }\n\n                if (lpCoreUtils.isString(defaultLandingPage)) {\n                    if (defaultLandingPage.charAt(0) !== '/') {\n                        defaultLandingPage = '/' + defaultLandingPage;\n                    }\n                    //redirect to defaultLandingPage defined in Portal Manager/Special Pages\n                    $window.location.replace(config.serverRootPath + defaultLandingPage);\n                    return;\n                }\n\n                if (lpCoreUtils.isString(response.successView)) {\n                    // Redirect\n                    $window.location.replace(config.serverRootPath + response.successView);\n                } else {\n                    var currentLocation;\n                    // Refresh\n                    if($window.location.protocol.indexOf('file:') === 0) {\n                        //need to strip out url to state when running on the files system\n                        currentLocation =\n                        $window.location.pathname.split('//')[0] + $window.location.search + $window.location.hash;\n                    } else {\n                        currentLocation = $window.location.href;\n                    }\n                    if (config.reloadOnSuccess) {\n                        $window.location.replace(currentLocation);\n                    }\n                }\n            };\n\n            API.logOut = function() {\n                var LOGOUT_URL = lpPortal.root + '/j_spring_security_logout?portalName=' + lpPortal.name;\n                var LOGOUT_SUCCES_URL = lpPortal.root + global.b$.portal.config.defaultLandingPage;\n\n                $window.sessionStorage.clear();\n\n                return $http({\n                    method: 'POST',\n                    url: LOGOUT_URL,\n                    headers: formHeaders\n                })\n                .then(function(response) {\n                    var status = parseInt(response.status, 10);\n                    if (status >= 200 && status < 300 || status === 304) {\n                        // The response returns a document and could be displayed\n                        // e.g. document.documentElement.innerHTML = response.data;\n                        // but there is an issue with a link so a redirect is used\n                        // instead.\n                        $window.location.replace(LOGOUT_SUCCES_URL);\n                    } else {\n                        throw new Error(parseError(response).message);\n                    }\n                });\n            };\n\n            // Expose private vars for mocking.\n            API.MOCKABLE = {\n                session: session\n            };\n\n            return API;\n        };\n    };\n\n    // Deprecated\n    // exports.authentication = exports.lpUsersAuthentication;\n\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./scripts/authentication.js\n// module id = 7\n// module chunks = 0","define(function (require, exports, module) {\n    'use strict';\n\n    // @ngInject\n    exports.lpDefaultProfileImage = function(lpCoreUtils) {\n        var imageDataUri = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABPCAIAAADz89W0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3MkVFRDI3OTJERUQxMUUzQkU4Qzk1MDlEQzAyMjFFNCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3MkVFRDI3QTJERUQxMUUzQkU4Qzk1MDlEQzAyMjFFNCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjcyRUVEMjc3MkRFRDExRTNCRThDOTUwOURDMDIyMUU0IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjcyRUVEMjc4MkRFRDExRTNCRThDOTUwOURDMDIyMUU0Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+gildPAAABRdJREFUeNrsmstKI0EUhicmRmO8IoKIgigoCoovIOhOX8m38RncuHWjG0HFjeAl4GWhoAvvUZPMZ/6ZQ9OtmUBa04OnFk2luqo9X51LnVMzqZWVlV8/qbX8+mHNgR3YgR3YgR3YgR3YgR3YgR3YgR3YgR3YgR3YgR3YgR34O1umkcWVSiX4M5VK2Yj6PDUt9Co6GPxI6MvB+U0GDlL9MZiWluBe6KkJ9iqI8RmDjVeq7cO/1TQN8wTm9fX16ekpn88/Pj5ms1kky+VyLy8vdMrlMoOtra100um0MWgLghj0mfD29mav+JnJZJKiYWuA9fb2jo2NiRYwhL64uIBf0k9NTTFHWyMY5kRtVX0msIqfPK+vr0ulUnRrmgyMHF1dXQsLCz09PYChlpubm7W1tbu7O2SFbXx8fGZmxpiZDwzToobKTwhZgmKfn5/Pz883NjaKxaJMo3FR0/Pz841/Ba0iGSSDg4MPDw/Ih27b29uPj495hbUXCoWRkRGELlYb5MDAzCv6etJ4xaD2BWzGh4aGmHl5eVnD4b8PWPpBFbK6q6ur0dFRlCxzbWtrw6sZ7OjoQNXIPTs7y2ScOVttTGCVvFTN+lI7P/kyP9k4vhkLc6NBCwmQiT76RLdbW1vLy8tyP8inp6dPT09RFHi49Pb29sDAgMyVJ+N0YI6eW6yFljkMEvyYw19pftCSQ0osheWTk5OjoyNCFLolgGHGc3Nzm5ubnZ2dbMf6+jquzvj7H85kbLOCja+xO4uLi2wWO4I5yMJjceBGMy3bcsRCOBnhzs7O/f09CmcvwJ6cnAQbWgi7u7vhyVcbVIxg1cxkOX1G6LM1eDLBWX4hS47LgWMAthiLuKgCJEx3b2+PETk2KsV1IZS7QmgeyxL5M5y5apO1M5lpds4rqicrtUS94gESZoAnJib6+/sBYBcI3ZiojqtQvik1auNub2+xDu2j3CRGS47fhzVCrEJRGCR+u7S0pIAE5/DwsDpRYEuniOe7u7vsnbKO1N8WL3MMufT74VZNIVAvHY4f/JDgjEoVYC0g84x+oVRt5WpjrX3zizTcaHloSlBKaJkjZ698WOoy3do0dfTKEmw6+DNPTbCWFA2HVC0DVpOtKsYyfnBwsL+/T4gyk+aVlC8kebuKEL1VREhWPRws8aIVrD15RWp9dnYGQyhpEZvgdUQpb5MXVAItKUHLXM4MW/KZKeotZ4/O3mipYGvVOITxZKUllmNGLxuar+HQ1QT6URqsA5noRVIZugOIOoX8glWazEdk2DF6ciZ2J7E8RC4qbPItKkTxh6wjeDeiJcQ50hVLM1G4YkGC6uEQsIWcYMWD6HaVESo8dKppnBGcWaFLsZrz2WJbEjUsEqvvTWl20RHKW2zQtsBuCKiZqCsPDw/tbiiJGpboxFskNjyJa5VgjSs73RCpzKbuJ9ksFApkMhYLkwgMGInx6uoqRZKUo6u5f2rJ/FlVhOqwvr6+GAumr9Kwkko0U7+UZtLsi2KVQoDcwbKUJPqwLiikIrmxyil5bG0N6zKEQlpHsZRsdwzJ1TAiIqhiDzmj7qssONVYq9ybtVKsrUpWLh2NQBDKaaVnRFc9XOdyqVp3l1aZJNSkLdlUTLYiIXjY1nm1EDx77QxL6DkcyoHr+QexaGYe7SRUw9EEu55z5bOFH36qaRcA/11zYAd2YAd2YAd2YAd2YAd2YAd2YAd24B/QMrH/J4qkA8f7Pyhcw+7DzW6/BRgAykJQPtOgddIAAAAASUVORK5CYII=';\n\n        var extractInitials = function(name) {\n\n            var initials = '';\n            name = name.split(' ');\n\n            for (var i = 0; i < name.length; i++) {\n                initials += name[i].substr(0, 1);\n            }\n\n            initials = initials.toUpperCase();\n            return initials;\n\n        };\n\n        var getColorFromInitials = function(initials) {\n\n            var a = initials.charCodeAt(0) - 64;\n            var x = a + 120;\n\n            var i = Math.floor((((a - 1) / (26 - 1)) * (5 - 1) + 1) - 1);\n            var colors = [\n                [ x, 210, 210 ],\n                [ x, x, 210 ],\n                [ 210, x, x ],\n                [ x, 210, x ],\n                [ 210, x, 210 ]\n            ];\n\n            return colors[i];\n        };\n\n        return function defaultProfileImage(name, width, height, color) {\n            if (!arguments.length) {\n                return imageDataUri;\n            }\n\n            var canvas = document.createElement('canvas');\n\n            if ( !canvas.getContext || !canvas.getContext('2d') ) {\n                return imageDataUri;\n            }\n\n            var initials = extractInitials(name);\n            color = color || getColorFromInitials(initials);\n\n            canvas.setAttribute('width', width);\n            canvas.setAttribute('height', height);\n            var ctx = canvas.getContext('2d');\n\n            ctx.fillStyle = lpCoreUtils.isArray(color) ? 'rgb(' + color.join(',') + ')' : color;\n            ctx.fillRect(0, 0, width, height);\n\n            ctx.fillStyle = 'rgb(250,250,250)';\n\n            var scale;\n            // var marginRight;\n\n            switch (initials.length) {\n                case 1:\n                    scale = 0.6;\n                    //marginRight = 4;\n                    break;\n\n                case 2:\n                    scale = 0.5;\n                    //marginRight = 3;\n                    break;\n\n                case 3:\n                    scale = 0.45;\n                    //marginRight = 2;\n                    break;\n\n                default:\n                    scale = 0.3;\n                    //marginRight = 0;\n                    break;\n            }\n\n            var fontSize = parseInt( scale * height, 10);\n            var marginBottom = Math.floor( 0.15 * height);\n\n            ctx.font = fontSize + 'px Proxima Regular, Helvetica Nueue, Helvetica, Arial, sans-serif';\n            ctx.textAlign = 'right';\n            ctx.fillText(initials, width - 3, height - marginBottom);\n\n            return canvas.toDataURL('image/png');\n        };\n    };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./scripts/image.js\n// module id = 8\n// module chunks = 0","define(function (require, exports, module) {\n    'use strict';\n\n    // @ngInject\n    exports.lpUserDetails = function($http, lpCoreUtils, lpCoreI18n) {\n\n        function doI18n(profileDetails) {\n            var detailsParsed = [];\n            lpCoreUtils.each(profileDetails, function (value, key) {\n                detailsParsed.push({\n                    key: lpCoreI18n.instant(key),\n                    value: (key === 'dateOfBirth') ? lpCoreI18n.formatDate(value) : lpCoreI18n.instant(value)\n                });\n            });\n            return detailsParsed;\n        }\n\n        function normalize(response) {\n\n            response.photoUrl = response.photoData || (response.PhotoUrl ? decodeURIComponent(response.photoUrl) : null);\n            response.details = doI18n(response.details);\n\n            var ra = response.activities;\n            if (ra) {\n                if (ra.lastLoggedIn) {\n                    ra.lastLoggedIn = lpCoreI18n.formatDate(ra.lastLoggedIn, 'medium');\n                } else {\n                    ra.lastLoggedIn = '';\n                }\n            } else {\n                response.activities = {lastLoggedIn: ''};\n            }\n\n            return response;\n        }\n\n        return {\n            get: function(url) {\n                return $http.get(url).then(function(response) {\n                    return normalize(response.data);\n                });\n            },\n            put: function(url, data){\n                // TODO move to https://docs.angularjs.org/api/ng/service/$httpParamSerializerJQLike since 1.4.x\n                return $http({\n                    method: 'put',\n                    url: url,\n                    transformRequest: lpCoreUtils.buildQueryString,\n                    data: data,\n                    headers: {\n                        'Content-Type': 'application/x-www-form-urlencoded;'\n                    }\n                });\n            }\n        };\n    };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./scripts/details.js\n// module id = 9\n// module chunks = 0","define(function (require, exports, module) {\n    'use strict';\n\n    // @ngInject\n    exports.lpUserSettings = function($http) {\n        return {\n            changePassword: function(url, oldPassword, newPassword) {\n                return $http.post(url, {\n                    data: {\n                        'oldPassword': oldPassword,\n                        'password': newPassword\n                    }\n                });\n            }\n        };\n    };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./scripts/settings.js\n// module id = 10\n// module chunks = 0","define(function(require, exports, module) {\n    'use strict';\n\n    // @ngInject\n    exports.profileImage = function(lpCoreUtils, lpDefaultProfileImage) {\n        return {\n            restrict: 'EA',\n            replace: true,\n            template: '<img height=\"{{size}}\" width=\"{{size}}\" ng-src=\"{{dataUrl}}\"\" />',\n            scope: {\n                fullname: '@',\n                color: '@',\n                size: '='\n            },\n            link: function(scope, element, attrs) {\n                var updateSrc = function(width, height) {\n                    scope.dataUrl = lpDefaultProfileImage(scope.fullname, width, height, scope.color);\n                };\n\n                scope.$watch('size + fullname + color', function() {\n                    var width = scope.size || 100;\n                    var height = scope.size || 100;\n                    updateSrc(width, height);\n                });\n            }\n        };\n    };\n});\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./scripts/profile-image.js\n// module id = 11\n// module chunks = 0"],"sourceRoot":""}