!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("base"),require("core")):"function"==typeof define&&define.amd?define(["base","core"],t):"object"==typeof exports?exports["module-devices"]=t(require("base"),require("core")):e["module-devices"]=t(e.base,e.core)}(this,function(e,t){return function(e){function t(r){if(o[r])return o[r].exports;var n=o[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){var r;(function(e){r=function(require,e,t){"use strict";t.name="module-devices";var r=o(2),n=o(3),i=[n.name];t.exports=r.createModule(t.name,i).provider(o(4))}.call(t,o,t,e),!(void 0!==r&&(e.exports=r))}).call(t,o(1)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(t,o){t.exports=e},function(e,o){e.exports=t},function(e,t,o){var r;r=function(require,e,t){"use strict";e.lpDevices=function(){var e="ModuleDevicesError",t={devicesEndpoint:"/mock/v1/authorized-devices",revokeEndpoint:"/mock/v1/authorized-devices/$(deviceId)"};this.$get=function(o,r,n,i){function c(){var e=function(){this.devices=[]},c=function(e){return e&&n.isArray(e)?(n.forEach(e,function(e){e.creationDate&&(e.creationDate=Date.parse(e.creationDate))}),e):[]};return e.prototype.getAll=function(){var e=r.defer();return o.get(t.devicesEndpoint).then(function(t){e.resolve(c(t.data))},function(t){e.reject(t)}),e.promise},e.prototype.revoke=function(e){e||i.throwException(new u("No device ID provided!"));var n=r.defer();return o["delete"](t.revokeEndpoint,{data:{deviceId:encodeURI(e)}}).then(function(){n.resolve(!0)},function(e){n.reject(e)}),n.promise},new e}var u=i.createException(e);return{setConfig:function(e){return t=n(e).chain().mapValues(n.resolvePortalPlaceholders).defaults(t).value(),this},getConfig:function(e){return e&&n.isString(e)?t[e]:t},api:c}},this.$get.$inject=["$http","$q","lpCoreUtils","lpCoreError"]}}.call(t,o,t,e),!(void 0!==r&&(e.exports=r))}])});