{"version":3,"sources":["web-sdk-mobile.min.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","2","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","setTimeout","this","runClearTimeout","marker","cachedClearTimeout","clearTimeout","cleanUpNextTick","draining","currentQueue","queue","concat","queueIndex","drainQueue","timeout","len","run","Item","array","noop","process","nextTick","args","Array","arguments","push","prototype","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","3","global","root","error","type","RangeError","errors","map","fn","result","mapDomain","string","parts","split","replace","regexSeparators","labels","encoded","join","ucs2decode","value","extra","output","counter","charCodeAt","ucs2encode","stringFromCharCode","basicToDigit","codePoint","base","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","k","floor","damp","baseMinusTMin","tMax","skew","decode","input","out","basic","j","index","oldi","w","baseMinusT","inputLength","initialN","bias","initialBias","lastIndexOf","delimiter","maxInt","tMin","splice","encode","handledCPCount","basicLength","m","q","currentValue","handledCPCountPlusOne","qMinusT","toUnicode","regexPunycode","test","slice","toLowerCase","toASCII","regexNonASCII","freeExports","nodeType","freeModule","freeGlobal","window","self","punycode","key","overflow","not-basic","invalid-input","Math","String","fromCharCode","ucs2","define","amd","hasOwnProperty","4","obj","prop","Object","qs","sep","eq","options","regexp","maxKeys","kstr","vstr","v","x","idx","indexOf","substr","decodeURIComponent","isArray","xs","toString","5","res","stringifyPrimitive","isFinite","undefined","objectKeys","ks","encodeURIComponent","keys","6","parse","stringify","./decode","./encode","7","Url","protocol","slashes","auth","host","port","hostname","hash","search","query","pathname","path","href","urlParse","url","parseQueryString","slashesDenoteHost","isObject","urlFormat","isString","format","urlResolve","source","relative","resolve","urlResolveObject","resolveObject","arg","isNull","isNullOrUndefined","protocolPattern","portPattern","delims","unwise","autoEscape","nonHostChars","hostEndingChars","hostnameMaxLen","hostnamePartPattern","hostnamePartStart","unsafeProtocol","javascript","javascript:","hostlessProtocol","slashedProtocol","http","https","ftp","gopher","file","http:","https:","ftp:","gopher:","file:","querystring","TypeError","rest","trim","proto","exec","lowerProto","match","hostEnd","hec","atSign","parseHost","ipv6Hostname","hostparts","part","newpart","validParts","notHost","bit","unshift","domainArray","newOut","p","h","ae","esc","escape","qm","charAt","rel","forEach","relPath","shift","isSourceAbs","isRelAbs","mustEndAbs","removeAllDots","srcPath","psychotic","pop","authInHost","last","hasTrailingSlash","up","isAbsolute","8","./lib/handlebars-intl","./lib/locales","9","locale","pluralRuleFunction","ord","v0","t0","Number","n10","n100","fields","year","displayName","0","-1","relativeTime","future","one","other","past","month","day","hour","minute","second","10","__addLocaleData","data","intl$messageformat$$","intl$relativeformat$$","src$helpers$$","src$en$$","registerWith","./en.js","./helpers.js","intl-messageformat","intl-relativeformat","11","Handlebars","deprecate","suggestion","console","warn","intl","createFrame","intlData","src$utils$$","extend","intlGet","pathParts","ReferenceError","formatDate","date","Date","assertIsDate","locales","formatOptions","getFormatOptions","getDateTimeFormat","formatTime","formatRelative","now","getRelativeFormat","formatNumber","num","assertIsNumber","getNumberFormat","formatMessage","message","intlName","formats","getMessageFormat","formatHTMLMessage","SafeString","errMsg","Utils","escapeExpression","helpers","intlDate","intlTime","intlNumber","intlMessage","intlHTMLMessage","registerHelper","intl$format$cache$$","Intl","NumberFormat","DateTimeFormat","./utils.js","intl-format-cache","12","sources","13","./lib/memoizer","14","bind","Function","oThis","aArgs","fToBind","fNOP","fBound","hop","realDefineProp","defineProperty","__defineGetter__","desc","get","objCreate","create","props","F","15","createFormatCache","FormatConstructor","cache","src$es5$$","cacheId","getCacheId","inputs","JSON","orderedProps","orderedKeys","sort","./es5","16","IntlMessageFormat","./lib/main","17","Compiler","pluralFn","StringFormat","id","PluralFormat","useOrdinal","offset","PluralOffsetString","numberFormat","SelectFormat","compile","ast","pluralStack","currentPlural","pluralNumberFormat","compileMessage","element","elements","pattern","compileMessageText","compileArgument","number","style","time","compileOptions","ordinal","optionsHash","option","selector","getOption","18","MessageFormat","__parse","_mergeFormats","_resolveLocale","_findPluralRuleFunction","_locale","_compilePattern","messageFormat","values","_format","src$compiler$$","intl$messageformat$parser$$","enumerable","currency","percent","short","medium","long","full","weekday","timeZoneName","__localeData__","writable","resolvedOptions","compiler","localeData","parentLocale","defaults","mergedType","mergedFormats","defaultLocale","localeParts","./compiler","./utils","intl-messageformat-parser","19","20","21","src$core$$","./core","./en","22","23","./lib/parser","24","peg$subclass","child","parent","ctor","constructor","SyntaxError","expected","found","line","column","peg$computePosDetails","pos","advance","details","startPos","endPos","ch","seenCR","peg$cachedPos","peg$cachedPosDetails","peg$fail","peg$currPos","peg$maxFailPos","peg$maxFailExpected","peg$buildException","cleanupExpected","b","description","buildMessage","stringEscape","hex","toUpperCase","expectedDesc","foundDesc","expectedDescs","posDetails","peg$parsestart","s0","peg$parsemessageFormatPattern","s1","s2","peg$parsemessageFormatElement","peg$FAILED","peg$reportedPos","peg$c1","peg$parsemessageTextElement","peg$parseargumentElement","peg$parsemessageText","s3","s4","s5","peg$parse_","peg$parsechars","peg$c2","peg$c3","peg$parsews","substring","peg$c4","peg$parseargument","peg$parsenumber","peg$c5","peg$silentFails","peg$c6","s6","s7","s8","peg$c7","peg$c8","peg$c10","peg$c11","peg$parseelementFormat","peg$c9","peg$c12","peg$c13","peg$c14","peg$parsesimpleFormat","peg$parsepluralFormat","peg$parseselectOrdinalFormat","peg$parseselectFormat","peg$c15","peg$c16","peg$c17","peg$c18","peg$c19","peg$c20","peg$c21","peg$c22","peg$c23","peg$parsepluralStyle","peg$c24","peg$c25","peg$c26","peg$c27","peg$c28","peg$c29","peg$parseoptionalFormatPattern","peg$c30","peg$parseselector","peg$c31","peg$c32","peg$c33","peg$parseoffset","peg$c34","peg$c35","peg$c36","peg$c37","peg$c39","peg$c40","peg$c38","peg$c41","peg$parsedigit","peg$c42","peg$c43","peg$parsehexDigit","peg$c44","peg$c45","peg$c46","peg$c47","peg$c48","peg$c49","peg$c50","peg$parsechar","peg$c51","peg$c52","peg$c53","peg$c54","peg$c55","peg$c56","peg$c57","peg$c58","peg$c59","peg$c60","peg$c61","peg$c62","peg$c63","peg$c64","peg$c65","peg$result","peg$startRuleFunctions","start","peg$startRuleFunction","text","outerLen","inner","innerLen","messageText","pluralStyle","digits","parseInt","chars","startRule","25","IntlRelativeFormat","26","RelativeFormat","_resolveStyle","units","_isValidUnits","_findFields","relativeFormat","src$diff$$","FIELDS","STYLES","_options","_compileMessage","_locales","field","_fields","_getMessage","messages","_messages","_getRelativeUnits","diff","dateNow","diffReport","_selectUnits","diffInUnits","relativeUnits","abs","when","arrIndexOf","thresholds","./diff","27","daysToYears","days","round","from","to","millisecond","week","rawYears","28","dup","29","fromIndex","arr","max","getTime","30","31","html4","atype","NONE","URI","URI_FRAGMENT","SCRIPT","STYLE","ID","IDREF","IDREFS","GLOBAL_NAME","LOCAL_NAME","CLASSES","FRAME_TARGET","ATTRIBS","*::class","*::dir","*::id","*::lang","*::onclick","*::ondblclick","*::onkeydown","*::onkeypress","*::onkeyup","*::onload","*::onmousedown","*::onmousemove","*::onmouseout","*::onmouseover","*::onmouseup","*::style","*::title","a::accesskey","a::coords","a::href","a::hreflang","a::name","a::onblur","a::onfocus","a::rel","a::rev","a::shape","a::tabindex","a::target","a::type","area::accesskey","area::alt","area::coords","area::href","area::nohref","area::onblur","area::onfocus","area::shape","area::tabindex","area::target","bdo::dir","blockquote::cite","br::clear","button::accesskey","button::disabled","button::name","button::onblur","button::onfocus","button::tabindex","button::type","button::value","caption::align","col::align","col::char","col::charoff","col::span","col::valign","col::width","colgroup::align","colgroup::char","colgroup::charoff","colgroup::span","colgroup::valign","colgroup::width","del::cite","del::datetime","dir::compact","div::align","dl::compact","font::color","font::face","font::size","form::accept","form::action","form::autocomplete","form::enctype","form::method","form::name","form::onreset","form::onsubmit","form::target","h1::align","h2::align","h3::align","h4::align","h5::align","h6::align","hr::align","hr::noshade","hr::size","hr::width","iframe::align","iframe::frameborder","iframe::height","iframe::marginheight","iframe::marginwidth","iframe::width","img::align","img::alt","img::border","img::height","img::hspace","img::ismap","img::name","img::src","img::usemap","img::vspace","img::width","input::accept","input::accesskey","input::align","input::alt","input::autocomplete","input::checked","input::disabled","input::ismap","input::maxlength","input::name","input::onblur","input::onchange","input::onfocus","input::onselect","input::readonly","input::size","input::src","input::tabindex","input::type","input::usemap","input::value","ins::cite","ins::datetime","label::accesskey","label::for","label::onblur","label::onfocus","legend::accesskey","legend::align","li::type","li::value","map::name","menu::compact","ol::compact","ol::start","ol::type","optgroup::disabled","optgroup::label","option::disabled","option::label","option::selected","option::value","p::align","pre::width","q::cite","select::disabled","select::multiple","select::name","select::onblur","select::onchange","select::onfocus","select::size","select::tabindex","table::align","table::bgcolor","table::border","table::cellpadding","table::cellspacing","table::frame","table::rules","table::summary","table::width","tbody::align","tbody::char","tbody::charoff","tbody::valign","td::abbr","td::align","td::axis","td::bgcolor","td::char","td::charoff","td::colspan","td::headers","td::height","td::nowrap","td::rowspan","td::scope","td::valign","td::width","textarea::accesskey","textarea::cols","textarea::disabled","textarea::name","textarea::onblur","textarea::onchange","textarea::onfocus","textarea::onselect","textarea::readonly","textarea::rows","textarea::tabindex","tfoot::align","tfoot::char","tfoot::charoff","tfoot::valign","th::abbr","th::align","th::axis","th::bgcolor","th::char","th::charoff","th::colspan","th::headers","th::height","th::nowrap","th::rowspan","th::scope","th::valign","th::width","thead::align","thead::char","thead::charoff","thead::valign","tr::align","tr::bgcolor","tr::char","tr::charoff","tr::valign","ul::compact","ul::type","eflags","OPTIONAL_ENDTAG","EMPTY","CDATA","RCDATA","UNSAFE","FOLDABLE","ELEMENTS","abbr","acronym","address","applet","area","basefont","bdo","big","blockquote","body","br","button","caption","center","cite","col","colgroup","dd","del","dfn","div","dl","dt","em","fieldset","font","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","hr","html","iframe","img","ins","isindex","kbd","label","legend","li","link","menu","meta","noframes","noscript","object","ol","optgroup","param","pre","samp","script","select","small","span","strike","strong","sub","sup","table","tbody","td","textarea","tfoot","th","thead","tr","tt","ul","var","URIEFFECTS","LOADERTYPES","32","uriStr","URI_RE_","nullIfAbsent","scheme","credentials","domain","fragment","uri","encodeIfExists2","URI_DISALLOWED_IN_SCHEME_OR_CREDENTIALS_","encodeIfExists","URI_DISALLOWED_IN_PATH_","setRawQuery","encodeOne","setAllParameters","unescapedPart","encodeURI","normPath","collapse_dots","PARENT_DIRECTORY_HANDLER_RE","baseUri","relativeUri","absoluteUri","clone","overridden","hasScheme","setRawScheme","getRawScheme","hasCredentials","setRawCredentials","getRawCredentials","hasDomain","setRawDomain","getRawDomain","hasPort","rawPath","getRawPath","simplifiedPath","setPort","getPort","EXTRA_PARENT_PATHS_RE","absRawPath","slash","setRawPath","hasQuery","getRawQuery","hasFragment","setRawFragment","getRawFragment","rawScheme","rawCredentials","rawDomain","rawQuery","rawFragment","scheme_","credentials_","domain_","port_","path_","query_","fragment_","paramCache_","matchPart","PARENT_DIRECTORY_HANDLER","RegExp","getScheme","setScheme","newScheme","getCredentials","setCredentials","newCredentials","getDomain","setDomain","newDomain","newPort","getPath","setPath","newPath","hasPath","getQuery","setQuery","newQuery","params","newParams","queryBuf","separator","checkParameterCache_","cgiParams","setParameterValues","newValueIndex","pc","removeParameter","getAllParameters","getParameterValues","paramNameUnescaped","getParameterMap","paramMap","getParameterValue","getFragment","setFragment","newFragment","utils","mimeTypeOf","uriObj","33","lookupEntity","ENTITIES","decimalEscapeRe","hexEscapeRe","entityLookupElement","safeEntityNameRe","innerHTML","textContent","decodeOneEntity","_","stripNULs","nulRe","unescapeEntities","ENTITY_RE_1","escapeAttrib","ampRe","ltRe","gtRe","quotRe","normalizeRCData","rcdata","looseAmpRe","makeSaxParser","handler","hcopy","cdata","comment","endDoc","endTag","pcdata","startDoc","startTag","htmlText","htmlSplit","state","noMoreGT","noMoreEndComments","parseCPS","continuationMaker","initial","tagName","end","current","next","ENTITY_RE_2","continuationMarker","parseEndTag","EFLAGS_TEXT","tag","parseText","parseStartTag","str","re","splitWillCapture","lastPos","parseTagAndAttrs","attrs","endTagRe","first","buf","ATTR_RE","quote","sawQuote","abuf","aName","aValue","decodeValue","makeHtmlSanitizer","tagPolicy","stack","ignoring","tagNameOrig","attribs","eflagsOrig","decision","eflagsRep","tagNameRep","onStack","orig","rep","attribName","stackElOrigTag","stackElRepTag","safeUri","effect","ltype","hints","naiveUriRewriter","parsed","ALLOWED_URI_SCHEMES","safe","log","logger","oldValue","newValue","change","changed","lookupAttribute","attribKey","getLoaderType","getUriEffect","sanitizeAttribs","opt_naiveUriRewriter","opt_nmTokenPolicy","opt_logger","parseCssDeclarations","sanitizedDeclarations","declaration","property","tokens","normProp","sanitizeCssProperty","ueffects","SAME_DOCUMENT","ltypes","SANDBOXED","TYPE","CSS_PROP","XML_ATTR","XML_TAG","makeTagPolicy","sanitizeWithPolicy","inputHtml","outputArray","sanitize","cssSchema","lt","LT","gt","GT","amp","AMP","quot","apos","nbsp","createElement","html_sanitize","Sanitizer","./lib/html4.js","./lib/uri.js","34","util","loggerFactory","bunyan","defaultWidgetModel","ConfigAggregator","getLogger","combine","models","combinedModel","cloneDeep","model","merge","omit","viewmodes","preferences","debug","level","TRACE","trace","../util/logger-factory","../util/util","./default-widget-model","browser-bunyan","35","ConfigParser","opts","configText","36","ConfigReader","read","location","37","widgetModel","height","width","shortName","author","authorHref","authorEmail","license","licenseHref","icons","content","src","encoding","features","38","WidgetRenderer","VError","PromiseExt","Promise","fetch","PreprocessingWidgetRenderer","datasourceResolverFactory","_opts","preprocessorMap","_datasourceResolverFactory","render","widgetInstance","processPromise","isRendered","renderReadyPromises","fetchStartFile","messageBundleUrl","_fetchMessages","datasources","datasourceName","datasourceResolutionContext","_buildDatasourceContext","datasourcePromises","datasource","_fetchDatasource","all","spread","startFileContent","messageBundle","datasourceContext","reduce","renderingContext","assign","preprocess","then","processedStartFileContent","err","postprocess","fetchFunction","isUrlForFile","response","json","context","resolver","getResolver","loadData","itemModel","itemOpts","itemRoot","baseURI","mimeType","processor","startFileHtml","startFileDir","invokeScripts","addPreprocessor","preprocessor","oldProcessor","../util/deduping-fetch","../util/fetch-file","../util/verror","./widget-renderer","promise-extensions","39","ExtPromise","WidgetStorage","WidgetInstanceFactory","WidgetFeatureAugmenter","CONFIG_FILE_NAME","pluginPhases","POST_READ","PRE_RENDER","POST_RENDER","mimeTypes","hbs","handlebars","soy.js","hbs.js","WidgetEngine","config","plugins","widgetInstanceFactory","widgetFeatureAugmenter","failureMessages","validateConfig","warnings","startTime","initialModel","widgetPath","configFile","info","reader","resolvedConfigFile","endsWith","parser","configModels","configAggregator","invokePluginsForPhase","guessContentType","getResolvedStartFilePath","renderer","storage","randomId","init","makeWidget","addFeaturesToWidget","widgetPluginPromises","renderingPromise","endTime","areaNodes","getAreaNodes","addFeature","feature","addPlugin","plugin","destroy","phase","pluginArgs","filter","lastArgs","pluginName","promise","pluginReturnValue","results","./config-aggregator","./config-parser","./config-reader","./widget-feature-augmenter","./widget-instance-factory","./widget-storage","40","featureInstances","findFeatureInstance","featureName","featureInstance","findFeatureConfig","featureConfig","required","featureMap","instance","_init","41","STRING_PROPS","LOCALIZABLE_STRING_PROPS","widget","propName","_lang","possibleLocales","getDescendantLocales","localizedWidgetModels","possibleLocale","getValueFromLocalizedWidgetModels","defaultlocale","defaultLocalizedWidgetModel","getWidth","getHeight","42","makeFullPath","startFile","noResolve","isUrlAbsolute","isUrlSiteRelative","startsWith","joinWithSlash","getWidgetNode","getParentNode","setParentNode","isContainer","getType","startFileName","43","widgetInstanceId","getItem","setItem","readonly","removeItem","clear","44","DatasourceResolverFactory","_resolvers","addResolver","resolverFunc","suitableResolvers","45","resolveExpression","templateString","EXPRESSION_TOKENIZER","token","replaceValue","resolveValue","decodedStr","trimSlashes","SLASHES_REGEXP","resolveParameter","parameter","buildQueryString","resolveQueryString","resolvedParams","46","defaultTestFunc","schema","DatasourceResolver","strategy","_resolverImpl","parentLog","_log","childName","resolveUrl","status","reject","statusText","processResponse","createFactoryFunction","datasourceSchema","Resolver","testFunc","resolverImpl","47","AutoConfigParser","FetchWidgetReader","Html5SeamlessRenderer","Html5LocalStorage","HandlebarsPreprocessor","SoyPreprocessor","ResourceDatasourceResolver","HttpDatasourceResolver","CxpAdditionsPlugin","ReplaceConfigVarsPlugin","BackbaseFormatPlugin","handlebarsPreprocessor","getHandlebarsInstance","configVars","soyPreprocessor","getSoyInstance","Html5WidgetEngine","createLogger","loggerName","logLevel","appendId","widgetEl","factory","getInstance","confMsg","widgetEngine","contextRoot","remoteContextRoot","apiRoot","fullConfigReplacement","postRender","widgetRenderer","angular","widgetNode","angularModule","getAttribute","strictDi","document","ready","bootstrap","parseBoolean","enableCompatibility","bbPluginOpts","csrfToken","addDatasourceResolver","./core/widget-engine","./datasource/datasource-resolver-factory","./plugins/backbase-format-plugin","./plugins/cxp-additions-plugin","./plugins/replace-config-vars-plugin","./strategies/datasource/http-datasource-resolver","./strategies/datasource/resource-datasource-resolver","./strategies/parser/auto-config-parser","./strategies/reader/fetch-widget-reader","./strategies/renderer/html5-seamless-renderer","./strategies/renderer/preprocessors/handlebars-preprocessor","./strategies/renderer/preprocessors/soy-preprocessor","./strategies/storage/html5-local-storage","./util/logger-factory","./util/util","48","portalConf","findChromeNode","hasAttribute","parentNode","widgetHandlers","legacyWidgetApi","IncludeObject","convertToArray","postRead","viewNamespace","preRender","defineItem","bbWidgetInstance","buildWidget","tags","eventTarget","chain","applyPresentationApi","includeElements","getElementsByTagName","includes","gInclude","ensureElementBelongsToItem","refreshIncludes","resultPromises","include","refresh","settleAll","inspections","errorCount","includePromiseInspection","isRejected","gElement","replaceChild","htmlNode","chromeNode","handleLoad","handlePrefModified","handleMaximize","handleRestore","./backbase-format/include-object","./backbase-format/legacy-widget-api","./backbase-format/widget-handlers","49","getStartFileFolder","startFilePath","makeRefAbsolute","DOMParser","doc","parseFromString","imgs","URL","setAttribute","expression","doNextPart","val","isEmpty","makeReferenceAbsolute","../../util/util","50","gIncludeNode","localSource","replaceRegex","startFileFolder","template","proxy","method","className","parameterBuilder","ParameterBuilder","buildParameters","FormData","setURI","getContentURI","_config","p1","getPreference","isUrlDocumentRelative","requestParams","_getRequestParams","requestUrl","_resolveRequestUrl","requestOptions","_getRequestOptions","DEBUG","fetchOptsJson","isRunningOnFilesystem","destination","contentUri","targetQueryParamsString","toQueryString","qStr","urlParam","getQueryParams","queryStr","headers","_constructFormData","formData","acc","queryParam","append","../../util/deduping-fetch","./include-helpers","./include-param-builder","51","IncludeParameterBuilder","_widgetModel","_remoteContextRoot","_contextRoot","_apiRoot","_paramFactoryMap","g:http-param","_buildHttpParam","g:http-proxy-param","_buildHttpProxyParam","g:http-preference-param","_buildPreferenceParam","g:http-preference-param-map","_buildPreferenceParamMap","IncludeParameter","paramTag","includeObject","PreferenceMapParameter","dataType","prefs","prefsOfType","prefName","PreferenceParameter","HttpParameter","isProxy","_flattenElementTree","node","nodeName","parseFunc","rootElement","flatList","currentNode","firstChild","hasChildNodes","nextSibling","includeObj","_typeName","namespace","_prefs","_include","origValue","_replaceRegex","it","52","WIDGET_TYPE","random","nodeValue","margins","top","right","bottom","left","getOwnPropertyNames","myDefinition","sUrl","createModel","warnDeprecatedAccess","setMethods","addEventListener","dispatchEvent","PREF_MODIFIED_EVENT","chainedEvent","StorageEvent","initStorageEvent","attrName","prevValue","applyDomRelatedApi","onloadAttr","widgetParent","widgetSibling","appendChild","insertBefore","refreshHtml","cxpFeature","cxp","rerenderItem","jxid","localName","contextItemName","extendedItemName","parentItemName","securityProfile","uuid","makePreferences","EventTarget","removeEventListener","save","callback","ctx","mockXhr","readyState","setPreference","getPreferenceFromParents","getAreaPreference","getOrderPreference","getDefinition","setAreaPreference","setOrderPreference","order","_items","../../strategies/storage/storage-event","../../util/event-target","./warn-deprecated-access","_process","53","warnUnsupported","isMethod","warnDeprecatedPropertyAccess","unsupportedPropertyDefinitions","unsupportedProperties","defs","set","defineProperties","unsupportedMethods","54","event","gOnloadAttr","getEventAttribute","executeScript","gPrefModifiedAttr","gMaximizeAttr","ev","target","gRestoreAttr","widgetBodyNode","itemName","el","querySelector","widgetId","scriptText","eventName","widgetAccessor","_widgets","eval","msgDetails","55","pref","../util/event-target","56","ReplaceConfigVarsPlugins","varMap","interpolateStartRegex","interpolateEndRegex","excludeObjects","_getExcludeObjects","_traverse","_replaceVars","icon","altContent","alternateContentNames","contentName","templateParams","dsName","templatePrefs","urlVars","urlVar","varRegexp","57","isHttpDatasource","httpSchemaRegexp","_datasource","resolverHelpers","sanitizer","queryString","endpoint","getContentBodyAndTypeFromResponse","../../datasource/datasource-resolver","../../datasource/datasource-resolver-helpers","58","_sanitizeParamName","sanitizeParam","baseUrl","urlComponents","resourcePath","skipSanitization","some","59","defaultParserMap","testFn","backbaseXml","jsObject","parserMap","Parser","parserType","parserConf","configParser","addParserStrategy","../../core/config-parser","../../util/logger-factory","../../util/verror","./backbase-dom-config-parser","./commonjs-package-config-parser","./js-object-parser","60","parseWidget","BackbaseSaxConfigParser","xml","domParser","firstNode","documentElement","getChildElements","./xml/helpers","./xml/widget","61","CommonJsPackageConfigParser","packaged","contributors","email","web","licenses","fullName","../../core/default-widget-model","62","JsObjectParser","63","parseIcons","properties","pushIfExists","thumbnailUrl","parseChildren","childItemParser","childrenEl","getChildElementByName","childrenElements","childComparator","firstArea","cast","nextArea","firstOrder","nextOrder","compare","item","numberValue","parseFloat","isNaN","./helpers","64","PROPERTY_BLACKLIST","SPECIAL_TYPES","NO_LOCALE_NAME","65","parseString","attr","parseViewhint","viewhint","viewhintTrimmed","hint","isExists","assignIfExists","converter","parseBool","bool","toArray","parseFloat_","parseInt_","elementName","children","defaultValue","childEl","childNodes","childNode","66","parseItem","itemEl","propertiesParent","propertyElements","currentLocale","getDefaultLocale","propertiesMap","parseProperty","BLACKLIST","preferencesDict","parseTags","propertyElement","attributes","manageable","localizable","viewhints","viewHint","valueElements","valueElement","parseValue","currentLocaleValue","valueObj","localizedValueObj","langObj","localizedValue","tagElements","parseTag","tagElement","localStorage","getLocalStorage","i18n","probe","Constants","../../../util/i18n","./constants","67","parseXmlString","_parseXmlItemModel","parseList","parseXmlItemModel","itemElement","itemType","itemSpecificParser","getParser","setParser","_typeSpecificParser","createInstance","../../../util/logger-factory","./widget","68","parseContent","common","isManageableArea","parseViewmodes","parseAlternativeContents","datasourceMap","parseDatasources","preferenceNames","datasourcePref","datasourceConfig","parseDatasourceUri","uriObject","paramName","er","propertyNames","sourcePropertyNames","contents","propertyName","preferenceName","viewmodes_str","viewmode","../../../util/util","./common","./item","69","XhrWidgetReader","useCache","responseCache","../../core/config-reader","70","getDomParser","StartFileProcessor","widgetContainerEl","parsingFormat","useFolderLocalization","areaMap","startFileProcessor","startFileSrc","startFileDocument","aggregateStylesheets","normalizeMediaUrls","invokableScripts","collateInvokableScripts","createWidgetRootNode","setDimensions","prepareScripts","compat","offsetWidth","offsetHeight","widgetName","parentElement","chrome","chromeName","removeInlineScripts","removeChild","areas","querySelectorAll","areaEl","_isDataAreaElementFromItem","areaKey","dataAreaEl","../../core/preprocessing-widget-renderer","./seamless/start-file-processor","71","HandlebarsHelpers","HandlebarsIntl","dataObj","cxpConfig","templateCache","cxpHelpers","helperName","intlSupported","errMessage","templateKey","precompiledTemplate","availableLocales","bestFitLocale","chooseBestLocale","helper","registerPartial","partial","../../../util/handlebars-intl-decorator","../../../util/verror","handlebars-helpers","handlebars/dist/handlebars.min","72","guessTemplateNamespace","templateName","isDefined","attempt","soyNamespacePref","soyNamespace","viewNamespacePref","sanitizedViewNamespace","createTemplateItemData","templateData","resourceLoader","soy","configDoc","resources","TemplateName","templateScriptRegex","templateScriptNode","templateSrc","replacePathVars","loadScripts","startFileEl","templateNamespace","renderAsFragment","ij","classList","contains","getElementsByClassName","areaNode","outerHTML","../seamless/resource-loader","73","ResourceLoader","_initilized","_allLoadingPromises","_loaderInstance","asyncSupported","async","_prepopulateLoadedCache","preloadedLinks","isLoadable","_addToCache","preloadedScripts","_getFromCache","_normalizeKey","resourceUrl","decodeURI","scripts","_loadScriptsAsync","_loadScriptsSync","scriptLoadPromises","scriptPromise","scriptEl","_createScriptPromise","loadScript","scriptTuple","scriptTuples","scriptPromises","tuple","startOfChainPromise","loadNextScript","onload","onerror","loadCss","hrefs","currentBatch","stylePromise","newLinkEl","sheetLinksEls","lastLinkEl","74","documentContext","_scriptKeySuffix","addToBatch","linkElem","linkUrl","_normalizeResourceUrl","externalStylesBatch","loadBatch","styleAndLinkElements","elem","scriptElements","processedScripts","scriptElement","scriptContent","startFileBody","onloadAttribute","imageElements","imageElement","originalSrc","startFileBodyElement","bodyAttr","specified","setDimension","widthOrHeight","scriptKey","_getScriptKey","scriptStart","scriptEnd","externalScriptElements","scriptSources","failedScripts","scriptLoadInspection","rejected","reason","scriptFn","docRoot","./resource-loader","75","./web-storage-decorator","76","canBubble","cancellable","storageArea","77","WebStorageDecorator","_storage","_prefix","_eventsEnabled","configurable","_getItemDefinition","propertyDescriptor","_ensureItemWritable","_notify","prefix","oldVal","newVal","eventTargets","storageEvent","itemDefinition","errorMessage","../../core/widget-storage","./storage-event","78","addToCache","ttl","cacheItem","createCacheItem","fetchPromiseCache","timeoutId","removeOnExpire","getFromCache","setLastAccessedTime","expire","elapsedTime","lastAccessed","initOptions","clearCache","cacheKey","timestamp","cacheItemProto","created","fetchFile","EXPIRE_TIMESPAN","putInCache","responsePromise","fetchFunc","_response","./fetch-file","./logger-factory","./util","79","configure","listener","dispatch","handleEvent","PREFIX","80","xhr","XMLHttpRequest","Response","responseText","open","send","81","mockInstance","formatNumberOriginal","handlebars-intl","82","RTL_LOCALES","getDirection","desiredLocale","candidate","83","loggerMap","lastLogger","defaultLoggerName","defaultLogLevel","streams","stream","ConsoleFormattedStream","resolveLevel","84","Boolean","absoluteRegex","urlIsAbsoluteForFile","urlIsRelativeForFile","position","subjectString","lastIndex","formatRegExp","descendantLocales","previousDescendant","contentType","descendantEl","itemNameFromParentEl","parentEl","lodash/lang/cloneDeep","lodash/object/assign","lodash/object/merge","lodash/object/omit","85","causedBy","tailmsg","strict","jse_shortmsg","jse_summary","cause","jse_cause","captureStackTrace","constructorOpt","callee","hasCode","codes","86","objCopy","copy","extractSrcFromStacktrace","stackLines","CALL_STACK_ERROR","targetLine","lineInfo","execResult","_indent","indent","lines","_warn","msg","dedupKey","_warned","_haveWarned","ConsoleRawStream","nameOrNum","levelFromName","Logger","_childOptions","_childSimple","serializers","_isSimpleChild","_level","parentFieldNames","names","closeOnExit","POSITIVE_INFINITY","addStream","addSerializers","_applySerializers","mkLogEmitter","minLevel","mkRecord","excludeFields","stdSerializers","msgArgs","rec","recFields","levelName","nameFromLevel","LOG_VERSION","_emit","getFullErrorStack","ex","ret","cex","safeCycles","seen","VERSION","write","INFO","WARN","ERROR","padZeros","levelCss","defaultCss","msgCss","srcCss","FATAL","getHours","getMinutes","getSeconds","getMilliseconds","fatal","defaultLevel","raw","haveNonRawStreams","serializer","simple","newLevel","levels","noemit","signal","87","range","accum","sign","rangeLength","withPreference","getPreferenceValue","divide","v1","v2","equal","hasViewHint","inverse","getViewHint","viewHintType","viewHintsMap","designmode","role","viewHintTypeLength","matchedViewHint","parsedOrder","eachOption","optionName","hbOptions","selectOptions","or","and","every","not","getConfig","hasViewmode","givenViewmode","currentViewmode","allowEdit","securityProfiles","CONTRIBUTOR","regex","ADMIN","CREATOR","COLLABORATOR","CONSUMER","88","d","c","loaded","precompile","AST","JavaScriptCompiler","__esModule","g","Visitor","default","HandlebarsEnvironment","Exception","VM","partials","decorators","registerDefaultHelpers","registerDefaultDecorators","COMPILER_REVISION","REVISION_CHANGES","unregisterHelper","unregisterPartial","registerDecorator","unregisterDecorator","toHTML","_parent","blockParams","appendContextPath","&","<",">","\"","'","`","=","isFunction","loc","lineNumber","ids","each","contextPath","includeZero","methodMap","lookupLevel","resolvePartial","invokePartial","compilerOptions","main","_setup","useData","useBlockParams","useDepths","depths","decorator","main_d","checkRevision","lookup","lambda","programs","program","compilerInfo","isTop","usePartial","useDecorators","_child","depth","wrapProgram","noConflict","helperExpression","scopedId","original","simpleId","yy","locInfo","SourceLocation","srcName","accept","symbols_","EOF","program_repetition0","statement","mustache","block","rawBlock","partialBlock","COMMENT","CONTENT","openRawBlock","rawBlock_repetition_plus0","END_RAW_BLOCK","OPEN_RAW_BLOCK","openRawBlock_repetition0","openRawBlock_option0","CLOSE_RAW_BLOCK","openBlock","block_option0","closeBlock","openInverse","block_option1","OPEN_BLOCK","openBlock_repetition0","openBlock_option0","openBlock_option1","CLOSE","OPEN_INVERSE","openInverse_repetition0","openInverse_option0","openInverse_option1","openInverseChain","OPEN_INVERSE_CHAIN","openInverseChain_repetition0","openInverseChain_option0","openInverseChain_option1","inverseAndProgram","INVERSE","inverseChain","inverseChain_option0","OPEN_ENDBLOCK","OPEN","mustache_repetition0","mustache_option0","OPEN_UNESCAPED","mustache_repetition1","mustache_option1","CLOSE_UNESCAPED","OPEN_PARTIAL","partialName","partial_repetition0","partial_option0","openPartialBlock","OPEN_PARTIAL_BLOCK","openPartialBlock_repetition0","openPartialBlock_option0","sexpr","OPEN_SEXPR","sexpr_repetition0","sexpr_option0","CLOSE_SEXPR","hash_repetition_plus0","hashSegment","EQUALS","OPEN_BLOCK_PARAMS","blockParams_repetition_plus0","CLOSE_BLOCK_PARAMS","dataName","STRING","NUMBER","BOOLEAN","UNDEFINED","NULL","DATA","pathSegments","SEP","$accept","$end","terminals_","productions_","performAction","$","prepareProgram","stripComment","strip","stripFlags","_$","prepareRawBlock","prepareBlock","chained","prepareMustache","preparePartialBlock","pairs","preparePath","defaultActions","91","102","105","111","112","117","120","123","124","136","137","parseError","lexer","lex","setInput","yylloc","ranges","showPosition","yylineno","yytext","yyleng","first_line","last_line","first_column","last_column","_input","_more","_less","done","matched","conditionStack","unput","more","less","pastInput","upcomingInput","_currentRules","rules","flex","matches","begin","popState","conditions","topState","pushState","mu","inclusive","emu","com","INITIAL","rightStripped","leftStripped","Program","ignoreStandalone","isRootSeen","openStandalone","closeStandalone","inlineStandalone","close","BlockStatement","DecoratorBlock","PartialBlockStatement","openStrip","closeStrip","inverseStrip","Decorator","MustacheStatement","PartialStatement","CommentStatement","parents","acceptRequired","acceptArray","acceptKey","mutating","ContentStatement","SubExpression","PathExpression","StringLiteral","NumberLiteral","BooleanLiteral","UndefinedLiteral","NullLiteral","Hash","HashPair","escaped","equals","opcodes","opcode","guid","sourceNode","stringParams","trackIds","knownHelpers","helperMissing","blockHelperMissing","if","unless","with","compileProgram","isSimple","classifySexpr","helperSexpr","simpleSexpr","ambiguousSexpr","setupFullMustacheParams","explicitPartialContext","preventIndent","noEscape","knownHelpersOnly","falsy","addDepth","blockParamIndex","pushParam","pushParams","popStack","nameLookup","aliasable","quotedString","isValidJavaScriptVariableName","depthedLookup","appendToBuffer","wrap","environment","initializeBuffer","isChild","environments","preamble","stackSlot","stackVars","aliases","registers","list","hashes","compileStack","inlineStack","compileChildren","currentLocation","pushSource","prepend","createFunctionContext","objectLiteral","toStringWithSourceMap","destName","lastContext","referenceCount","mergeSource","forceBuffer","add","blockValue","contextName","setupHelperArgs","functionCall","ambiguousBlockValue","flushInline","topStack","lastHelper","appendContent","pendingContent","pendingLocation","isInline","replaceStack","appendEscaped","getContext","pushContext","pushStackLiteral","lookupOnContext","resolvePath","lookupBlockParam","lookupData","assumeObjects","resolvePossibleLambda","pushStringParam","pushString","emptyHash","pushHash","types","contexts","popHash","pushLiteral","pushProgram","programExpression","invokeHelper","setupHelper","callParams","invokeKnownHelper","invokeAmbiguous","useRegister","paramsInit","setupParams","assignToHash","pushId","matchExistingProgram","incrStack","topStackName","hashIds","hashTypes","hashContexts","generateArray","RESERVED_WORDS","srcFile","empty","generateList","89","restParam","func","FUNC_ERROR_TEXT","nativeMax","otherArgs","90","SetCache","nativeCreate","Set","cachePush","getNative","./cachePush","./getNative","arrayCopy","92","arrayEach","iteratee","93","arrayMap","94","arrayPush","95","assignWith","customizer","../object/keys","96","baseAssign","baseCopy","./baseCopy","97","baseClone","isDeep","stackA","stackB","isArr","initCloneArray","objToString","isFunc","funcTag","objectTag","argsTag","cloneableTags","initCloneByTag","initCloneObject","baseForOwn","subValue","arrayTag","boolTag","dateTag","errorTag","mapTag","numberTag","regexpTag","setTag","stringTag","weakMapTag","arrayBufferTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","objectProto","../lang/isArray","../lang/isObject","./arrayCopy","./arrayEach","./baseAssign","./baseForOwn","./initCloneArray","./initCloneByTag","./initCloneObject","98","99","baseDifference","baseIndexOf","isCommon","LARGE_ARRAY_SIZE","createCache","valuesLength","cacheIndexOf","outer","valuesIndex","./baseIndexOf","./cacheIndexOf","./createCache","100","baseFlatten","isStrict","isObjectLike","isArrayLike","isArguments","../lang/isArguments","./arrayPush","./isArrayLike","./isObjectLike","101","createBaseFor","baseFor","./createBaseFor","baseForIn","keysIn","../object/keysIn","./baseFor","103","104","indexOfNaN","./indexOfNaN","baseMerge","isSrcArr","isTypedArray","srcValue","baseMergeDeep","../lang/isTypedArray","./baseMergeDeep","106","mergeFunc","isPlainObject","toPlainObject","../lang/isPlainObject","../lang/toPlainObject","107","baseProperty","108","bindCallback","thisArg","argCount","identity","collection","accumulator","../utility/identity","109","bufferClone","buffer","ArrayBuffer","byteLength","view","Uint8Array","110","has","createAssigner","assigner","guard","isIterateeCall","../function/restParam","./bindCallback","./isIterateeCall","113","fromRight","keysFunc","iterable","toObject","./toObject","114","./SetCache","115","getLength","./baseProperty","116","isNative","../lang/isNative","118","119","Ctor","byteOffset","reFlags","./bufferClone","121","isLength","./getLength","./isLength","122","isIndex","reIsUint","MAX_SAFE_INTEGER","./isIndex","125","126","pickByArray","127","pickByCallback","predicate","./baseForIn","128","shimKeys","propsLength","allowIndexes","129","130","../internal/baseClone","../internal/bindCallback","131","propertyIsEnumerable","../internal/isArrayLike","../internal/isObjectLike","132","nativeIsArray","../internal/getNative","../internal/isLength","133","./isObject","134","reIsNative","fnToString","reIsHostCtor","./isFunction","135","../internal/baseForIn","./isArguments","typedArrayTags","138","../internal/baseCopy","139","../internal/assignWith","../internal/baseAssign","../internal/createAssigner","140","nativeKeys","../internal/shimKeys","141","isProto","skipIndexes","../internal/isIndex","142","../internal/baseMerge","143","../internal/arrayMap","../internal/baseDifference","../internal/baseFlatten","../internal/pickByArray","../internal/pickByCallback","./keysIn","144","145","createInspectionObject","resolved","valueOrReason","insp","isFulfilled","isResolved","applyExtensions","delay","fnAsPromise","reflect","setImmediate","delegateToInstance","methods","__instance","delegateToStatic","delegate","decorate","promiseFunc","PromiseExtensions","executor","Constructor","promiseImpl","146","createConfiguration","cxpOptions","CxpConfiguration","cxpUtil","logStreams","settings","newConfig","enable","disable","enabled","disabled","toSerializableObject","stringifyBlacklist","Configuration","./cxp-util","147","148","BreadcrumbDatasourceResolver","linkId","endpointUrl","backbase-widget-engine/src/datasource/datasource-resolver","backbase-widget-engine/src/datasource/datasource-resolver-helpers","149","ContentrenderedDatasourceResolver","ASSET_PARAM","resolvedParam","contentId","encodedParams","assetsParam","localAssets","_makeReferenceAbsolute","_getElementObjectsByAttr","absHref","backbase-widget-engine/src/util/util","150","LinkDatasourceResolver","xmlModelParser","depthParamExists","portalName","links","../model/parsers/xml/model-parser","151","NavigationDatasourceResolver","152","PortalDatasourceResolver","153","configuration","xmlCxpModel","getRenderer","getModel","./configuration/configuration.js","./model/strategies/xml-cxp-model","./render/render.js","154","ItemCollectionContext","_portalName","_filter","_requiredParams","_getRequiredParams","_logger","ps","operator","155","ItemContext","findById","_findById","isInDesignmode","update","revert","remove","156","modifyPreference","valueType","preference","generateUUID","d0","d1","d2","d3","lut","generateItemName","157","Model","modelHelpers","items","itemById","itemId","portal","../core/model-helpers","158","PortalContext","159","RestApiConsumer","determineContentType","getCsrfToken","_encodeQueryParameters","_buildUrl","_makeRequest","Pragma","Cache-Control","post","put","../../util","backbase-widget-engine/src/util/deduping-fetch","160","generateProperty","ITEM_PROPERTY_NAMES","BASIC_PROPERTIES","additionalProperties","beginElement","endElement","blacklist","./property-generator","161","XmlBuilder","baseXmlGenerator","./base-xml-generator","./xml-builder","162","163","markedForDeletion","generateValues","buildValueElement","localeName","backbase-widget-engine/src/strategies/parser/xml/constants","164","WIDGET_PROPERTIES","165","escapeXML","xmlSpecialCharRegexp","char","xmlEntityMap","convertToString","_xml","attributesString","valueStr","166","generateContainer","widgetGenerator","generateWidget","generate","methodName","generateCatalog","catalogItems","xmlBuilder","generatePage","generateLink","./link-xml-generator","./page-xml-generator","./widget-xml-generator","167","parseLink","linkParsers","parseHeader","navPattern","parsePage","itemRef","ItemRef","generatedUrl","parseDivider","parseExternalLink","parseRedirect","redirectionMethod","targetPage","parseAlias","parseState","State","sectionName","LINK","divider","page","externalLink","redirect","alias","../../../util","backbase-widget-engine/src/strategies/parser/xml/helpers","backbase-widget-engine/src/strategies/parser/xml/item","168","parsePortal","baseModelParser","./link","./page","./portal","backbase-widget-engine/src/strategies/parser/xml/model-parser","169","pageEl","backbase-widget-engine/src/strategies/parser/xml/common","backbase-widget-engine/src/strategies/parser/xml/widget","170","portalEl","171","XmlCxpModel","XmlPortalContext","../core/model","./xml-portal-context","172","XmlItemCollectionContext","filters","_apiConsumer","restApiConsumer","xmlGenerator","requiredParams","filterQuery","requiredParamsQuery","xmlString","requiredFields","itemXml","newItemXml","../core/item-collection-context","../core/rest-api-consumer","../generators/xml-generator","../parsers/xml/model-parser","173","XmlItemContext","_getItemById","_getItemByName","_buildParams","itemEndpointPart","endpointEnding","allLocalizedValues","itemTypePlural","itemTypeEndpointPart","modelToSave","modelXml","../core/item-context","174","_getPortalName","../core/portal-context","./xml-item-collection-context","./xml-item-context","175","Html5ItemRenderer","createRenderer","./strategies/html5-item-renderer","176","ChromeRenderer","CHROME_VIEWMODES","dataChromeAttr","dataWidgetHolderAttr","chromeTemplatePromises","handlebarsInstance","getChrome","itemRootElement","chromeEl","_findChromeElement","holderEl","_findWidgetHolderElement","chromeElement","widgetHolderElement","_renderChrome","useChrome","ownerDocument","templatePromise","_getTemplate","templateHtml","tempEl","chromeUrl","compiledTemplatePromise","templateBody","rootNode","177","ContentDatasourceResolver","_widgetEngines","_chromeRenderer","_datasourceResolvers","modelList","modelCopy","_render","treeRenderInspections","failures","_flattenArray","inspection","errCount","_renderItem","domNode","engine","storageFactory","engineResult","destroyAllItems","destroyItem","engineIndex","oldItemId","oldItemName","placeholder","itemChrome","newChrome","firstElementChild","chromePromises","chromeArr","itemChromeMapList","renderResults","itemChromeMap","_attachChrome","childenRenderResults","fulfilled","itemRenderResult","childrenModels","childrenForArea","currentAreaPref","refNode","hostEl","prevChromeNode","nextElementSibling","flatten","flattened","../../datasource/breadcrumb-datasource-resolver","../../datasource/contentrendered-datasource-resolver","../../datasource/link-datasource-resolver","../../datasource/navigation-datasource-resolver","../../datasource/portal-datasource-resolver","./chrome-renderer","backbase-widget-engine","178","lodash/lang/isObject","179","180","resetTriggers","triggers","__resizeTriggers__","expand","contract","lastElementChild","expandChild","scrollLeft","scrollWidth","scrollTop","scrollHeight","checkTriggers","__resizeLast__","scrollListener","__resizeRAF__","cancelFrame","requestFrame","__resizeListeners__","createStyles","stylesCreated","css","animationKeyframes","animationStyle","styleSheet","cssText","createTextNode","attachEvent","raf","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","cancel","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","animation","animationstring","keyframeprefix","animationstartevent","domPrefixes","startEvents","pfx","elm","animationName","addResizeListener","getComputedStyle","removeResizeListener","detachEvent","181","nativeParse","markup","implementation","createHTMLDocument","system_scroll","scroll","y","mobile","scrollTo","182","b$","publish","channelName","flush","eventType","mainBus","subscribe","unsubscribe","channel","channelPrefix","getEventKey","pubsubImpl","Class","Channel","callbacks","fChannelCallback","EventBus","channels","fCallback","oMessage","183","widgetRoot","localContextRoot","portalModel","Renderer","isSafariOrUiWebview","navigator","userAgent","iosBridge","getElementById","gadgets","pubsub","renderWidget","./common/dom-parser-polyfill","./common/pubsub","./platforms/android/android-page-renderer","./platforms/ios/ios-bridge","./platforms/ios/ios-page-renderer","javascript-detect-element-resize","184","BufferedLogStream","size","decoratedStreams","decorateStream","185","ConsolePlainStream","printLevel","printTimestamp","getTimestamp","logMethod","186","IFrameBridgeLogStream","187","PageRenderer","ConsolePlainLogStream","AndroidPageRenderer","_createLogStreams","_renderForPlatform","rootEl","resizeElement","resizeCallback","resize","itemLoaded","../../logging/console-plain-log-stream","../../render/page-renderer","188","encodeURIExtras","addIframe","reload","resizeTo","payload","executePlugin","callPlugin","_callbackId","_unsubscribe","_success","_error","keep","__send","setRequestHeader","189","IOSPageRenderer","consoleStream","bufferedLogStream","iframeBridgeLogStream","../../logging/buffered-log-stream","../../logging/iframe-bridge-log-stream","190","featureList","widgetModelAlreadyHasFeature","widgetFeature","191","192","png","jpg","jpeg","gif","js","htmlCollection","htmlToElement","replaceInclude","newInclude","createContentUrl","parseXmlText","urlToMimeType","extension","sendEvent","createEvent","initEvent","contextToServer","mangleName","readStorage","cb","persistentStorage","PersistentStorage","writeStorage","deleteFromStorage","getDataUri","image","Image","canvas","naturalWidth","naturalHeight","drawImage","toDataURL","fetchContent","chunks","chunk","resolveContent","widgetContentsUpdated","contentsCached","cxp-web-apis/src/util/deduping-fetch","193","cxpWebApis","addFeaturePlugin","exposeChildrenPlugin","mocPlugin","CSRF_TOKEN_COOKIE_NAME","CSRF_TOKEN_HEADER_NAME","csrfTokenCookieValue","../plugins/add-feature-plugin","../plugins/expose-children-plugin","../plugins/mobile-optimised-content-plugin","cxp-web-apis"],"mappings":"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","file":"web-sdk-mobile.min.js","sourcesContent":["/**\n * Backbase Web SDK for Android and iOS webviews - Copyright © 2017 Backbase B.V - All Rights Reserved\n * Version 6.0.0-b197\n * http://www.backbase.com\n */\n(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\n},{}],2:[function(require,module,exports){\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],3:[function(require,module,exports){\n(function (global){\n/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],4:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\n},{}],5:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n\n},{}],6:[function(require,module,exports){\n'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n\n},{\"./decode\":4,\"./encode\":5}],7:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar punycode = require('punycode');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a puny coded representation of \"domain\".\n      // It only converts the part of the domain name that\n      // has non ASCII characters. I.e. it dosent matter if\n      // you call it with a domain that already is in ASCII.\n      var domainArray = this.hostname.split('.');\n      var newOut = [];\n      for (var i = 0; i < domainArray.length; ++i) {\n        var s = domainArray[i];\n        newOut.push(s.match(/[^A-Za-z0-9_-]/) ?\n            'xn--' + punycode.encode(s) : s);\n      }\n      this.hostname = newOut.join('.');\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  Object.keys(this).forEach(function(k) {\n    result[k] = this[k];\n  }, this);\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    Object.keys(relative).forEach(function(k) {\n      if (k !== 'protocol')\n        result[k] = relative[k];\n    });\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      Object.keys(relative).forEach(function(k) {\n        result[k] = relative[k];\n      });\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especialy happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!isNull(result.pathname) || !isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host) && (last === '.' || last === '..') ||\n      last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last == '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especialy happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!isNull(result.pathname) || !isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n\nfunction isString(arg) {\n  return typeof arg === \"string\";\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isNull(arg) {\n  return arg === null;\n}\nfunction isNullOrUndefined(arg) {\n  return  arg == null;\n}\n\n},{\"punycode\":3,\"querystring\":6}],8:[function(require,module,exports){\n/* jshint node:true */\n'use strict';\n\n// Add all locale data to `HandlebarsIntl`. This module will be ignored when\n// bundling for the browser with Browserify/Webpack.\nrequire('./lib/locales');\n\nexports = module.exports = require('./lib/handlebars-intl');\n\n},{\"./lib/handlebars-intl\":10,\"./lib/locales\":1}],9:[function(require,module,exports){\n// GENERATED FILE\n\"use strict\";\nexports[\"default\"] = {\"locale\":\"en\",\"pluralRuleFunction\":function (n,ord){var s=String(n).split(\".\"),v0=!s[1],t0=Number(s[0])==n,n10=t0&&s[0].slice(-1),n100=t0&&s[0].slice(-2);if(ord)return n10==1&&n100!=11?\"one\":n10==2&&n100!=12?\"two\":n10==3&&n100!=13?\"few\":\"other\";return n==1&&v0?\"one\":\"other\"},\"fields\":{\"year\":{\"displayName\":\"Year\",\"relative\":{\"0\":\"this year\",\"1\":\"next year\",\"-1\":\"last year\"},\"relativeTime\":{\"future\":{\"one\":\"in {0} year\",\"other\":\"in {0} years\"},\"past\":{\"one\":\"{0} year ago\",\"other\":\"{0} years ago\"}}},\"month\":{\"displayName\":\"Month\",\"relative\":{\"0\":\"this month\",\"1\":\"next month\",\"-1\":\"last month\"},\"relativeTime\":{\"future\":{\"one\":\"in {0} month\",\"other\":\"in {0} months\"},\"past\":{\"one\":\"{0} month ago\",\"other\":\"{0} months ago\"}}},\"day\":{\"displayName\":\"Day\",\"relative\":{\"0\":\"today\",\"1\":\"tomorrow\",\"-1\":\"yesterday\"},\"relativeTime\":{\"future\":{\"one\":\"in {0} day\",\"other\":\"in {0} days\"},\"past\":{\"one\":\"{0} day ago\",\"other\":\"{0} days ago\"}}},\"hour\":{\"displayName\":\"Hour\",\"relativeTime\":{\"future\":{\"one\":\"in {0} hour\",\"other\":\"in {0} hours\"},\"past\":{\"one\":\"{0} hour ago\",\"other\":\"{0} hours ago\"}}},\"minute\":{\"displayName\":\"Minute\",\"relativeTime\":{\"future\":{\"one\":\"in {0} minute\",\"other\":\"in {0} minutes\"},\"past\":{\"one\":\"{0} minute ago\",\"other\":\"{0} minutes ago\"}}},\"second\":{\"displayName\":\"Second\",\"relative\":{\"0\":\"now\"},\"relativeTime\":{\"future\":{\"one\":\"in {0} second\",\"other\":\"in {0} seconds\"},\"past\":{\"one\":\"{0} second ago\",\"other\":\"{0} seconds ago\"}}}}};\n\n\n},{}],10:[function(require,module,exports){\n/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\n\n/* jshint esnext: true */\n\n\"use strict\";\nexports.__addLocaleData = __addLocaleData;\nvar intl$messageformat$$ = require(\"intl-messageformat\"), intl$relativeformat$$ = require(\"intl-relativeformat\"), src$helpers$$ = require(\"./helpers.js\"), src$en$$ = require(\"./en.js\");\nfunction __addLocaleData(data) {\n    intl$messageformat$$[\"default\"].__addLocaleData(data);\n    intl$relativeformat$$[\"default\"].__addLocaleData(data);\n}\n\n__addLocaleData(src$en$$[\"default\"]);\nexports.registerWith = src$helpers$$.registerWith;\n\n\n},{\"./en.js\":9,\"./helpers.js\":11,\"intl-messageformat\":16,\"intl-relativeformat\":25}],11:[function(require,module,exports){\n/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\n\n/* jshint esnext: true */\n\n\"use strict\";\nvar intl$messageformat$$ = require(\"intl-messageformat\"), intl$relativeformat$$ = require(\"intl-relativeformat\"), intl$format$cache$$ = require(\"intl-format-cache\"), src$utils$$ = require(\"./utils.js\");\n\n// -----------------------------------------------------------------------------\n\nvar getNumberFormat   = intl$format$cache$$[\"default\"](Intl.NumberFormat);\nvar getDateTimeFormat = intl$format$cache$$[\"default\"](Intl.DateTimeFormat);\nvar getMessageFormat  = intl$format$cache$$[\"default\"](intl$messageformat$$[\"default\"]);\nvar getRelativeFormat = intl$format$cache$$[\"default\"](intl$relativeformat$$[\"default\"]);\n\nfunction registerWith(Handlebars) {\n    var SafeString  = Handlebars.SafeString,\n        createFrame = Handlebars.createFrame,\n        escape      = Handlebars.Utils.escapeExpression;\n\n    var helpers = {\n        intl             : intl,\n        intlGet          : intlGet,\n        formatDate       : formatDate,\n        formatTime       : formatTime,\n        formatRelative   : formatRelative,\n        formatNumber     : formatNumber,\n        formatMessage    : formatMessage,\n        formatHTMLMessage: formatHTMLMessage,\n\n        // Deprecated helpers (renamed):\n        intlDate       : deprecate('intlDate', formatDate),\n        intlTime       : deprecate('intlTime', formatTime),\n        intlNumber     : deprecate('intlNumber', formatNumber),\n        intlMessage    : deprecate('intlMessage', formatMessage),\n        intlHTMLMessage: deprecate('intlHTMLMessage', formatHTMLMessage)\n    };\n\n    for (var name in helpers) {\n        if (helpers.hasOwnProperty(name)) {\n            Handlebars.registerHelper(name, helpers[name]);\n        }\n    }\n\n    function deprecate(name, suggestion) {\n        return function () {\n            if (typeof console !== 'undefined' &&\n                typeof console.warn === 'function') {\n\n                console.warn(\n                    '{{' + name + '}} is deprecated, use: ' +\n                    '{{' + suggestion.name + '}}'\n                );\n            }\n\n            return suggestion.apply(this, arguments);\n        };\n    }\n\n    // -- Helpers --------------------------------------------------------------\n\n    function intl(options) {\n        /* jshint validthis:true */\n\n        if (!options.fn) {\n            throw new Error('{{#intl}} must be invoked as a block helper');\n        }\n\n        // Create a new data frame linked the parent and create a new intl data\n        // object and extend it with `options.data.intl` and `options.hash`.\n        var data     = createFrame(options.data),\n            intlData = src$utils$$.extend({}, data.intl, options.hash);\n\n        data.intl = intlData;\n\n        return options.fn(this, {data: data});\n    }\n\n    function intlGet(path, options) {\n        var intlData  = options.data && options.data.intl,\n            pathParts = path.split('.');\n\n        var obj, len, i;\n\n        // Use the path to walk the Intl data to find the object at the given\n        // path, and throw a descriptive error if it's not found.\n        try {\n            for (i = 0, len = pathParts.length; i < len; i++) {\n                obj = intlData = intlData[pathParts[i]];\n            }\n        } finally {\n            if (obj === undefined) {\n                throw new ReferenceError('Could not find Intl object: ' + path);\n            }\n        }\n\n        return obj;\n    }\n\n    function formatDate(date, format, options) {\n        date = new Date(date);\n        assertIsDate(date, 'A date or timestamp must be provided to {{formatDate}}');\n\n        if (!options) {\n            options = format;\n            format  = null;\n        }\n\n        var locales       = options.data.intl && options.data.intl.locales;\n        var formatOptions = getFormatOptions('date', format, options);\n\n        return getDateTimeFormat(locales, formatOptions).format(date);\n    }\n\n    function formatTime(date, format, options) {\n        date = new Date(date);\n        assertIsDate(date, 'A date or timestamp must be provided to {{formatTime}}');\n\n        if (!options) {\n            options = format;\n            format  = null;\n        }\n\n        var locales       = options.data.intl && options.data.intl.locales;\n        var formatOptions = getFormatOptions('time', format, options);\n\n        return getDateTimeFormat(locales, formatOptions).format(date);\n    }\n\n    function formatRelative(date, format, options) {\n        date = new Date(date);\n        assertIsDate(date, 'A date or timestamp must be provided to {{formatRelative}}');\n\n        if (!options) {\n            options = format;\n            format  = null;\n        }\n\n        var locales       = options.data.intl && options.data.intl.locales;\n        var formatOptions = getFormatOptions('relative', format, options);\n        var now           = options.hash.now;\n\n        // Remove `now` from the options passed to the `IntlRelativeFormat`\n        // constructor, because it's only used when calling `format()`.\n        delete formatOptions.now;\n\n        return getRelativeFormat(locales, formatOptions).format(date, {\n            now: now\n        });\n    }\n\n    function formatNumber(num, format, options) {\n        assertIsNumber(num, 'A number must be provided to {{formatNumber}}');\n\n        if (!options) {\n            options = format;\n            format  = null;\n        }\n\n        var locales       = options.data.intl && options.data.intl.locales;\n        var formatOptions = getFormatOptions('number', format, options);\n\n        return getNumberFormat(locales, formatOptions).format(num);\n    }\n\n    function formatMessage(message, options) {\n        if (!options) {\n            options = message;\n            message = null;\n        }\n\n        var hash = options.hash;\n\n        // TODO: remove support form `hash.intlName` once Handlebars bugs with\n        // subexpressions are fixed.\n        if (!(message || typeof message === 'string' || hash.intlName)) {\n            throw new ReferenceError(\n                '{{formatMessage}} must be provided a message or intlName'\n            );\n        }\n\n        var intlData = options.data.intl || {},\n            locales  = intlData.locales,\n            formats  = intlData.formats;\n\n        // Lookup message by path name. User must supply the full path to the\n        // message on `options.data.intl`.\n        if (!message && hash.intlName) {\n            message = intlGet(hash.intlName, options);\n        }\n\n        // When `message` is a function, assume it's an IntlMessageFormat\n        // instance's `format()` method passed by reference, and call it. This\n        // is possible because its `this` will be pre-bound to the instance.\n        if (typeof message === 'function') {\n            return message(hash);\n        }\n\n        if (typeof message === 'string') {\n            message = getMessageFormat(message, locales, formats);\n        }\n\n        return message.format(hash);\n    }\n\n    function formatHTMLMessage() {\n        /* jshint validthis:true */\n        var options = [].slice.call(arguments).pop(),\n            hash    = options.hash;\n\n        var key, value;\n\n        // Replace string properties in `options.hash` with HTML-escaped\n        // strings.\n        for (key in hash) {\n            if (hash.hasOwnProperty(key)) {\n                value = hash[key];\n\n                // Escape string value.\n                if (typeof value === 'string') {\n                    hash[key] = escape(value);\n                }\n            }\n        }\n\n        // Return a Handlebars `SafeString`. This first unwraps the result to\n        // make sure it's not returning a double-wrapped `SafeString`.\n        return new SafeString(String(formatMessage.apply(this, arguments)));\n    }\n\n    // -- Utilities ------------------------------------------------------------\n\n    function assertIsDate(date, errMsg) {\n        // Determine if the `date` is valid by checking if it is finite, which\n        // is the same way that `Intl.DateTimeFormat#format()` checks.\n        if (!isFinite(date)) {\n            throw new TypeError(errMsg);\n        }\n    }\n\n    function assertIsNumber(num, errMsg) {\n        if (typeof num !== 'number') {\n            throw new TypeError(errMsg);\n        }\n    }\n\n    function getFormatOptions(type, format, options) {\n        var hash = options.hash;\n        var formatOptions;\n\n        if (format) {\n            if (typeof format === 'string') {\n                formatOptions = intlGet('formats.' + type + '.' + format, options);\n            }\n\n            formatOptions = src$utils$$.extend({}, formatOptions, hash);\n        } else {\n            formatOptions = hash;\n        }\n\n        return formatOptions;\n    }\n}\nexports.registerWith = registerWith;\n\n\n},{\"./utils.js\":12,\"intl-format-cache\":13,\"intl-messageformat\":16,\"intl-relativeformat\":25}],12:[function(require,module,exports){\n/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\n\n/* jshint esnext: true */\n\n\"use strict\";\n\n// -----------------------------------------------------------------------------\n\nfunction extend(obj) {\n    var sources = Array.prototype.slice.call(arguments, 1),\n        i, len, source, key;\n\n    for (i = 0, len = sources.length; i < len; i += 1) {\n        source = sources[i];\n        if (!source) { continue; }\n\n        for (key in source) {\n            if (source.hasOwnProperty(key)) {\n                obj[key] = source[key];\n            }\n        }\n    }\n\n    return obj;\n}\nexports.extend = extend;\n\n\n},{}],13:[function(require,module,exports){\n'use strict';\n\nexports = module.exports = require('./lib/memoizer')['default'];\nexports['default'] = exports;\n\n},{\"./lib/memoizer\":15}],14:[function(require,module,exports){\n\"use strict\";\n/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\n\n/* jslint esnext: true */\n\n// Function.prototype.bind implementation from Mozilla Developer Network:\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind#Polyfill\n\nvar bind = Function.prototype.bind || function (oThis) {\n    if (typeof this !== 'function') {\n      // closest thing possible to the ECMAScript 5\n      // internal IsCallable function\n      throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');\n    }\n\n    var aArgs   = Array.prototype.slice.call(arguments, 1),\n        fToBind = this,\n        fNOP    = function() {},\n        fBound  = function() {\n          return fToBind.apply(this instanceof fNOP\n                 ? this\n                 : oThis,\n                 aArgs.concat(Array.prototype.slice.call(arguments)));\n        };\n\n    if (this.prototype) {\n      // native functions don't have a prototype\n      fNOP.prototype = this.prototype;\n    }\n    fBound.prototype = new fNOP();\n\n    return fBound;\n};\n\n// Purposely using the same implementation as the Intl.js `Intl` polyfill.\n// Copyright 2013 Andy Earnshaw, MIT License\n\nvar hop = Object.prototype.hasOwnProperty;\n\nvar realDefineProp = (function () {\n    try { return !!Object.defineProperty({}, 'a', {}); }\n    catch (e) { return false; }\n})();\n\nvar es3 = !realDefineProp && !Object.prototype.__defineGetter__;\n\nvar defineProperty = realDefineProp ? Object.defineProperty :\n        function (obj, name, desc) {\n\n    if ('get' in desc && obj.__defineGetter__) {\n        obj.__defineGetter__(name, desc.get);\n    } else if (!hop.call(obj, name) || 'value' in desc) {\n        obj[name] = desc.value;\n    }\n};\n\nvar objCreate = Object.create || function (proto, props) {\n    var obj, k;\n\n    function F() {}\n    F.prototype = proto;\n    obj = new F();\n\n    for (k in props) {\n        if (hop.call(props, k)) {\n            defineProperty(obj, k, props[k]);\n        }\n    }\n\n    return obj;\n};\n\nexports.bind = bind, exports.defineProperty = defineProperty, exports.objCreate = objCreate;\n\n\n},{}],15:[function(require,module,exports){\n\"use strict\";\nvar src$es5$$ = require(\"./es5\");\nexports[\"default\"] = createFormatCache;\n\n// -----------------------------------------------------------------------------\n\nfunction createFormatCache(FormatConstructor) {\n    var cache = src$es5$$.objCreate(null);\n\n    return function () {\n        var args    = Array.prototype.slice.call(arguments);\n        var cacheId = getCacheId(args);\n        var format  = cacheId && cache[cacheId];\n\n        if (!format) {\n            format = new (src$es5$$.bind.apply(FormatConstructor, [null].concat(args)))();\n\n            if (cacheId) {\n                cache[cacheId] = format;\n            }\n        }\n\n        return format;\n    };\n}\n\n// -- Utilities ----------------------------------------------------------------\n\nfunction getCacheId(inputs) {\n    // When JSON is not available in the runtime, we will not create a cache id.\n    if (typeof JSON === 'undefined') { return; }\n\n    var cacheId = [];\n\n    var i, len, input;\n\n    for (i = 0, len = inputs.length; i < len; i += 1) {\n        input = inputs[i];\n\n        if (input && typeof input === 'object') {\n            cacheId.push(orderedProps(input));\n        } else {\n            cacheId.push(input);\n        }\n    }\n\n    return JSON.stringify(cacheId);\n}\n\nfunction orderedProps(obj) {\n    var props = [],\n        keys  = [];\n\n    var key, i, len, prop;\n\n    for (key in obj) {\n        if (obj.hasOwnProperty(key)) {\n            keys.push(key);\n        }\n    }\n\n    var orderedKeys = keys.sort();\n\n    for (i = 0, len = orderedKeys.length; i < len; i += 1) {\n        key  = orderedKeys[i];\n        prop = {};\n\n        prop[key] = obj[key];\n        props[i]  = prop;\n    }\n\n    return props;\n}\n\n\n},{\"./es5\":14}],16:[function(require,module,exports){\n/* jshint node:true */\n\n'use strict';\n\nvar IntlMessageFormat = require('./lib/main')['default'];\n\n// Add all locale data to `IntlMessageFormat`. This module will be ignored when\n// bundling for the browser with Browserify/Webpack.\nrequire('./lib/locales');\n\n// Re-export `IntlMessageFormat` as the CommonJS default exports with all the\n// locale data registered, and with English set as the default locale. Define\n// the `default` prop for use with other compiled ES6 Modules.\nexports = module.exports = IntlMessageFormat;\nexports['default'] = exports;\n\n},{\"./lib/locales\":1,\"./lib/main\":21}],17:[function(require,module,exports){\n/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\n\n/* jslint esnext: true */\n\n\"use strict\";\nexports[\"default\"] = Compiler;\n\nfunction Compiler(locales, formats, pluralFn) {\n    this.locales  = locales;\n    this.formats  = formats;\n    this.pluralFn = pluralFn;\n}\n\nCompiler.prototype.compile = function (ast) {\n    this.pluralStack        = [];\n    this.currentPlural      = null;\n    this.pluralNumberFormat = null;\n\n    return this.compileMessage(ast);\n};\n\nCompiler.prototype.compileMessage = function (ast) {\n    if (!(ast && ast.type === 'messageFormatPattern')) {\n        throw new Error('Message AST is not of type: \"messageFormatPattern\"');\n    }\n\n    var elements = ast.elements,\n        pattern  = [];\n\n    var i, len, element;\n\n    for (i = 0, len = elements.length; i < len; i += 1) {\n        element = elements[i];\n\n        switch (element.type) {\n            case 'messageTextElement':\n                pattern.push(this.compileMessageText(element));\n                break;\n\n            case 'argumentElement':\n                pattern.push(this.compileArgument(element));\n                break;\n\n            default:\n                throw new Error('Message element does not have a valid type');\n        }\n    }\n\n    return pattern;\n};\n\nCompiler.prototype.compileMessageText = function (element) {\n    // When this `element` is part of plural sub-pattern and its value contains\n    // an unescaped '#', use a `PluralOffsetString` helper to properly output\n    // the number with the correct offset in the string.\n    if (this.currentPlural && /(^|[^\\\\])#/g.test(element.value)) {\n        // Create a cache a NumberFormat instance that can be reused for any\n        // PluralOffsetString instance in this message.\n        if (!this.pluralNumberFormat) {\n            this.pluralNumberFormat = new Intl.NumberFormat(this.locales);\n        }\n\n        return new PluralOffsetString(\n                this.currentPlural.id,\n                this.currentPlural.format.offset,\n                this.pluralNumberFormat,\n                element.value);\n    }\n\n    // Unescape the escaped '#'s in the message text.\n    return element.value.replace(/\\\\#/g, '#');\n};\n\nCompiler.prototype.compileArgument = function (element) {\n    var format = element.format;\n\n    if (!format) {\n        return new StringFormat(element.id);\n    }\n\n    var formats  = this.formats,\n        locales  = this.locales,\n        pluralFn = this.pluralFn,\n        options;\n\n    switch (format.type) {\n        case 'numberFormat':\n            options = formats.number[format.style];\n            return {\n                id    : element.id,\n                format: new Intl.NumberFormat(locales, options).format\n            };\n\n        case 'dateFormat':\n            options = formats.date[format.style];\n            return {\n                id    : element.id,\n                format: new Intl.DateTimeFormat(locales, options).format\n            };\n\n        case 'timeFormat':\n            options = formats.time[format.style];\n            return {\n                id    : element.id,\n                format: new Intl.DateTimeFormat(locales, options).format\n            };\n\n        case 'pluralFormat':\n            options = this.compileOptions(element);\n            return new PluralFormat(\n                element.id, format.ordinal, format.offset, options, pluralFn\n            );\n\n        case 'selectFormat':\n            options = this.compileOptions(element);\n            return new SelectFormat(element.id, options);\n\n        default:\n            throw new Error('Message element does not have a valid format type');\n    }\n};\n\nCompiler.prototype.compileOptions = function (element) {\n    var format      = element.format,\n        options     = format.options,\n        optionsHash = {};\n\n    // Save the current plural element, if any, then set it to a new value when\n    // compiling the options sub-patterns. This conforms the spec's algorithm\n    // for handling `\"#\"` syntax in message text.\n    this.pluralStack.push(this.currentPlural);\n    this.currentPlural = format.type === 'pluralFormat' ? element : null;\n\n    var i, len, option;\n\n    for (i = 0, len = options.length; i < len; i += 1) {\n        option = options[i];\n\n        // Compile the sub-pattern and save it under the options's selector.\n        optionsHash[option.selector] = this.compileMessage(option.value);\n    }\n\n    // Pop the plural stack to put back the original current plural value.\n    this.currentPlural = this.pluralStack.pop();\n\n    return optionsHash;\n};\n\n// -- Compiler Helper Classes --------------------------------------------------\n\nfunction StringFormat(id) {\n    this.id = id;\n}\n\nStringFormat.prototype.format = function (value) {\n    if (!value) {\n        return '';\n    }\n\n    return typeof value === 'string' ? value : String(value);\n};\n\nfunction PluralFormat(id, useOrdinal, offset, options, pluralFn) {\n    this.id         = id;\n    this.useOrdinal = useOrdinal;\n    this.offset     = offset;\n    this.options    = options;\n    this.pluralFn   = pluralFn;\n}\n\nPluralFormat.prototype.getOption = function (value) {\n    var options = this.options;\n\n    var option = options['=' + value] ||\n            options[this.pluralFn(value - this.offset, this.useOrdinal)];\n\n    return option || options.other;\n};\n\nfunction PluralOffsetString(id, offset, numberFormat, string) {\n    this.id           = id;\n    this.offset       = offset;\n    this.numberFormat = numberFormat;\n    this.string       = string;\n}\n\nPluralOffsetString.prototype.format = function (value) {\n    var number = this.numberFormat.format(value - this.offset);\n\n    return this.string\n            .replace(/(^|[^\\\\])#/g, '$1' + number)\n            .replace(/\\\\#/g, '#');\n};\n\nfunction SelectFormat(id, options) {\n    this.id      = id;\n    this.options = options;\n}\n\nSelectFormat.prototype.getOption = function (value) {\n    var options = this.options;\n    return options[value] || options.other;\n};\n\n\n},{}],18:[function(require,module,exports){\n/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\n\n/* jslint esnext: true */\n\n\"use strict\";\nvar src$utils$$ = require(\"./utils\"), src$es5$$ = require(\"./es5\"), src$compiler$$ = require(\"./compiler\"), intl$messageformat$parser$$ = require(\"intl-messageformat-parser\");\nexports[\"default\"] = MessageFormat;\n\n// -- MessageFormat --------------------------------------------------------\n\nfunction MessageFormat(message, locales, formats) {\n    // Parse string messages into an AST.\n    var ast = typeof message === 'string' ?\n            MessageFormat.__parse(message) : message;\n\n    if (!(ast && ast.type === 'messageFormatPattern')) {\n        throw new TypeError('A message must be provided as a String or AST.');\n    }\n\n    // Creates a new object with the specified `formats` merged with the default\n    // formats.\n    formats = this._mergeFormats(MessageFormat.formats, formats);\n\n    // Defined first because it's used to build the format pattern.\n    src$es5$$.defineProperty(this, '_locale',  {value: this._resolveLocale(locales)});\n\n    // Compile the `ast` to a pattern that is highly optimized for repeated\n    // `format()` invocations. **Note:** This passes the `locales` set provided\n    // to the constructor instead of just the resolved locale.\n    var pluralFn = this._findPluralRuleFunction(this._locale);\n    var pattern  = this._compilePattern(ast, locales, formats, pluralFn);\n\n    // \"Bind\" `format()` method to `this` so it can be passed by reference like\n    // the other `Intl` APIs.\n    var messageFormat = this;\n    this.format = function (values) {\n        return messageFormat._format(pattern, values);\n    };\n}\n\n// Default format options used as the prototype of the `formats` provided to the\n// constructor. These are used when constructing the internal Intl.NumberFormat\n// and Intl.DateTimeFormat instances.\nsrc$es5$$.defineProperty(MessageFormat, 'formats', {\n    enumerable: true,\n\n    value: {\n        number: {\n            'currency': {\n                style: 'currency'\n            },\n\n            'percent': {\n                style: 'percent'\n            }\n        },\n\n        date: {\n            'short': {\n                month: 'numeric',\n                day  : 'numeric',\n                year : '2-digit'\n            },\n\n            'medium': {\n                month: 'short',\n                day  : 'numeric',\n                year : 'numeric'\n            },\n\n            'long': {\n                month: 'long',\n                day  : 'numeric',\n                year : 'numeric'\n            },\n\n            'full': {\n                weekday: 'long',\n                month  : 'long',\n                day    : 'numeric',\n                year   : 'numeric'\n            }\n        },\n\n        time: {\n            'short': {\n                hour  : 'numeric',\n                minute: 'numeric'\n            },\n\n            'medium':  {\n                hour  : 'numeric',\n                minute: 'numeric',\n                second: 'numeric'\n            },\n\n            'long': {\n                hour        : 'numeric',\n                minute      : 'numeric',\n                second      : 'numeric',\n                timeZoneName: 'short'\n            },\n\n            'full': {\n                hour        : 'numeric',\n                minute      : 'numeric',\n                second      : 'numeric',\n                timeZoneName: 'short'\n            }\n        }\n    }\n});\n\n// Define internal private properties for dealing with locale data.\nsrc$es5$$.defineProperty(MessageFormat, '__localeData__', {value: src$es5$$.objCreate(null)});\nsrc$es5$$.defineProperty(MessageFormat, '__addLocaleData', {value: function (data) {\n    if (!(data && data.locale)) {\n        throw new Error(\n            'Locale data provided to IntlMessageFormat is missing a ' +\n            '`locale` property'\n        );\n    }\n\n    MessageFormat.__localeData__[data.locale.toLowerCase()] = data;\n}});\n\n// Defines `__parse()` static method as an exposed private.\nsrc$es5$$.defineProperty(MessageFormat, '__parse', {value: intl$messageformat$parser$$[\"default\"].parse});\n\n// Define public `defaultLocale` property which defaults to English, but can be\n// set by the developer.\nsrc$es5$$.defineProperty(MessageFormat, 'defaultLocale', {\n    enumerable: true,\n    writable  : true,\n    value     : undefined\n});\n\nMessageFormat.prototype.resolvedOptions = function () {\n    // TODO: Provide anything else?\n    return {\n        locale: this._locale\n    };\n};\n\nMessageFormat.prototype._compilePattern = function (ast, locales, formats, pluralFn) {\n    var compiler = new src$compiler$$[\"default\"](locales, formats, pluralFn);\n    return compiler.compile(ast);\n};\n\nMessageFormat.prototype._findPluralRuleFunction = function (locale) {\n    var localeData = MessageFormat.__localeData__;\n    var data       = localeData[locale.toLowerCase()];\n\n    // The locale data is de-duplicated, so we have to traverse the locale's\n    // hierarchy until we find a `pluralRuleFunction` to return.\n    while (data) {\n        if (data.pluralRuleFunction) {\n            return data.pluralRuleFunction;\n        }\n\n        data = data.parentLocale && localeData[data.parentLocale.toLowerCase()];\n    }\n\n    throw new Error(\n        'Locale data added to IntlMessageFormat is missing a ' +\n        '`pluralRuleFunction` for :' + locale\n    );\n};\n\nMessageFormat.prototype._format = function (pattern, values) {\n    var result = '',\n        i, len, part, id, value;\n\n    for (i = 0, len = pattern.length; i < len; i += 1) {\n        part = pattern[i];\n\n        // Exist early for string parts.\n        if (typeof part === 'string') {\n            result += part;\n            continue;\n        }\n\n        id = part.id;\n\n        // Enforce that all required values are provided by the caller.\n        if (!(values && src$utils$$.hop.call(values, id))) {\n            throw new Error('A value must be provided for: ' + id);\n        }\n\n        value = values[id];\n\n        // Recursively format plural and select parts' option — which can be a\n        // nested pattern structure. The choosing of the option to use is\n        // abstracted-by and delegated-to the part helper object.\n        if (part.options) {\n            result += this._format(part.getOption(value), values);\n        } else {\n            result += part.format(value);\n        }\n    }\n\n    return result;\n};\n\nMessageFormat.prototype._mergeFormats = function (defaults, formats) {\n    var mergedFormats = {},\n        type, mergedType;\n\n    for (type in defaults) {\n        if (!src$utils$$.hop.call(defaults, type)) { continue; }\n\n        mergedFormats[type] = mergedType = src$es5$$.objCreate(defaults[type]);\n\n        if (formats && src$utils$$.hop.call(formats, type)) {\n            src$utils$$.extend(mergedType, formats[type]);\n        }\n    }\n\n    return mergedFormats;\n};\n\nMessageFormat.prototype._resolveLocale = function (locales) {\n    if (typeof locales === 'string') {\n        locales = [locales];\n    }\n\n    // Create a copy of the array so we can push on the default locale.\n    locales = (locales || []).concat(MessageFormat.defaultLocale);\n\n    var localeData = MessageFormat.__localeData__;\n    var i, len, localeParts, data;\n\n    // Using the set of locales + the default locale, we look for the first one\n    // which that has been registered. When data does not exist for a locale, we\n    // traverse its ancestors to find something that's been registered within\n    // its hierarchy of locales. Since we lack the proper `parentLocale` data\n    // here, we must take a naive approach to traversal.\n    for (i = 0, len = locales.length; i < len; i += 1) {\n        localeParts = locales[i].toLowerCase().split('-');\n\n        while (localeParts.length) {\n            data = localeData[localeParts.join('-')];\n            if (data) {\n                // Return the normalized locale string; e.g., we return \"en-US\",\n                // instead of \"en-us\".\n                return data.locale;\n            }\n\n            localeParts.pop();\n        }\n    }\n\n    var defaultLocale = locales.pop();\n    throw new Error(\n        'No locale data has been added to IntlMessageFormat for: ' +\n        locales.join(', ') + ', or the default locale: ' + defaultLocale\n    );\n};\n\n\n},{\"./compiler\":17,\"./es5\":20,\"./utils\":22,\"intl-messageformat-parser\":23}],19:[function(require,module,exports){\n// GENERATED FILE\n\"use strict\";\nexports[\"default\"] = {\"locale\":\"en\",\"pluralRuleFunction\":function (n,ord){var s=String(n).split(\".\"),v0=!s[1],t0=Number(s[0])==n,n10=t0&&s[0].slice(-1),n100=t0&&s[0].slice(-2);if(ord)return n10==1&&n100!=11?\"one\":n10==2&&n100!=12?\"two\":n10==3&&n100!=13?\"few\":\"other\";return n==1&&v0?\"one\":\"other\"}};\n\n\n},{}],20:[function(require,module,exports){\n/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\n\n/* jslint esnext: true */\n\n\"use strict\";\nvar src$utils$$ = require(\"./utils\");\n\n// Purposely using the same implementation as the Intl.js `Intl` polyfill.\n// Copyright 2013 Andy Earnshaw, MIT License\n\nvar realDefineProp = (function () {\n    try { return !!Object.defineProperty({}, 'a', {}); }\n    catch (e) { return false; }\n})();\n\nvar es3 = !realDefineProp && !Object.prototype.__defineGetter__;\n\nvar defineProperty = realDefineProp ? Object.defineProperty :\n        function (obj, name, desc) {\n\n    if ('get' in desc && obj.__defineGetter__) {\n        obj.__defineGetter__(name, desc.get);\n    } else if (!src$utils$$.hop.call(obj, name) || 'value' in desc) {\n        obj[name] = desc.value;\n    }\n};\n\nvar objCreate = Object.create || function (proto, props) {\n    var obj, k;\n\n    function F() {}\n    F.prototype = proto;\n    obj = new F();\n\n    for (k in props) {\n        if (src$utils$$.hop.call(props, k)) {\n            defineProperty(obj, k, props[k]);\n        }\n    }\n\n    return obj;\n};\nexports.defineProperty = defineProperty, exports.objCreate = objCreate;\n\n\n},{\"./utils\":22}],21:[function(require,module,exports){\n/* jslint esnext: true */\n\n\"use strict\";\nvar src$core$$ = require(\"./core\"), src$en$$ = require(\"./en\");\n\nsrc$core$$[\"default\"].__addLocaleData(src$en$$[\"default\"]);\nsrc$core$$[\"default\"].defaultLocale = 'en';\n\nexports[\"default\"] = src$core$$[\"default\"];\n\n\n},{\"./core\":18,\"./en\":19}],22:[function(require,module,exports){\n/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\n\n/* jslint esnext: true */\n\n\"use strict\";\nexports.extend = extend;\nvar hop = Object.prototype.hasOwnProperty;\n\nfunction extend(obj) {\n    var sources = Array.prototype.slice.call(arguments, 1),\n        i, len, source, key;\n\n    for (i = 0, len = sources.length; i < len; i += 1) {\n        source = sources[i];\n        if (!source) { continue; }\n\n        for (key in source) {\n            if (hop.call(source, key)) {\n                obj[key] = source[key];\n            }\n        }\n    }\n\n    return obj;\n}\nexports.hop = hop;\n\n\n},{}],23:[function(require,module,exports){\n'use strict';\n\nexports = module.exports = require('./lib/parser')['default'];\nexports['default'] = exports;\n\n},{\"./lib/parser\":24}],24:[function(require,module,exports){\n\"use strict\";\n\nexports[\"default\"] = (function() {\n  /*\n   * Generated by PEG.js 0.8.0.\n   *\n   * http://pegjs.majda.cz/\n   */\n\n  function peg$subclass(child, parent) {\n    function ctor() { this.constructor = child; }\n    ctor.prototype = parent.prototype;\n    child.prototype = new ctor();\n  }\n\n  function SyntaxError(message, expected, found, offset, line, column) {\n    this.message  = message;\n    this.expected = expected;\n    this.found    = found;\n    this.offset   = offset;\n    this.line     = line;\n    this.column   = column;\n\n    this.name     = \"SyntaxError\";\n  }\n\n  peg$subclass(SyntaxError, Error);\n\n  function parse(input) {\n    var options = arguments.length > 1 ? arguments[1] : {},\n\n        peg$FAILED = {},\n\n        peg$startRuleFunctions = { start: peg$parsestart },\n        peg$startRuleFunction  = peg$parsestart,\n\n        peg$c0 = [],\n        peg$c1 = function(elements) {\n                return {\n                    type    : 'messageFormatPattern',\n                    elements: elements\n                };\n            },\n        peg$c2 = peg$FAILED,\n        peg$c3 = function(text) {\n                var string = '',\n                    i, j, outerLen, inner, innerLen;\n\n                for (i = 0, outerLen = text.length; i < outerLen; i += 1) {\n                    inner = text[i];\n\n                    for (j = 0, innerLen = inner.length; j < innerLen; j += 1) {\n                        string += inner[j];\n                    }\n                }\n\n                return string;\n            },\n        peg$c4 = function(messageText) {\n                return {\n                    type : 'messageTextElement',\n                    value: messageText\n                };\n            },\n        peg$c5 = /^[^ \\t\\n\\r,.+={}#]/,\n        peg$c6 = { type: \"class\", value: \"[^ \\\\t\\\\n\\\\r,.+={}#]\", description: \"[^ \\\\t\\\\n\\\\r,.+={}#]\" },\n        peg$c7 = \"{\",\n        peg$c8 = { type: \"literal\", value: \"{\", description: \"\\\"{\\\"\" },\n        peg$c9 = null,\n        peg$c10 = \",\",\n        peg$c11 = { type: \"literal\", value: \",\", description: \"\\\",\\\"\" },\n        peg$c12 = \"}\",\n        peg$c13 = { type: \"literal\", value: \"}\", description: \"\\\"}\\\"\" },\n        peg$c14 = function(id, format) {\n                return {\n                    type  : 'argumentElement',\n                    id    : id,\n                    format: format && format[2]\n                };\n            },\n        peg$c15 = \"number\",\n        peg$c16 = { type: \"literal\", value: \"number\", description: \"\\\"number\\\"\" },\n        peg$c17 = \"date\",\n        peg$c18 = { type: \"literal\", value: \"date\", description: \"\\\"date\\\"\" },\n        peg$c19 = \"time\",\n        peg$c20 = { type: \"literal\", value: \"time\", description: \"\\\"time\\\"\" },\n        peg$c21 = function(type, style) {\n                return {\n                    type : type + 'Format',\n                    style: style && style[2]\n                };\n            },\n        peg$c22 = \"plural\",\n        peg$c23 = { type: \"literal\", value: \"plural\", description: \"\\\"plural\\\"\" },\n        peg$c24 = function(pluralStyle) {\n                return {\n                    type   : pluralStyle.type,\n                    ordinal: false,\n                    offset : pluralStyle.offset || 0,\n                    options: pluralStyle.options\n                };\n            },\n        peg$c25 = \"selectordinal\",\n        peg$c26 = { type: \"literal\", value: \"selectordinal\", description: \"\\\"selectordinal\\\"\" },\n        peg$c27 = function(pluralStyle) {\n                return {\n                    type   : pluralStyle.type,\n                    ordinal: true,\n                    offset : pluralStyle.offset || 0,\n                    options: pluralStyle.options\n                }\n            },\n        peg$c28 = \"select\",\n        peg$c29 = { type: \"literal\", value: \"select\", description: \"\\\"select\\\"\" },\n        peg$c30 = function(options) {\n                return {\n                    type   : 'selectFormat',\n                    options: options\n                };\n            },\n        peg$c31 = \"=\",\n        peg$c32 = { type: \"literal\", value: \"=\", description: \"\\\"=\\\"\" },\n        peg$c33 = function(selector, pattern) {\n                return {\n                    type    : 'optionalFormatPattern',\n                    selector: selector,\n                    value   : pattern\n                };\n            },\n        peg$c34 = \"offset:\",\n        peg$c35 = { type: \"literal\", value: \"offset:\", description: \"\\\"offset:\\\"\" },\n        peg$c36 = function(number) {\n                return number;\n            },\n        peg$c37 = function(offset, options) {\n                return {\n                    type   : 'pluralFormat',\n                    offset : offset,\n                    options: options\n                };\n            },\n        peg$c38 = { type: \"other\", description: \"whitespace\" },\n        peg$c39 = /^[ \\t\\n\\r]/,\n        peg$c40 = { type: \"class\", value: \"[ \\\\t\\\\n\\\\r]\", description: \"[ \\\\t\\\\n\\\\r]\" },\n        peg$c41 = { type: \"other\", description: \"optionalWhitespace\" },\n        peg$c42 = /^[0-9]/,\n        peg$c43 = { type: \"class\", value: \"[0-9]\", description: \"[0-9]\" },\n        peg$c44 = /^[0-9a-f]/i,\n        peg$c45 = { type: \"class\", value: \"[0-9a-f]i\", description: \"[0-9a-f]i\" },\n        peg$c46 = \"0\",\n        peg$c47 = { type: \"literal\", value: \"0\", description: \"\\\"0\\\"\" },\n        peg$c48 = /^[1-9]/,\n        peg$c49 = { type: \"class\", value: \"[1-9]\", description: \"[1-9]\" },\n        peg$c50 = function(digits) {\n            return parseInt(digits, 10);\n        },\n        peg$c51 = /^[^{}\\\\\\0-\\x1F \\t\\n\\r]/,\n        peg$c52 = { type: \"class\", value: \"[^{}\\\\\\\\\\\\0-\\\\x1F \\\\t\\\\n\\\\r]\", description: \"[^{}\\\\\\\\\\\\0-\\\\x1F \\\\t\\\\n\\\\r]\" },\n        peg$c53 = \"\\\\#\",\n        peg$c54 = { type: \"literal\", value: \"\\\\#\", description: \"\\\"\\\\\\\\#\\\"\" },\n        peg$c55 = function() { return '\\\\#'; },\n        peg$c56 = \"\\\\{\",\n        peg$c57 = { type: \"literal\", value: \"\\\\{\", description: \"\\\"\\\\\\\\{\\\"\" },\n        peg$c58 = function() { return '\\u007B'; },\n        peg$c59 = \"\\\\}\",\n        peg$c60 = { type: \"literal\", value: \"\\\\}\", description: \"\\\"\\\\\\\\}\\\"\" },\n        peg$c61 = function() { return '\\u007D'; },\n        peg$c62 = \"\\\\u\",\n        peg$c63 = { type: \"literal\", value: \"\\\\u\", description: \"\\\"\\\\\\\\u\\\"\" },\n        peg$c64 = function(digits) {\n                return String.fromCharCode(parseInt(digits, 16));\n            },\n        peg$c65 = function(chars) { return chars.join(''); },\n\n        peg$currPos          = 0,\n        peg$reportedPos      = 0,\n        peg$cachedPos        = 0,\n        peg$cachedPosDetails = { line: 1, column: 1, seenCR: false },\n        peg$maxFailPos       = 0,\n        peg$maxFailExpected  = [],\n        peg$silentFails      = 0,\n\n        peg$result;\n\n    if (\"startRule\" in options) {\n      if (!(options.startRule in peg$startRuleFunctions)) {\n        throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n      }\n\n      peg$startRuleFunction = peg$startRuleFunctions[options.startRule];\n    }\n\n    function text() {\n      return input.substring(peg$reportedPos, peg$currPos);\n    }\n\n    function offset() {\n      return peg$reportedPos;\n    }\n\n    function line() {\n      return peg$computePosDetails(peg$reportedPos).line;\n    }\n\n    function column() {\n      return peg$computePosDetails(peg$reportedPos).column;\n    }\n\n    function expected(description) {\n      throw peg$buildException(\n        null,\n        [{ type: \"other\", description: description }],\n        peg$reportedPos\n      );\n    }\n\n    function error(message) {\n      throw peg$buildException(message, null, peg$reportedPos);\n    }\n\n    function peg$computePosDetails(pos) {\n      function advance(details, startPos, endPos) {\n        var p, ch;\n\n        for (p = startPos; p < endPos; p++) {\n          ch = input.charAt(p);\n          if (ch === \"\\n\") {\n            if (!details.seenCR) { details.line++; }\n            details.column = 1;\n            details.seenCR = false;\n          } else if (ch === \"\\r\" || ch === \"\\u2028\" || ch === \"\\u2029\") {\n            details.line++;\n            details.column = 1;\n            details.seenCR = true;\n          } else {\n            details.column++;\n            details.seenCR = false;\n          }\n        }\n      }\n\n      if (peg$cachedPos !== pos) {\n        if (peg$cachedPos > pos) {\n          peg$cachedPos = 0;\n          peg$cachedPosDetails = { line: 1, column: 1, seenCR: false };\n        }\n        advance(peg$cachedPosDetails, peg$cachedPos, pos);\n        peg$cachedPos = pos;\n      }\n\n      return peg$cachedPosDetails;\n    }\n\n    function peg$fail(expected) {\n      if (peg$currPos < peg$maxFailPos) { return; }\n\n      if (peg$currPos > peg$maxFailPos) {\n        peg$maxFailPos = peg$currPos;\n        peg$maxFailExpected = [];\n      }\n\n      peg$maxFailExpected.push(expected);\n    }\n\n    function peg$buildException(message, expected, pos) {\n      function cleanupExpected(expected) {\n        var i = 1;\n\n        expected.sort(function(a, b) {\n          if (a.description < b.description) {\n            return -1;\n          } else if (a.description > b.description) {\n            return 1;\n          } else {\n            return 0;\n          }\n        });\n\n        while (i < expected.length) {\n          if (expected[i - 1] === expected[i]) {\n            expected.splice(i, 1);\n          } else {\n            i++;\n          }\n        }\n      }\n\n      function buildMessage(expected, found) {\n        function stringEscape(s) {\n          function hex(ch) { return ch.charCodeAt(0).toString(16).toUpperCase(); }\n\n          return s\n            .replace(/\\\\/g,   '\\\\\\\\')\n            .replace(/\"/g,    '\\\\\"')\n            .replace(/\\x08/g, '\\\\b')\n            .replace(/\\t/g,   '\\\\t')\n            .replace(/\\n/g,   '\\\\n')\n            .replace(/\\f/g,   '\\\\f')\n            .replace(/\\r/g,   '\\\\r')\n            .replace(/[\\x00-\\x07\\x0B\\x0E\\x0F]/g, function(ch) { return '\\\\x0' + hex(ch); })\n            .replace(/[\\x10-\\x1F\\x80-\\xFF]/g,    function(ch) { return '\\\\x'  + hex(ch); })\n            .replace(/[\\u0180-\\u0FFF]/g,         function(ch) { return '\\\\u0' + hex(ch); })\n            .replace(/[\\u1080-\\uFFFF]/g,         function(ch) { return '\\\\u'  + hex(ch); });\n        }\n\n        var expectedDescs = new Array(expected.length),\n            expectedDesc, foundDesc, i;\n\n        for (i = 0; i < expected.length; i++) {\n          expectedDescs[i] = expected[i].description;\n        }\n\n        expectedDesc = expected.length > 1\n          ? expectedDescs.slice(0, -1).join(\", \")\n              + \" or \"\n              + expectedDescs[expected.length - 1]\n          : expectedDescs[0];\n\n        foundDesc = found ? \"\\\"\" + stringEscape(found) + \"\\\"\" : \"end of input\";\n\n        return \"Expected \" + expectedDesc + \" but \" + foundDesc + \" found.\";\n      }\n\n      var posDetails = peg$computePosDetails(pos),\n          found      = pos < input.length ? input.charAt(pos) : null;\n\n      if (expected !== null) {\n        cleanupExpected(expected);\n      }\n\n      return new SyntaxError(\n        message !== null ? message : buildMessage(expected, found),\n        expected,\n        found,\n        pos,\n        posDetails.line,\n        posDetails.column\n      );\n    }\n\n    function peg$parsestart() {\n      var s0;\n\n      s0 = peg$parsemessageFormatPattern();\n\n      return s0;\n    }\n\n    function peg$parsemessageFormatPattern() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = [];\n      s2 = peg$parsemessageFormatElement();\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        s2 = peg$parsemessageFormatElement();\n      }\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c1(s1);\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parsemessageFormatElement() {\n      var s0;\n\n      s0 = peg$parsemessageTextElement();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parseargumentElement();\n      }\n\n      return s0;\n    }\n\n    function peg$parsemessageText() {\n      var s0, s1, s2, s3, s4, s5;\n\n      s0 = peg$currPos;\n      s1 = [];\n      s2 = peg$currPos;\n      s3 = peg$parse_();\n      if (s3 !== peg$FAILED) {\n        s4 = peg$parsechars();\n        if (s4 !== peg$FAILED) {\n          s5 = peg$parse_();\n          if (s5 !== peg$FAILED) {\n            s3 = [s3, s4, s5];\n            s2 = s3;\n          } else {\n            peg$currPos = s2;\n            s2 = peg$c2;\n          }\n        } else {\n          peg$currPos = s2;\n          s2 = peg$c2;\n        }\n      } else {\n        peg$currPos = s2;\n        s2 = peg$c2;\n      }\n      if (s2 !== peg$FAILED) {\n        while (s2 !== peg$FAILED) {\n          s1.push(s2);\n          s2 = peg$currPos;\n          s3 = peg$parse_();\n          if (s3 !== peg$FAILED) {\n            s4 = peg$parsechars();\n            if (s4 !== peg$FAILED) {\n              s5 = peg$parse_();\n              if (s5 !== peg$FAILED) {\n                s3 = [s3, s4, s5];\n                s2 = s3;\n              } else {\n                peg$currPos = s2;\n                s2 = peg$c2;\n              }\n            } else {\n              peg$currPos = s2;\n              s2 = peg$c2;\n            }\n          } else {\n            peg$currPos = s2;\n            s2 = peg$c2;\n          }\n        }\n      } else {\n        s1 = peg$c2;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c3(s1);\n      }\n      s0 = s1;\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = peg$parsews();\n        if (s1 !== peg$FAILED) {\n          s1 = input.substring(s0, peg$currPos);\n        }\n        s0 = s1;\n      }\n\n      return s0;\n    }\n\n    function peg$parsemessageTextElement() {\n      var s0, s1;\n\n      s0 = peg$currPos;\n      s1 = peg$parsemessageText();\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c4(s1);\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parseargument() {\n      var s0, s1, s2;\n\n      s0 = peg$parsenumber();\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = [];\n        if (peg$c5.test(input.charAt(peg$currPos))) {\n          s2 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c6); }\n        }\n        if (s2 !== peg$FAILED) {\n          while (s2 !== peg$FAILED) {\n            s1.push(s2);\n            if (peg$c5.test(input.charAt(peg$currPos))) {\n              s2 = input.charAt(peg$currPos);\n              peg$currPos++;\n            } else {\n              s2 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c6); }\n            }\n          }\n        } else {\n          s1 = peg$c2;\n        }\n        if (s1 !== peg$FAILED) {\n          s1 = input.substring(s0, peg$currPos);\n        }\n        s0 = s1;\n      }\n\n      return s0;\n    }\n\n    function peg$parseargumentElement() {\n      var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 123) {\n        s1 = peg$c7;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c8); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parse_();\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parseargument();\n          if (s3 !== peg$FAILED) {\n            s4 = peg$parse_();\n            if (s4 !== peg$FAILED) {\n              s5 = peg$currPos;\n              if (input.charCodeAt(peg$currPos) === 44) {\n                s6 = peg$c10;\n                peg$currPos++;\n              } else {\n                s6 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c11); }\n              }\n              if (s6 !== peg$FAILED) {\n                s7 = peg$parse_();\n                if (s7 !== peg$FAILED) {\n                  s8 = peg$parseelementFormat();\n                  if (s8 !== peg$FAILED) {\n                    s6 = [s6, s7, s8];\n                    s5 = s6;\n                  } else {\n                    peg$currPos = s5;\n                    s5 = peg$c2;\n                  }\n                } else {\n                  peg$currPos = s5;\n                  s5 = peg$c2;\n                }\n              } else {\n                peg$currPos = s5;\n                s5 = peg$c2;\n              }\n              if (s5 === peg$FAILED) {\n                s5 = peg$c9;\n              }\n              if (s5 !== peg$FAILED) {\n                s6 = peg$parse_();\n                if (s6 !== peg$FAILED) {\n                  if (input.charCodeAt(peg$currPos) === 125) {\n                    s7 = peg$c12;\n                    peg$currPos++;\n                  } else {\n                    s7 = peg$FAILED;\n                    if (peg$silentFails === 0) { peg$fail(peg$c13); }\n                  }\n                  if (s7 !== peg$FAILED) {\n                    peg$reportedPos = s0;\n                    s1 = peg$c14(s3, s5);\n                    s0 = s1;\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$c2;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$c2;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$c2;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      return s0;\n    }\n\n    function peg$parseelementFormat() {\n      var s0;\n\n      s0 = peg$parsesimpleFormat();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsepluralFormat();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parseselectOrdinalFormat();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parseselectFormat();\n          }\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parsesimpleFormat() {\n      var s0, s1, s2, s3, s4, s5, s6;\n\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 6) === peg$c15) {\n        s1 = peg$c15;\n        peg$currPos += 6;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c16); }\n      }\n      if (s1 === peg$FAILED) {\n        if (input.substr(peg$currPos, 4) === peg$c17) {\n          s1 = peg$c17;\n          peg$currPos += 4;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c18); }\n        }\n        if (s1 === peg$FAILED) {\n          if (input.substr(peg$currPos, 4) === peg$c19) {\n            s1 = peg$c19;\n            peg$currPos += 4;\n          } else {\n            s1 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c20); }\n          }\n        }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parse_();\n        if (s2 !== peg$FAILED) {\n          s3 = peg$currPos;\n          if (input.charCodeAt(peg$currPos) === 44) {\n            s4 = peg$c10;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c11); }\n          }\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parse_();\n            if (s5 !== peg$FAILED) {\n              s6 = peg$parsechars();\n              if (s6 !== peg$FAILED) {\n                s4 = [s4, s5, s6];\n                s3 = s4;\n              } else {\n                peg$currPos = s3;\n                s3 = peg$c2;\n              }\n            } else {\n              peg$currPos = s3;\n              s3 = peg$c2;\n            }\n          } else {\n            peg$currPos = s3;\n            s3 = peg$c2;\n          }\n          if (s3 === peg$FAILED) {\n            s3 = peg$c9;\n          }\n          if (s3 !== peg$FAILED) {\n            peg$reportedPos = s0;\n            s1 = peg$c21(s1, s3);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      return s0;\n    }\n\n    function peg$parsepluralFormat() {\n      var s0, s1, s2, s3, s4, s5;\n\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 6) === peg$c22) {\n        s1 = peg$c22;\n        peg$currPos += 6;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c23); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parse_();\n        if (s2 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 44) {\n            s3 = peg$c10;\n            peg$currPos++;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c11); }\n          }\n          if (s3 !== peg$FAILED) {\n            s4 = peg$parse_();\n            if (s4 !== peg$FAILED) {\n              s5 = peg$parsepluralStyle();\n              if (s5 !== peg$FAILED) {\n                peg$reportedPos = s0;\n                s1 = peg$c24(s5);\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$c2;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      return s0;\n    }\n\n    function peg$parseselectOrdinalFormat() {\n      var s0, s1, s2, s3, s4, s5;\n\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 13) === peg$c25) {\n        s1 = peg$c25;\n        peg$currPos += 13;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c26); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parse_();\n        if (s2 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 44) {\n            s3 = peg$c10;\n            peg$currPos++;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c11); }\n          }\n          if (s3 !== peg$FAILED) {\n            s4 = peg$parse_();\n            if (s4 !== peg$FAILED) {\n              s5 = peg$parsepluralStyle();\n              if (s5 !== peg$FAILED) {\n                peg$reportedPos = s0;\n                s1 = peg$c27(s5);\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$c2;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      return s0;\n    }\n\n    function peg$parseselectFormat() {\n      var s0, s1, s2, s3, s4, s5, s6;\n\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 6) === peg$c28) {\n        s1 = peg$c28;\n        peg$currPos += 6;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c29); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parse_();\n        if (s2 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 44) {\n            s3 = peg$c10;\n            peg$currPos++;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c11); }\n          }\n          if (s3 !== peg$FAILED) {\n            s4 = peg$parse_();\n            if (s4 !== peg$FAILED) {\n              s5 = [];\n              s6 = peg$parseoptionalFormatPattern();\n              if (s6 !== peg$FAILED) {\n                while (s6 !== peg$FAILED) {\n                  s5.push(s6);\n                  s6 = peg$parseoptionalFormatPattern();\n                }\n              } else {\n                s5 = peg$c2;\n              }\n              if (s5 !== peg$FAILED) {\n                peg$reportedPos = s0;\n                s1 = peg$c30(s5);\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$c2;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      return s0;\n    }\n\n    function peg$parseselector() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 61) {\n        s2 = peg$c31;\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c32); }\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsenumber();\n        if (s3 !== peg$FAILED) {\n          s2 = [s2, s3];\n          s1 = s2;\n        } else {\n          peg$currPos = s1;\n          s1 = peg$c2;\n        }\n      } else {\n        peg$currPos = s1;\n        s1 = peg$c2;\n      }\n      if (s1 !== peg$FAILED) {\n        s1 = input.substring(s0, peg$currPos);\n      }\n      s0 = s1;\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsechars();\n      }\n\n      return s0;\n    }\n\n    function peg$parseoptionalFormatPattern() {\n      var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n      s0 = peg$currPos;\n      s1 = peg$parse_();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseselector();\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parse_();\n          if (s3 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 123) {\n              s4 = peg$c7;\n              peg$currPos++;\n            } else {\n              s4 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c8); }\n            }\n            if (s4 !== peg$FAILED) {\n              s5 = peg$parse_();\n              if (s5 !== peg$FAILED) {\n                s6 = peg$parsemessageFormatPattern();\n                if (s6 !== peg$FAILED) {\n                  s7 = peg$parse_();\n                  if (s7 !== peg$FAILED) {\n                    if (input.charCodeAt(peg$currPos) === 125) {\n                      s8 = peg$c12;\n                      peg$currPos++;\n                    } else {\n                      s8 = peg$FAILED;\n                      if (peg$silentFails === 0) { peg$fail(peg$c13); }\n                    }\n                    if (s8 !== peg$FAILED) {\n                      peg$reportedPos = s0;\n                      s1 = peg$c33(s2, s6);\n                      s0 = s1;\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$c2;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$c2;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$c2;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$c2;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      return s0;\n    }\n\n    function peg$parseoffset() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 7) === peg$c34) {\n        s1 = peg$c34;\n        peg$currPos += 7;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c35); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parse_();\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsenumber();\n          if (s3 !== peg$FAILED) {\n            peg$reportedPos = s0;\n            s1 = peg$c36(s3);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      return s0;\n    }\n\n    function peg$parsepluralStyle() {\n      var s0, s1, s2, s3, s4;\n\n      s0 = peg$currPos;\n      s1 = peg$parseoffset();\n      if (s1 === peg$FAILED) {\n        s1 = peg$c9;\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parse_();\n        if (s2 !== peg$FAILED) {\n          s3 = [];\n          s4 = peg$parseoptionalFormatPattern();\n          if (s4 !== peg$FAILED) {\n            while (s4 !== peg$FAILED) {\n              s3.push(s4);\n              s4 = peg$parseoptionalFormatPattern();\n            }\n          } else {\n            s3 = peg$c2;\n          }\n          if (s3 !== peg$FAILED) {\n            peg$reportedPos = s0;\n            s1 = peg$c37(s1, s3);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      return s0;\n    }\n\n    function peg$parsews() {\n      var s0, s1;\n\n      peg$silentFails++;\n      s0 = [];\n      if (peg$c39.test(input.charAt(peg$currPos))) {\n        s1 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c40); }\n      }\n      if (s1 !== peg$FAILED) {\n        while (s1 !== peg$FAILED) {\n          s0.push(s1);\n          if (peg$c39.test(input.charAt(peg$currPos))) {\n            s1 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s1 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c40); }\n          }\n        }\n      } else {\n        s0 = peg$c2;\n      }\n      peg$silentFails--;\n      if (s0 === peg$FAILED) {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c38); }\n      }\n\n      return s0;\n    }\n\n    function peg$parse_() {\n      var s0, s1, s2;\n\n      peg$silentFails++;\n      s0 = peg$currPos;\n      s1 = [];\n      s2 = peg$parsews();\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        s2 = peg$parsews();\n      }\n      if (s1 !== peg$FAILED) {\n        s1 = input.substring(s0, peg$currPos);\n      }\n      s0 = s1;\n      peg$silentFails--;\n      if (s0 === peg$FAILED) {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c41); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsedigit() {\n      var s0;\n\n      if (peg$c42.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c43); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsehexDigit() {\n      var s0;\n\n      if (peg$c44.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c45); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsenumber() {\n      var s0, s1, s2, s3, s4, s5;\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 48) {\n        s1 = peg$c46;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c47); }\n      }\n      if (s1 === peg$FAILED) {\n        s1 = peg$currPos;\n        s2 = peg$currPos;\n        if (peg$c48.test(input.charAt(peg$currPos))) {\n          s3 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c49); }\n        }\n        if (s3 !== peg$FAILED) {\n          s4 = [];\n          s5 = peg$parsedigit();\n          while (s5 !== peg$FAILED) {\n            s4.push(s5);\n            s5 = peg$parsedigit();\n          }\n          if (s4 !== peg$FAILED) {\n            s3 = [s3, s4];\n            s2 = s3;\n          } else {\n            peg$currPos = s2;\n            s2 = peg$c2;\n          }\n        } else {\n          peg$currPos = s2;\n          s2 = peg$c2;\n        }\n        if (s2 !== peg$FAILED) {\n          s2 = input.substring(s1, peg$currPos);\n        }\n        s1 = s2;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c50(s1);\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parsechar() {\n      var s0, s1, s2, s3, s4, s5, s6, s7;\n\n      if (peg$c51.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c52); }\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        if (input.substr(peg$currPos, 2) === peg$c53) {\n          s1 = peg$c53;\n          peg$currPos += 2;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c54); }\n        }\n        if (s1 !== peg$FAILED) {\n          peg$reportedPos = s0;\n          s1 = peg$c55();\n        }\n        s0 = s1;\n        if (s0 === peg$FAILED) {\n          s0 = peg$currPos;\n          if (input.substr(peg$currPos, 2) === peg$c56) {\n            s1 = peg$c56;\n            peg$currPos += 2;\n          } else {\n            s1 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c57); }\n          }\n          if (s1 !== peg$FAILED) {\n            peg$reportedPos = s0;\n            s1 = peg$c58();\n          }\n          s0 = s1;\n          if (s0 === peg$FAILED) {\n            s0 = peg$currPos;\n            if (input.substr(peg$currPos, 2) === peg$c59) {\n              s1 = peg$c59;\n              peg$currPos += 2;\n            } else {\n              s1 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c60); }\n            }\n            if (s1 !== peg$FAILED) {\n              peg$reportedPos = s0;\n              s1 = peg$c61();\n            }\n            s0 = s1;\n            if (s0 === peg$FAILED) {\n              s0 = peg$currPos;\n              if (input.substr(peg$currPos, 2) === peg$c62) {\n                s1 = peg$c62;\n                peg$currPos += 2;\n              } else {\n                s1 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c63); }\n              }\n              if (s1 !== peg$FAILED) {\n                s2 = peg$currPos;\n                s3 = peg$currPos;\n                s4 = peg$parsehexDigit();\n                if (s4 !== peg$FAILED) {\n                  s5 = peg$parsehexDigit();\n                  if (s5 !== peg$FAILED) {\n                    s6 = peg$parsehexDigit();\n                    if (s6 !== peg$FAILED) {\n                      s7 = peg$parsehexDigit();\n                      if (s7 !== peg$FAILED) {\n                        s4 = [s4, s5, s6, s7];\n                        s3 = s4;\n                      } else {\n                        peg$currPos = s3;\n                        s3 = peg$c2;\n                      }\n                    } else {\n                      peg$currPos = s3;\n                      s3 = peg$c2;\n                    }\n                  } else {\n                    peg$currPos = s3;\n                    s3 = peg$c2;\n                  }\n                } else {\n                  peg$currPos = s3;\n                  s3 = peg$c2;\n                }\n                if (s3 !== peg$FAILED) {\n                  s3 = input.substring(s2, peg$currPos);\n                }\n                s2 = s3;\n                if (s2 !== peg$FAILED) {\n                  peg$reportedPos = s0;\n                  s1 = peg$c64(s2);\n                  s0 = s1;\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$c2;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$c2;\n              }\n            }\n          }\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parsechars() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = [];\n      s2 = peg$parsechar();\n      if (s2 !== peg$FAILED) {\n        while (s2 !== peg$FAILED) {\n          s1.push(s2);\n          s2 = peg$parsechar();\n        }\n      } else {\n        s1 = peg$c2;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c65(s1);\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    peg$result = peg$startRuleFunction();\n\n    if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n      return peg$result;\n    } else {\n      if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n        peg$fail({ type: \"end\", description: \"end of input\" });\n      }\n\n      throw peg$buildException(null, peg$maxFailExpected, peg$maxFailPos);\n    }\n  }\n\n  return {\n    SyntaxError: SyntaxError,\n    parse:       parse\n  };\n})();\n\n\n},{}],25:[function(require,module,exports){\n/* jshint node:true */\n\n'use strict';\n\nvar IntlRelativeFormat = require('./lib/main')['default'];\n\n// Add all locale data to `IntlRelativeFormat`. This module will be ignored when\n// bundling for the browser with Browserify/Webpack.\nrequire('./lib/locales');\n\n// Re-export `IntlRelativeFormat` as the CommonJS default exports with all the\n// locale data registered, and with English set as the default locale. Define\n// the `default` prop for use with other compiled ES6 Modules.\nexports = module.exports = IntlRelativeFormat;\nexports['default'] = exports;\n\n},{\"./lib/locales\":1,\"./lib/main\":30}],26:[function(require,module,exports){\n/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\n\n/* jslint esnext: true */\n\n\"use strict\";\nvar intl$messageformat$$ = require(\"intl-messageformat\"), src$diff$$ = require(\"./diff\"), src$es5$$ = require(\"./es5\");\nexports[\"default\"] = RelativeFormat;\n\n// -----------------------------------------------------------------------------\n\nvar FIELDS = ['second', 'minute', 'hour', 'day', 'month', 'year'];\nvar STYLES = ['best fit', 'numeric'];\n\n// -- RelativeFormat -----------------------------------------------------------\n\nfunction RelativeFormat(locales, options) {\n    options = options || {};\n\n    // Make a copy of `locales` if it's an array, so that it doesn't change\n    // since it's used lazily.\n    if (src$es5$$.isArray(locales)) {\n        locales = locales.concat();\n    }\n\n    src$es5$$.defineProperty(this, '_locale', {value: this._resolveLocale(locales)});\n    src$es5$$.defineProperty(this, '_options', {value: {\n        style: this._resolveStyle(options.style),\n        units: this._isValidUnits(options.units) && options.units\n    }});\n\n    src$es5$$.defineProperty(this, '_locales', {value: locales});\n    src$es5$$.defineProperty(this, '_fields', {value: this._findFields(this._locale)});\n    src$es5$$.defineProperty(this, '_messages', {value: src$es5$$.objCreate(null)});\n\n    // \"Bind\" `format()` method to `this` so it can be passed by reference like\n    // the other `Intl` APIs.\n    var relativeFormat = this;\n    this.format = function format(date, options) {\n        return relativeFormat._format(date, options);\n    };\n}\n\n// Define internal private properties for dealing with locale data.\nsrc$es5$$.defineProperty(RelativeFormat, '__localeData__', {value: src$es5$$.objCreate(null)});\nsrc$es5$$.defineProperty(RelativeFormat, '__addLocaleData', {value: function (data) {\n    if (!(data && data.locale)) {\n        throw new Error(\n            'Locale data provided to IntlRelativeFormat is missing a ' +\n            '`locale` property value'\n        );\n    }\n\n    RelativeFormat.__localeData__[data.locale.toLowerCase()] = data;\n\n    // Add data to IntlMessageFormat.\n    intl$messageformat$$[\"default\"].__addLocaleData(data);\n}});\n\n// Define public `defaultLocale` property which can be set by the developer, or\n// it will be set when the first RelativeFormat instance is created by\n// leveraging the resolved locale from `Intl`.\nsrc$es5$$.defineProperty(RelativeFormat, 'defaultLocale', {\n    enumerable: true,\n    writable  : true,\n    value     : undefined\n});\n\n// Define public `thresholds` property which can be set by the developer, and\n// defaults to relative time thresholds from moment.js.\nsrc$es5$$.defineProperty(RelativeFormat, 'thresholds', {\n    enumerable: true,\n\n    value: {\n        second: 45,  // seconds to minute\n        minute: 45,  // minutes to hour\n        hour  : 22,  // hours to day\n        day   : 26,  // days to month\n        month : 11   // months to year\n    }\n});\n\nRelativeFormat.prototype.resolvedOptions = function () {\n    return {\n        locale: this._locale,\n        style : this._options.style,\n        units : this._options.units\n    };\n};\n\nRelativeFormat.prototype._compileMessage = function (units) {\n    // `this._locales` is the original set of locales the user specified to the\n    // constructor, while `this._locale` is the resolved root locale.\n    var locales        = this._locales;\n    var resolvedLocale = this._locale;\n\n    var field        = this._fields[units];\n    var relativeTime = field.relativeTime;\n    var future       = '';\n    var past         = '';\n    var i;\n\n    for (i in relativeTime.future) {\n        if (relativeTime.future.hasOwnProperty(i)) {\n            future += ' ' + i + ' {' +\n                relativeTime.future[i].replace('{0}', '#') + '}';\n        }\n    }\n\n    for (i in relativeTime.past) {\n        if (relativeTime.past.hasOwnProperty(i)) {\n            past += ' ' + i + ' {' +\n                relativeTime.past[i].replace('{0}', '#') + '}';\n        }\n    }\n\n    var message = '{when, select, future {{0, plural, ' + future + '}}' +\n                                 'past {{0, plural, ' + past + '}}}';\n\n    // Create the synthetic IntlMessageFormat instance using the original\n    // locales value specified by the user when constructing the the parent\n    // IntlRelativeFormat instance.\n    return new intl$messageformat$$[\"default\"](message, locales);\n};\n\nRelativeFormat.prototype._getMessage = function (units) {\n    var messages = this._messages;\n\n    // Create a new synthetic message based on the locale data from CLDR.\n    if (!messages[units]) {\n        messages[units] = this._compileMessage(units);\n    }\n\n    return messages[units];\n};\n\nRelativeFormat.prototype._getRelativeUnits = function (diff, units) {\n    var field = this._fields[units];\n\n    if (field.relative) {\n        return field.relative[diff];\n    }\n};\n\nRelativeFormat.prototype._findFields = function (locale) {\n    var localeData = RelativeFormat.__localeData__;\n    var data       = localeData[locale.toLowerCase()];\n\n    // The locale data is de-duplicated, so we have to traverse the locale's\n    // hierarchy until we find `fields` to return.\n    while (data) {\n        if (data.fields) {\n            return data.fields;\n        }\n\n        data = data.parentLocale && localeData[data.parentLocale.toLowerCase()];\n    }\n\n    throw new Error(\n        'Locale data added to IntlRelativeFormat is missing `fields` for :' +\n        locale\n    );\n};\n\nRelativeFormat.prototype._format = function (date, options) {\n    var now = options && options.now !== undefined ? options.now : src$es5$$.dateNow();\n\n    if (date === undefined) {\n        date = now;\n    }\n\n    // Determine if the `date` and optional `now` values are valid, and throw a\n    // similar error to what `Intl.DateTimeFormat#format()` would throw.\n    if (!isFinite(now)) {\n        throw new RangeError(\n            'The `now` option provided to IntlRelativeFormat#format() is not ' +\n            'in valid range.'\n        );\n    }\n\n    if (!isFinite(date)) {\n        throw new RangeError(\n            'The date value provided to IntlRelativeFormat#format() is not ' +\n            'in valid range.'\n        );\n    }\n\n    var diffReport  = src$diff$$[\"default\"](now, date);\n    var units       = this._options.units || this._selectUnits(diffReport);\n    var diffInUnits = diffReport[units];\n\n    if (this._options.style !== 'numeric') {\n        var relativeUnits = this._getRelativeUnits(diffInUnits, units);\n        if (relativeUnits) {\n            return relativeUnits;\n        }\n    }\n\n    return this._getMessage(units).format({\n        '0' : Math.abs(diffInUnits),\n        when: diffInUnits < 0 ? 'past' : 'future'\n    });\n};\n\nRelativeFormat.prototype._isValidUnits = function (units) {\n    if (!units || src$es5$$.arrIndexOf.call(FIELDS, units) >= 0) {\n        return true;\n    }\n\n    if (typeof units === 'string') {\n        var suggestion = /s$/.test(units) && units.substr(0, units.length - 1);\n        if (suggestion && src$es5$$.arrIndexOf.call(FIELDS, suggestion) >= 0) {\n            throw new Error(\n                '\"' + units + '\" is not a valid IntlRelativeFormat `units` ' +\n                'value, did you mean: ' + suggestion\n            );\n        }\n    }\n\n    throw new Error(\n        '\"' + units + '\" is not a valid IntlRelativeFormat `units` value, it ' +\n        'must be one of: \"' + FIELDS.join('\", \"') + '\"'\n    );\n};\n\nRelativeFormat.prototype._resolveLocale = function (locales) {\n    if (typeof locales === 'string') {\n        locales = [locales];\n    }\n\n    // Create a copy of the array so we can push on the default locale.\n    locales = (locales || []).concat(RelativeFormat.defaultLocale);\n\n    var localeData = RelativeFormat.__localeData__;\n    var i, len, localeParts, data;\n\n    // Using the set of locales + the default locale, we look for the first one\n    // which that has been registered. When data does not exist for a locale, we\n    // traverse its ancestors to find something that's been registered within\n    // its hierarchy of locales. Since we lack the proper `parentLocale` data\n    // here, we must take a naive approach to traversal.\n    for (i = 0, len = locales.length; i < len; i += 1) {\n        localeParts = locales[i].toLowerCase().split('-');\n\n        while (localeParts.length) {\n            data = localeData[localeParts.join('-')];\n            if (data) {\n                // Return the normalized locale string; e.g., we return \"en-US\",\n                // instead of \"en-us\".\n                return data.locale;\n            }\n\n            localeParts.pop();\n        }\n    }\n\n    var defaultLocale = locales.pop();\n    throw new Error(\n        'No locale data has been added to IntlRelativeFormat for: ' +\n        locales.join(', ') + ', or the default locale: ' + defaultLocale\n    );\n};\n\nRelativeFormat.prototype._resolveStyle = function (style) {\n    // Default to \"best fit\" style.\n    if (!style) {\n        return STYLES[0];\n    }\n\n    if (src$es5$$.arrIndexOf.call(STYLES, style) >= 0) {\n        return style;\n    }\n\n    throw new Error(\n        '\"' + style + '\" is not a valid IntlRelativeFormat `style` value, it ' +\n        'must be one of: \"' + STYLES.join('\", \"') + '\"'\n    );\n};\n\nRelativeFormat.prototype._selectUnits = function (diffReport) {\n    var i, l, units;\n\n    for (i = 0, l = FIELDS.length; i < l; i += 1) {\n        units = FIELDS[i];\n\n        if (Math.abs(diffReport[units]) < RelativeFormat.thresholds[units]) {\n            break;\n        }\n    }\n\n    return units;\n};\n\n\n},{\"./diff\":27,\"./es5\":29,\"intl-messageformat\":16}],27:[function(require,module,exports){\n/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\n\n/* jslint esnext: true */\n\n\"use strict\";\n\nvar round = Math.round;\n\nfunction daysToYears(days) {\n    // 400 years have 146097 days (taking into account leap year rules)\n    return days * 400 / 146097;\n}\n\nexports[\"default\"] = function (from, to) {\n    // Convert to ms timestamps.\n    from = +from;\n    to   = +to;\n\n    var millisecond = round(to - from),\n        second      = round(millisecond / 1000),\n        minute      = round(second / 60),\n        hour        = round(minute / 60),\n        day         = round(hour / 24),\n        week        = round(day / 7);\n\n    var rawYears = daysToYears(day),\n        month    = round(rawYears * 12),\n        year     = round(rawYears);\n\n    return {\n        millisecond: millisecond,\n        second     : second,\n        minute     : minute,\n        hour       : hour,\n        day        : day,\n        week       : week,\n        month      : month,\n        year       : year\n    };\n};\n\n\n},{}],28:[function(require,module,exports){\narguments[4][9][0].apply(exports,arguments)\n},{\"dup\":9}],29:[function(require,module,exports){\n/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\n\n/* jslint esnext: true */\n\n\"use strict\";\n\n// Purposely using the same implementation as the Intl.js `Intl` polyfill.\n// Copyright 2013 Andy Earnshaw, MIT License\n\nvar hop = Object.prototype.hasOwnProperty;\nvar toString = Object.prototype.toString;\n\nvar realDefineProp = (function () {\n    try { return !!Object.defineProperty({}, 'a', {}); }\n    catch (e) { return false; }\n})();\n\nvar es3 = !realDefineProp && !Object.prototype.__defineGetter__;\n\nvar defineProperty = realDefineProp ? Object.defineProperty :\n        function (obj, name, desc) {\n\n    if ('get' in desc && obj.__defineGetter__) {\n        obj.__defineGetter__(name, desc.get);\n    } else if (!hop.call(obj, name) || 'value' in desc) {\n        obj[name] = desc.value;\n    }\n};\n\nvar objCreate = Object.create || function (proto, props) {\n    var obj, k;\n\n    function F() {}\n    F.prototype = proto;\n    obj = new F();\n\n    for (k in props) {\n        if (hop.call(props, k)) {\n            defineProperty(obj, k, props[k]);\n        }\n    }\n\n    return obj;\n};\n\nvar arrIndexOf = Array.prototype.indexOf || function (search, fromIndex) {\n    /*jshint validthis:true */\n    var arr = this;\n    if (!arr.length) {\n        return -1;\n    }\n\n    for (var i = fromIndex || 0, max = arr.length; i < max; i++) {\n        if (arr[i] === search) {\n            return i;\n        }\n    }\n\n    return -1;\n};\n\nvar isArray = Array.isArray || function (obj) {\n    return toString.call(obj) === '[object Array]';\n};\n\nvar dateNow = Date.now || function () {\n    return new Date().getTime();\n};\nexports.defineProperty = defineProperty, exports.objCreate = objCreate, exports.arrIndexOf = arrIndexOf, exports.isArray = isArray, exports.dateNow = dateNow;\n\n\n},{}],30:[function(require,module,exports){\narguments[4][21][0].apply(exports,arguments)\n},{\"./core\":26,\"./en\":28,\"dup\":21}],31:[function(require,module,exports){\n/* Copyright Google Inc.\n * Licensed under the Apache Licence Version 2.0\n * Autogenerated at Fri Aug 13 11:26:55 PDT 2010\n * @provides html4\n */\nvar html4 = {};\nhtml4 .atype = {\n    'NONE': 0,\n    'URI': 1,\n    'URI_FRAGMENT': 11,\n    'SCRIPT': 2,\n    'STYLE': 3,\n    'ID': 4,\n    'IDREF': 5,\n    'IDREFS': 6,\n    'GLOBAL_NAME': 7,\n    'LOCAL_NAME': 8,\n    'CLASSES': 9,\n    'FRAME_TARGET': 10\n};\nhtml4 .ATTRIBS = {\n    '*::class': 9,\n    '*::dir': 0,\n    '*::id': 4,\n    '*::lang': 0,\n    '*::onclick': 2,\n    '*::ondblclick': 2,\n    '*::onkeydown': 2,\n    '*::onkeypress': 2,\n    '*::onkeyup': 2,\n    '*::onload': 2,\n    '*::onmousedown': 2,\n    '*::onmousemove': 2,\n    '*::onmouseout': 2,\n    '*::onmouseover': 2,\n    '*::onmouseup': 2,\n    '*::style': 3,\n    '*::title': 0,\n    'a::accesskey': 0,\n    'a::coords': 0,\n    'a::href': 1,\n    'a::hreflang': 0,\n    'a::name': 7,\n    'a::onblur': 2,\n    'a::onfocus': 2,\n    'a::rel': 0,\n    'a::rev': 0,\n    'a::shape': 0,\n    'a::tabindex': 0,\n    'a::target': 10,\n    'a::type': 0,\n    'area::accesskey': 0,\n    'area::alt': 0,\n    'area::coords': 0,\n    'area::href': 1,\n    'area::nohref': 0,\n    'area::onblur': 2,\n    'area::onfocus': 2,\n    'area::shape': 0,\n    'area::tabindex': 0,\n    'area::target': 10,\n    'bdo::dir': 0,\n    'blockquote::cite': 1,\n    'br::clear': 0,\n    'button::accesskey': 0,\n    'button::disabled': 0,\n    'button::name': 8,\n    'button::onblur': 2,\n    'button::onfocus': 2,\n    'button::tabindex': 0,\n    'button::type': 0,\n    'button::value': 0,\n    'caption::align': 0,\n    'col::align': 0,\n    'col::char': 0,\n    'col::charoff': 0,\n    'col::span': 0,\n    'col::valign': 0,\n    'col::width': 0,\n    'colgroup::align': 0,\n    'colgroup::char': 0,\n    'colgroup::charoff': 0,\n    'colgroup::span': 0,\n    'colgroup::valign': 0,\n    'colgroup::width': 0,\n    'del::cite': 1,\n    'del::datetime': 0,\n    'dir::compact': 0,\n    'div::align': 0,\n    'dl::compact': 0,\n    'font::color': 0,\n    'font::face': 0,\n    'font::size': 0,\n    'form::accept': 0,\n    'form::action': 1,\n    'form::autocomplete': 0,\n    'form::enctype': 0,\n    'form::method': 0,\n    'form::name': 7,\n    'form::onreset': 2,\n    'form::onsubmit': 2,\n    'form::target': 10,\n    'h1::align': 0,\n    'h2::align': 0,\n    'h3::align': 0,\n    'h4::align': 0,\n    'h5::align': 0,\n    'h6::align': 0,\n    'hr::align': 0,\n    'hr::noshade': 0,\n    'hr::size': 0,\n    'hr::width': 0,\n    'iframe::align': 0,\n    'iframe::frameborder': 0,\n    'iframe::height': 0,\n    'iframe::marginheight': 0,\n    'iframe::marginwidth': 0,\n    'iframe::width': 0,\n    'img::align': 0,\n    'img::alt': 0,\n    'img::border': 0,\n    'img::height': 0,\n    'img::hspace': 0,\n    'img::ismap': 0,\n    'img::name': 7,\n    'img::src': 1,\n    'img::usemap': 11,\n    'img::vspace': 0,\n    'img::width': 0,\n    'input::accept': 0,\n    'input::accesskey': 0,\n    'input::align': 0,\n    'input::alt': 0,\n    'input::autocomplete': 0,\n    'input::checked': 0,\n    'input::disabled': 0,\n    'input::ismap': 0,\n    'input::maxlength': 0,\n    'input::name': 8,\n    'input::onblur': 2,\n    'input::onchange': 2,\n    'input::onfocus': 2,\n    'input::onselect': 2,\n    'input::readonly': 0,\n    'input::size': 0,\n    'input::src': 1,\n    'input::tabindex': 0,\n    'input::type': 0,\n    'input::usemap': 11,\n    'input::value': 0,\n    'ins::cite': 1,\n    'ins::datetime': 0,\n    'label::accesskey': 0,\n    'label::for': 5,\n    'label::onblur': 2,\n    'label::onfocus': 2,\n    'legend::accesskey': 0,\n    'legend::align': 0,\n    'li::type': 0,\n    'li::value': 0,\n    'map::name': 7,\n    'menu::compact': 0,\n    'ol::compact': 0,\n    'ol::start': 0,\n    'ol::type': 0,\n    'optgroup::disabled': 0,\n    'optgroup::label': 0,\n    'option::disabled': 0,\n    'option::label': 0,\n    'option::selected': 0,\n    'option::value': 0,\n    'p::align': 0,\n    'pre::width': 0,\n    'q::cite': 1,\n    'select::disabled': 0,\n    'select::multiple': 0,\n    'select::name': 8,\n    'select::onblur': 2,\n    'select::onchange': 2,\n    'select::onfocus': 2,\n    'select::size': 0,\n    'select::tabindex': 0,\n    'table::align': 0,\n    'table::bgcolor': 0,\n    'table::border': 0,\n    'table::cellpadding': 0,\n    'table::cellspacing': 0,\n    'table::frame': 0,\n    'table::rules': 0,\n    'table::summary': 0,\n    'table::width': 0,\n    'tbody::align': 0,\n    'tbody::char': 0,\n    'tbody::charoff': 0,\n    'tbody::valign': 0,\n    'td::abbr': 0,\n    'td::align': 0,\n    'td::axis': 0,\n    'td::bgcolor': 0,\n    'td::char': 0,\n    'td::charoff': 0,\n    'td::colspan': 0,\n    'td::headers': 6,\n    'td::height': 0,\n    'td::nowrap': 0,\n    'td::rowspan': 0,\n    'td::scope': 0,\n    'td::valign': 0,\n    'td::width': 0,\n    'textarea::accesskey': 0,\n    'textarea::cols': 0,\n    'textarea::disabled': 0,\n    'textarea::name': 8,\n    'textarea::onblur': 2,\n    'textarea::onchange': 2,\n    'textarea::onfocus': 2,\n    'textarea::onselect': 2,\n    'textarea::readonly': 0,\n    'textarea::rows': 0,\n    'textarea::tabindex': 0,\n    'tfoot::align': 0,\n    'tfoot::char': 0,\n    'tfoot::charoff': 0,\n    'tfoot::valign': 0,\n    'th::abbr': 0,\n    'th::align': 0,\n    'th::axis': 0,\n    'th::bgcolor': 0,\n    'th::char': 0,\n    'th::charoff': 0,\n    'th::colspan': 0,\n    'th::headers': 6,\n    'th::height': 0,\n    'th::nowrap': 0,\n    'th::rowspan': 0,\n    'th::scope': 0,\n    'th::valign': 0,\n    'th::width': 0,\n    'thead::align': 0,\n    'thead::char': 0,\n    'thead::charoff': 0,\n    'thead::valign': 0,\n    'tr::align': 0,\n    'tr::bgcolor': 0,\n    'tr::char': 0,\n    'tr::charoff': 0,\n    'tr::valign': 0,\n    'ul::compact': 0,\n    'ul::type': 0\n};\nhtml4 .eflags = {\n    'OPTIONAL_ENDTAG': 1,\n    'EMPTY': 2,\n    'CDATA': 4,\n    'RCDATA': 8,\n    'UNSAFE': 16,\n    'FOLDABLE': 32,\n    'SCRIPT': 64,\n    'STYLE': 128\n};\nhtml4 .ELEMENTS = {\n    'a': 0,\n    'abbr': 0,\n    'acronym': 0,\n    'address': 0,\n    'applet': 16,\n    'area': 2,\n    'b': 0,\n    'base': 18,\n    'basefont': 18,\n    'bdo': 0,\n    'big': 0,\n    'blockquote': 0,\n    'body': 49,\n    'br': 2,\n    'button': 0,\n    'caption': 0,\n    'center': 0,\n    'cite': 0,\n    'code': 0,\n    'col': 2,\n    'colgroup': 1,\n    'dd': 1,\n    'del': 0,\n    'dfn': 0,\n    'dir': 0,\n    'div': 0,\n    'dl': 0,\n    'dt': 1,\n    'em': 0,\n    'fieldset': 0,\n    'font': 0,\n    'form': 0,\n    'frame': 18,\n    'frameset': 16,\n    'h1': 0,\n    'h2': 0,\n    'h3': 0,\n    'h4': 0,\n    'h5': 0,\n    'h6': 0,\n    'head': 49,\n    'hr': 2,\n    'html': 49,\n    'i': 0,\n    'iframe': 4,\n    'img': 2,\n    'input': 2,\n    'ins': 0,\n    'isindex': 18,\n    'kbd': 0,\n    'label': 0,\n    'legend': 0,\n    'li': 1,\n    'link': 18,\n    'map': 0,\n    'menu': 0,\n    'meta': 18,\n    'noframes': 20,\n    'noscript': 20,\n    'object': 16,\n    'ol': 0,\n    'optgroup': 0,\n    'option': 1,\n    'p': 1,\n    'param': 18,\n    'pre': 0,\n    'q': 0,\n    's': 0,\n    'samp': 0,\n    'script': 84,\n    'select': 0,\n    'small': 0,\n    'span': 0,\n    'strike': 0,\n    'strong': 0,\n    'style': 148,\n    'sub': 0,\n    'sup': 0,\n    'table': 0,\n    'tbody': 1,\n    'td': 1,\n    'textarea': 8,\n    'tfoot': 1,\n    'th': 1,\n    'thead': 1,\n    'title': 24,\n    'tr': 1,\n    'tt': 0,\n    'u': 0,\n    'ul': 0,\n    'var': 0\n};\n\nhtml4 .URIEFFECTS = {\n\n};\nhtml4 .LOADERTYPES = {}\n\nif (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n        exports = module.exports = html4;\n    }\n    exports.URI = html4;\n} else {\n\n    // Exports for closure compiler.\n    if (typeof window !== 'undefined') {\n        window['html4'] = html4;\n    }\n}\n\n},{}],32:[function(require,module,exports){\n// Copyright (C) 2010 Google Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview\n * Implements RFC 3986 for parsing/formatting URIs.\n *\n * @author mikesamuel@gmail.com\n * \\@provides URI\n * \\@overrides window\n */\n\nvar URI = (function () {\n\n    /**\n     * creates a uri from the string form.  The parser is relaxed, so special\n     * characters that aren't escaped but don't cause ambiguities will not cause\n     * parse failures.\n     *\n     * @return {URI|null}\n     */\n    function parse(uriStr) {\n        var m = ('' + uriStr).match(URI_RE_);\n        if (!m) { return null; }\n        return new URI(\n            nullIfAbsent(m[1]),\n            nullIfAbsent(m[2]),\n            nullIfAbsent(m[3]),\n            nullIfAbsent(m[4]),\n            nullIfAbsent(m[5]),\n            nullIfAbsent(m[6]),\n            nullIfAbsent(m[7]));\n    }\n\n\n    /**\n     * creates a uri from the given parts.\n     *\n     * @param scheme {string} an unencoded scheme such as \"http\" or null\n     * @param credentials {string} unencoded user credentials or null\n     * @param domain {string} an unencoded domain name or null\n     * @param port {number} a port number in [1, 32768].\n     *    -1 indicates no port, as does null.\n     * @param path {string} an unencoded path\n     * @param query {Array.<string>|string|null} a list of unencoded cgi\n     *   parameters where even values are keys and odds the corresponding values\n     *   or an unencoded query.\n     * @param fragment {string} an unencoded fragment without the \"#\" or null.\n     * @return {URI}\n     */\n    function create(scheme, credentials, domain, port, path, query, fragment) {\n        var uri = new URI(\n            encodeIfExists2(scheme, URI_DISALLOWED_IN_SCHEME_OR_CREDENTIALS_),\n            encodeIfExists2(\n                credentials, URI_DISALLOWED_IN_SCHEME_OR_CREDENTIALS_),\n            encodeIfExists(domain),\n            port > 0 ? port.toString() : null,\n            encodeIfExists2(path, URI_DISALLOWED_IN_PATH_),\n            null,\n            encodeIfExists(fragment));\n        if (query) {\n            if ('string' === typeof query) {\n                uri.setRawQuery(query.replace(/[^?&=0-9A-Za-z_\\-~.%]/g, encodeOne));\n            } else {\n                uri.setAllParameters(query);\n            }\n        }\n        return uri;\n    }\n    function encodeIfExists(unescapedPart) {\n        if ('string' == typeof unescapedPart) {\n            return encodeURIComponent(unescapedPart);\n        }\n        return null;\n    };\n    /**\n     * if unescapedPart is non null, then escapes any characters in it that aren't\n     * valid characters in a url and also escapes any special characters that\n     * appear in extra.\n     *\n     * @param unescapedPart {string}\n     * @param extra {RegExp} a character set of characters in [\\01-\\177].\n     * @return {string|null} null iff unescapedPart == null.\n     */\n    function encodeIfExists2(unescapedPart, extra) {\n        if ('string' == typeof unescapedPart) {\n            return encodeURI(unescapedPart).replace(extra, encodeOne);\n        }\n        return null;\n    };\n    /** converts a character in [\\01-\\177] to its url encoded equivalent. */\n    function encodeOne(ch) {\n        var n = ch.charCodeAt(0);\n        return '%' + '0123456789ABCDEF'.charAt((n >> 4) & 0xf) +\n            '0123456789ABCDEF'.charAt(n & 0xf);\n    }\n\n    /**\n     * {@updoc\n     *  $ normPath('foo/./bar')\n     *  # 'foo/bar'\n     *  $ normPath('./foo')\n     *  # 'foo'\n     *  $ normPath('foo/.')\n     *  # 'foo'\n     *  $ normPath('foo//bar')\n     *  # 'foo/bar'\n     * }\n     */\n    function normPath(path) {\n        return path.replace(/(^|\\/)\\.(?:\\/|$)/g, '$1').replace(/\\/{2,}/g, '/');\n    }\n\n    var PARENT_DIRECTORY_HANDLER = new RegExp(\n        ''\n            // A path break\n            + '(/|^)'\n            // followed by a non .. path element\n            // (cannot be . because normPath is used prior to this RegExp)\n            + '(?:[^./][^/]*|\\\\.{2,}(?:[^./][^/]*)|\\\\.{3,}[^/]*)'\n            // followed by .. followed by a path break.\n            + '/\\\\.\\\\.(?:/|$)');\n\n    var PARENT_DIRECTORY_HANDLER_RE = new RegExp(PARENT_DIRECTORY_HANDLER);\n\n    var EXTRA_PARENT_PATHS_RE = /^(?:\\.\\.\\/)*(?:\\.\\.$)?/;\n\n    /**\n     * Normalizes its input path and collapses all . and .. sequences except for\n     * .. sequences that would take it above the root of the current parent\n     * directory.\n     * {@updoc\n     *  $ collapse_dots('foo/../bar')\n     *  # 'bar'\n     *  $ collapse_dots('foo/./bar')\n     *  # 'foo/bar'\n     *  $ collapse_dots('foo/../bar/./../../baz')\n     *  # 'baz'\n     *  $ collapse_dots('../foo')\n     *  # '../foo'\n     *  $ collapse_dots('../foo').replace(EXTRA_PARENT_PATHS_RE, '')\n     *  # 'foo'\n     * }\n     */\n    function collapse_dots(path) {\n        if (path === null) { return null; }\n        var p = normPath(path);\n        // Only /../ left to flatten\n        var r = PARENT_DIRECTORY_HANDLER_RE;\n        // We replace with $1 which matches a / before the .. because this\n        // guarantees that:\n        // (1) we have at most 1 / between the adjacent place,\n        // (2) always have a slash if there is a preceding path section, and\n        // (3) we never turn a relative path into an absolute path.\n        for (var q; (q = p.replace(r, '$1')) != p; p = q) {};\n        return p;\n    }\n\n    /**\n     * resolves a relative url string to a base uri.\n     * @return {URI}\n     */\n    function resolve(baseUri, relativeUri) {\n        // there are several kinds of relative urls:\n        // 1. //foo - replaces everything from the domain on.  foo is a domain name\n        // 2. foo - replaces the last part of the path, the whole query and fragment\n        // 3. /foo - replaces the the path, the query and fragment\n        // 4. ?foo - replace the query and fragment\n        // 5. #foo - replace the fragment only\n\n        var absoluteUri = baseUri.clone();\n        // we satisfy these conditions by looking for the first part of relativeUri\n        // that is not blank and applying defaults to the rest\n\n        var overridden = relativeUri.hasScheme();\n\n        if (overridden) {\n            absoluteUri.setRawScheme(relativeUri.getRawScheme());\n        } else {\n            overridden = relativeUri.hasCredentials();\n        }\n\n        if (overridden) {\n            absoluteUri.setRawCredentials(relativeUri.getRawCredentials());\n        } else {\n            overridden = relativeUri.hasDomain();\n        }\n\n        if (overridden) {\n            absoluteUri.setRawDomain(relativeUri.getRawDomain());\n        } else {\n            overridden = relativeUri.hasPort();\n        }\n\n        var rawPath = relativeUri.getRawPath();\n        var simplifiedPath = collapse_dots(rawPath);\n        if (overridden) {\n            absoluteUri.setPort(relativeUri.getPort());\n            simplifiedPath = simplifiedPath\n                && simplifiedPath.replace(EXTRA_PARENT_PATHS_RE, '');\n        } else {\n            overridden = !!rawPath;\n            if (overridden) {\n                // resolve path properly\n                if (simplifiedPath.charCodeAt(0) !== 0x2f /* / */) {  // path is relative\n                    var absRawPath = collapse_dots(absoluteUri.getRawPath() || '')\n                        .replace(EXTRA_PARENT_PATHS_RE, '');\n                    var slash = absRawPath.lastIndexOf('/') + 1;\n                    simplifiedPath = collapse_dots(\n                        (slash ? absRawPath.substring(0, slash) : '')\n                            + collapse_dots(rawPath))\n                        .replace(EXTRA_PARENT_PATHS_RE, '');\n                }\n            } else {\n                simplifiedPath = simplifiedPath\n                    && simplifiedPath.replace(EXTRA_PARENT_PATHS_RE, '');\n                if (simplifiedPath !== rawPath) {\n                    absoluteUri.setRawPath(simplifiedPath);\n                }\n            }\n        }\n\n        if (overridden) {\n            absoluteUri.setRawPath(simplifiedPath);\n        } else {\n            overridden = relativeUri.hasQuery();\n        }\n\n        if (overridden) {\n            absoluteUri.setRawQuery(relativeUri.getRawQuery());\n        } else {\n            overridden = relativeUri.hasFragment();\n        }\n\n        if (overridden) {\n            absoluteUri.setRawFragment(relativeUri.getRawFragment());\n        }\n\n        return absoluteUri;\n    }\n\n    /**\n     * a mutable URI.\n     *\n     * This class contains setters and getters for the parts of the URI.\n     * The <tt>getXYZ</tt>/<tt>setXYZ</tt> methods return the decoded part -- so\n     * <code>uri.parse('/foo%20bar').getPath()</code> will return the decoded path,\n     * <tt>/foo bar</tt>.\n     *\n     * <p>The raw versions of fields are available too.\n     * <code>uri.parse('/foo%20bar').getRawPath()</code> will return the raw path,\n     * <tt>/foo%20bar</tt>.  Use the raw setters with care, since\n     * <code>URI::toString</code> is not guaranteed to return a valid url if a\n     * raw setter was used.\n     *\n     * <p>All setters return <tt>this</tt> and so may be chained, a la\n     * <code>uri.parse('/foo').setFragment('part').toString()</code>.\n     *\n     * <p>You should not use this constructor directly -- please prefer the factory\n     * functions {@link uri.parse}, {@link uri.create}, {@link uri.resolve}\n     * instead.</p>\n     *\n     * <p>The parameters are all raw (assumed to be properly escaped) parts, and\n     * any (but not all) may be null.  Undefined is not allowed.</p>\n     *\n     * @constructor\n     */\n    function URI(\n        rawScheme,\n        rawCredentials, rawDomain, port,\n        rawPath, rawQuery, rawFragment) {\n        this.scheme_ = rawScheme;\n        this.credentials_ = rawCredentials;\n        this.domain_ = rawDomain;\n        this.port_ = port;\n        this.path_ = rawPath;\n        this.query_ = rawQuery;\n        this.fragment_ = rawFragment;\n        /**\n         * @type {Array|null}\n         */\n        this.paramCache_ = null;\n    }\n\n    /** returns the string form of the url. */\n    URI.prototype.toString = function () {\n        var out = [];\n        if (null !== this.scheme_) { out.push(this.scheme_, ':'); }\n        if (null !== this.domain_) {\n            out.push('//');\n            if (null !== this.credentials_) { out.push(this.credentials_, '@'); }\n            out.push(this.domain_);\n            if (null !== this.port_) { out.push(':', this.port_.toString()); }\n        }\n        if (null !== this.path_) { out.push(this.path_); }\n        if (null !== this.query_) { out.push('?', this.query_); }\n        if (null !== this.fragment_) { out.push('#', this.fragment_); }\n        return out.join('');\n    };\n\n    URI.prototype.clone = function () {\n        return new URI(this.scheme_, this.credentials_, this.domain_, this.port_,\n            this.path_, this.query_, this.fragment_);\n    };\n\n    URI.prototype.getScheme = function () {\n        // HTML5 spec does not require the scheme to be lowercased but\n        // all common browsers except Safari lowercase the scheme.\n        return this.scheme_ && decodeURIComponent(this.scheme_).toLowerCase();\n    };\n    URI.prototype.getRawScheme = function () {\n        return this.scheme_;\n    };\n    URI.prototype.setScheme = function (newScheme) {\n        this.scheme_ = encodeIfExists2(\n            newScheme, URI_DISALLOWED_IN_SCHEME_OR_CREDENTIALS_);\n        return this;\n    };\n    URI.prototype.setRawScheme = function (newScheme) {\n        this.scheme_ = newScheme ? newScheme : null;\n        return this;\n    };\n    URI.prototype.hasScheme = function () {\n        return null !== this.scheme_;\n    };\n\n\n    URI.prototype.getCredentials = function () {\n        return this.credentials_ && decodeURIComponent(this.credentials_);\n    };\n    URI.prototype.getRawCredentials = function () {\n        return this.credentials_;\n    };\n    URI.prototype.setCredentials = function (newCredentials) {\n        this.credentials_ = encodeIfExists2(\n            newCredentials, URI_DISALLOWED_IN_SCHEME_OR_CREDENTIALS_);\n\n        return this;\n    };\n    URI.prototype.setRawCredentials = function (newCredentials) {\n        this.credentials_ = newCredentials ? newCredentials : null;\n        return this;\n    };\n    URI.prototype.hasCredentials = function () {\n        return null !== this.credentials_;\n    };\n\n\n    URI.prototype.getDomain = function () {\n        return this.domain_ && decodeURIComponent(this.domain_);\n    };\n    URI.prototype.getRawDomain = function () {\n        return this.domain_;\n    };\n    URI.prototype.setDomain = function (newDomain) {\n        return this.setRawDomain(newDomain && encodeURIComponent(newDomain));\n    };\n    URI.prototype.setRawDomain = function (newDomain) {\n        this.domain_ = newDomain ? newDomain : null;\n        // Maintain the invariant that paths must start with a slash when the URI\n        // is not path-relative.\n        return this.setRawPath(this.path_);\n    };\n    URI.prototype.hasDomain = function () {\n        return null !== this.domain_;\n    };\n\n\n    URI.prototype.getPort = function () {\n        return this.port_ && decodeURIComponent(this.port_);\n    };\n    URI.prototype.setPort = function (newPort) {\n        if (newPort) {\n            newPort = Number(newPort);\n            if (newPort !== (newPort & 0xffff)) {\n                throw new Error('Bad port number ' + newPort);\n            }\n            this.port_ = '' + newPort;\n        } else {\n            this.port_ = null;\n        }\n        return this;\n    };\n    URI.prototype.hasPort = function () {\n        return null !== this.port_;\n    };\n\n\n    URI.prototype.getPath = function () {\n        return this.path_ && decodeURIComponent(this.path_);\n    };\n    URI.prototype.getRawPath = function () {\n        return this.path_;\n    };\n    URI.prototype.setPath = function (newPath) {\n        return this.setRawPath(encodeIfExists2(newPath, URI_DISALLOWED_IN_PATH_));\n    };\n    URI.prototype.setRawPath = function (newPath) {\n        if (newPath) {\n            newPath = String(newPath);\n            this.path_ =\n                // Paths must start with '/' unless this is a path-relative URL.\n                (!this.domain_ || /^\\//.test(newPath)) ? newPath : '/' + newPath;\n        } else {\n            this.path_ = null;\n        }\n        return this;\n    };\n    URI.prototype.hasPath = function () {\n        return null !== this.path_;\n    };\n\n\n    URI.prototype.getQuery = function () {\n        // From http://www.w3.org/Addressing/URL/4_URI_Recommentations.html\n        // Within the query string, the plus sign is reserved as shorthand notation\n        // for a space.\n        return this.query_ && decodeURIComponent(this.query_).replace(/\\+/g, ' ');\n    };\n    URI.prototype.getRawQuery = function () {\n        return this.query_;\n    };\n    URI.prototype.setQuery = function (newQuery) {\n        this.paramCache_ = null;\n        this.query_ = encodeIfExists(newQuery);\n        return this;\n    };\n    URI.prototype.setRawQuery = function (newQuery) {\n        this.paramCache_ = null;\n        this.query_ = newQuery ? newQuery : null;\n        return this;\n    };\n    URI.prototype.hasQuery = function () {\n        return null !== this.query_;\n    };\n\n    /**\n     * sets the query given a list of strings of the form\n     * [ key0, value0, key1, value1, ... ].\n     *\n     * <p><code>uri.setAllParameters(['a', 'b', 'c', 'd']).getQuery()</code>\n     * will yield <code>'a=b&c=d'</code>.\n     */\n    URI.prototype.setAllParameters = function (params) {\n        if (typeof params === 'object') {\n            if (!(params instanceof Array)\n                && (params instanceof Object\n                || Object.prototype.toString.call(params) !== '[object Array]')) {\n                var newParams = [];\n                var i = -1;\n                for (var k in params) {\n                    var v = params[k];\n                    if ('string' === typeof v) {\n                        newParams[++i] = k;\n                        newParams[++i] = v;\n                    }\n                }\n                params = newParams;\n            }\n        }\n        this.paramCache_ = null;\n        var queryBuf = [];\n        var separator = '';\n        for (var j = 0; j < params.length;) {\n            var k = params[j++];\n            var v = params[j++];\n            queryBuf.push(separator, encodeURIComponent(k.toString()));\n            separator = '&';\n            if (v) {\n                queryBuf.push('=', encodeURIComponent(v.toString()));\n            }\n        }\n        this.query_ = queryBuf.join('');\n        return this;\n    };\n    URI.prototype.checkParameterCache_ = function () {\n        if (!this.paramCache_) {\n            var q = this.query_;\n            if (!q) {\n                this.paramCache_ = [];\n            } else {\n                var cgiParams = q.split(/[&\\?]/);\n                var out = [];\n                var k = -1;\n                for (var i = 0; i < cgiParams.length; ++i) {\n                    var m = cgiParams[i].match(/^([^=]*)(?:=(.*))?$/);\n                    // From http://www.w3.org/Addressing/URL/4_URI_Recommentations.html\n                    // Within the query string, the plus sign is reserved as shorthand\n                    // notation for a space.\n                    out[++k] = decodeURIComponent(m[1]).replace(/\\+/g, ' ');\n                    out[++k] = decodeURIComponent(m[2] || '').replace(/\\+/g, ' ');\n                }\n                this.paramCache_ = out;\n            }\n        }\n    };\n    /**\n     * sets the values of the named cgi parameters.\n     *\n     * <p>So, <code>uri.parse('foo?a=b&c=d&e=f').setParameterValues('c', ['new'])\n     * </code> yields <tt>foo?a=b&c=new&e=f</tt>.</p>\n     *\n     * @param key {string}\n     * @param values {Array.<string>} the new values.  If values is a single string\n     *   then it will be treated as the sole value.\n     */\n    URI.prototype.setParameterValues = function (key, values) {\n        // be nice and avoid subtle bugs where [] operator on string performs charAt\n        // on some browsers and crashes on IE\n        if (typeof values === 'string') {\n            values = [ values ];\n        }\n\n        this.checkParameterCache_();\n        var newValueIndex = 0;\n        var pc = this.paramCache_;\n        var params = [];\n        for (var i = 0, k = 0; i < pc.length; i += 2) {\n            if (key === pc[i]) {\n                if (newValueIndex < values.length) {\n                    params.push(key, values[newValueIndex++]);\n                }\n            } else {\n                params.push(pc[i], pc[i + 1]);\n            }\n        }\n        while (newValueIndex < values.length) {\n            params.push(key, values[newValueIndex++]);\n        }\n        this.setAllParameters(params);\n        return this;\n    };\n    URI.prototype.removeParameter = function (key) {\n        return this.setParameterValues(key, []);\n    };\n    /**\n     * returns the parameters specified in the query part of the uri as a list of\n     * keys and values like [ key0, value0, key1, value1, ... ].\n     *\n     * @return {Array.<string>}\n     */\n    URI.prototype.getAllParameters = function () {\n        this.checkParameterCache_();\n        return this.paramCache_.slice(0, this.paramCache_.length);\n    };\n    /**\n     * returns the value<b>s</b> for a given cgi parameter as a list of decoded\n     * query parameter values.\n     * @return {Array.<string>}\n     */\n    URI.prototype.getParameterValues = function (paramNameUnescaped) {\n        this.checkParameterCache_();\n        var values = [];\n        for (var i = 0; i < this.paramCache_.length; i += 2) {\n            if (paramNameUnescaped === this.paramCache_[i]) {\n                values.push(this.paramCache_[i + 1]);\n            }\n        }\n        return values;\n    };\n    /**\n     * returns a map of cgi parameter names to (non-empty) lists of values.\n     * @return {Object.<string,Array.<string>>}\n     */\n    URI.prototype.getParameterMap = function (paramNameUnescaped) {\n        this.checkParameterCache_();\n        var paramMap = {};\n        for (var i = 0; i < this.paramCache_.length; i += 2) {\n            var key = this.paramCache_[i++],\n                value = this.paramCache_[i++];\n            if (!(key in paramMap)) {\n                paramMap[key] = [value];\n            } else {\n                paramMap[key].push(value);\n            }\n        }\n        return paramMap;\n    };\n    /**\n     * returns the first value for a given cgi parameter or null if the given\n     * parameter name does not appear in the query string.\n     * If the given parameter name does appear, but has no '<tt>=</tt>' following\n     * it, then the empty string will be returned.\n     * @return {string|null}\n     */\n    URI.prototype.getParameterValue = function (paramNameUnescaped) {\n        this.checkParameterCache_();\n        for (var i = 0; i < this.paramCache_.length; i += 2) {\n            if (paramNameUnescaped === this.paramCache_[i]) {\n                return this.paramCache_[i + 1];\n            }\n        }\n        return null;\n    };\n\n    URI.prototype.getFragment = function () {\n        return this.fragment_ && decodeURIComponent(this.fragment_);\n    };\n    URI.prototype.getRawFragment = function () {\n        return this.fragment_;\n    };\n    URI.prototype.setFragment = function (newFragment) {\n        this.fragment_ = newFragment ? encodeURIComponent(newFragment) : null;\n        return this;\n    };\n    URI.prototype.setRawFragment = function (newFragment) {\n        this.fragment_ = newFragment ? newFragment : null;\n        return this;\n    };\n    URI.prototype.hasFragment = function () {\n        return null !== this.fragment_;\n    };\n\n    function nullIfAbsent(matchPart) {\n        return ('string' == typeof matchPart) && (matchPart.length > 0)\n            ? matchPart\n            : null;\n    }\n\n\n\n\n    /**\n     * a regular expression for breaking a URI into its component parts.\n     *\n     * <p>http://www.gbiv.com/protocols/uri/rfc/rfc3986.html#RFC2234 says\n     * As the \"first-match-wins\" algorithm is identical to the \"greedy\"\n     * disambiguation method used by POSIX regular expressions, it is natural and\n     * commonplace to use a regular expression for parsing the potential five\n     * components of a URI reference.\n     *\n     * <p>The following line is the regular expression for breaking-down a\n     * well-formed URI reference into its components.\n     *\n     * <pre>\n     * ^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?\n     *  12            3  4          5       6  7        8 9\n     * </pre>\n     *\n     * <p>The numbers in the second line above are only to assist readability; they\n     * indicate the reference points for each subexpression (i.e., each paired\n     * parenthesis). We refer to the value matched for subexpression <n> as $<n>.\n     * For example, matching the above expression to\n     * <pre>\n     *     http://www.ics.uci.edu/pub/ietf/uri/#Related\n     * </pre>\n     * results in the following subexpression matches:\n     * <pre>\n     *    $1 = http:\n     *    $2 = http\n     *    $3 = //www.ics.uci.edu\n     *    $4 = www.ics.uci.edu\n     *    $5 = /pub/ietf/uri/\n     *    $6 = <undefined>\n     *    $7 = <undefined>\n     *    $8 = #Related\n     *    $9 = Related\n     * </pre>\n     * where <undefined> indicates that the component is not present, as is the\n     * case for the query component in the above example. Therefore, we can\n     * determine the value of the five components as\n     * <pre>\n     *    scheme    = $2\n     *    authority = $4\n     *    path      = $5\n     *    query     = $7\n     *    fragment  = $9\n     * </pre>\n     *\n     * <p>msamuel: I have modified the regular expression slightly to expose the\n     * credentials, domain, and port separately from the authority.\n     * The modified version yields\n     * <pre>\n     *    $1 = http              scheme\n     *    $2 = <undefined>       credentials -\\\n     *    $3 = www.ics.uci.edu   domain       | authority\n     *    $4 = <undefined>       port        -/\n     *    $5 = /pub/ietf/uri/    path\n     *    $6 = <undefined>       query without ?\n     *    $7 = Related           fragment without #\n     * </pre>\n     */\n    var URI_RE_ = new RegExp(\n        \"^\" +\n            \"(?:\" +\n            \"([^:/?#]+)\" +         // scheme\n            \":)?\" +\n            \"(?://\" +\n            \"(?:([^/?#]*)@)?\" +    // credentials\n            \"([^/?#:@]*)\" +        // domain\n            \"(?::([0-9]+))?\" +     // port\n            \")?\" +\n            \"([^?#]+)?\" +            // path\n            \"(?:\\\\?([^#]*))?\" +      // query\n            \"(?:#(.*))?\" +           // fragment\n            \"$\"\n    );\n\n    var URI_DISALLOWED_IN_SCHEME_OR_CREDENTIALS_ = /[#\\/\\?@]/g;\n    var URI_DISALLOWED_IN_PATH_ = /[\\#\\?]/g;\n\n    URI.parse = parse;\n    URI.create = create;\n    URI.resolve = resolve;\n    URI.collapse_dots = collapse_dots;  // Visible for testing.\n\n// lightweight string-based api for loadModuleMaker\n    URI.utils = {\n        mimeTypeOf: function (uri) {\n            var uriObj = parse(uri);\n            if (/\\.html$/.test(uriObj.getPath())) {\n                return 'text/html';\n            } else {\n                return 'application/javascript';\n            }\n        },\n        resolve: function (base, uri) {\n            if (base) {\n                return resolve(parse(base), parse(uri)).toString();\n            } else {\n                return '' + uri;\n            }\n        }\n    };\n\n\n    return URI;\n})();\n\nif (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n        exports = module.exports = URI;\n    }\n    exports.URI = URI;\n} else {\n\n    // Exports for closure compiler.\n    if (typeof window !== 'undefined') {\n        window['URI'] = URI;\n    }\n}\n\n},{}],33:[function(require,module,exports){\nvar html4 = require(\"./lib/html4.js\");\nvar URI = require(\"./lib/uri.js\");\n\n// Copyright (C) 2006 Google Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview\n * An HTML sanitizer that can satisfy a variety of security policies.\n *\n * <p>\n * The HTML sanitizer is built around a SAX parser and HTML element and\n * attributes schemas.\n *\n * If the cssparser is loaded, inline styles are sanitized using the\n * css property and value schemas.  Else they are remove during\n * sanitization.\n *\n * If it exists, uses parseCssDeclarations, sanitizeCssProperty,  cssSchema\n *\n * @author mikesamuel@gmail.com\n * @author jasvir@gmail.com\n * \\@requires html4, URI\n * \\@overrides window\n * \\@provides html, html_sanitize\n */\n\n// The Turkish i seems to be a non-issue, but abort in case it is.\nif ('I'.toLowerCase() !== 'i') { throw 'I/i problem'; }\n\n/**\n * \\@namespace\n */\nvar html = (function(html4) {\n\n    // For closure compiler\n    var parseCssDeclarations, sanitizeCssProperty, cssSchema;\n    if ('undefined' !== typeof window) {\n        parseCssDeclarations = window['parseCssDeclarations'];\n        sanitizeCssProperty = window['sanitizeCssProperty'];\n        cssSchema = window['cssSchema'];\n    }\n\n    // The keys of this object must be 'quoted' or JSCompiler will mangle them!\n    // This is a partial list -- lookupEntity() uses the host browser's parser\n    // (when available) to implement full entity lookup.\n    // Note that entities are in general case-sensitive; the uppercase ones are\n    // explicitly defined by HTML5 (presumably as compatibility).\n    var ENTITIES = {\n        'lt': '<',\n        'LT': '<',\n        'gt': '>',\n        'GT': '>',\n        'amp': '&',\n        'AMP': '&',\n        'quot': '\"',\n        'apos': '\\'',\n        'nbsp': '\\u00a0'\n    };\n\n    // Patterns for types of entity/character reference names.\n    var decimalEscapeRe = /^#(\\d+)$/;\n    var hexEscapeRe = /^#x([0-9A-Fa-f]+)$/;\n    // contains every entity per http://www.w3.org/TR/2011/WD-html5-20110113/named-character-references.html\n    var safeEntityNameRe = /^[A-Za-z][A-za-z0-9]+$/;\n    // Used as a hook to invoke the browser's entity parsing. <textarea> is used\n    // because its content is parsed for entities but not tags.\n    // TODO(kpreid): This retrieval is a kludge and leads to silent loss of\n    // functionality if the document isn't available.\n    var entityLookupElement =\n        ('undefined' !== typeof window && window['document'])\n            ? window['document'].createElement('textarea') : null;\n    /**\n     * Decodes an HTML entity.\n     *\n     * {\\@updoc\n     * $ lookupEntity('lt')\n     * # '<'\n     * $ lookupEntity('GT')\n     * # '>'\n     * $ lookupEntity('amp')\n     * # '&'\n     * $ lookupEntity('nbsp')\n     * # '\\xA0'\n     * $ lookupEntity('apos')\n     * # \"'\"\n     * $ lookupEntity('quot')\n     * # '\"'\n     * $ lookupEntity('#xa')\n     * # '\\n'\n     * $ lookupEntity('#10')\n     * # '\\n'\n     * $ lookupEntity('#x0a')\n     * # '\\n'\n     * $ lookupEntity('#010')\n     * # '\\n'\n     * $ lookupEntity('#x00A')\n     * # '\\n'\n     * $ lookupEntity('Pi')      // Known failure\n     * # '\\u03A0'\n     * $ lookupEntity('pi')      // Known failure\n     * # '\\u03C0'\n     * }\n     *\n     * @param {string} name the content between the '&' and the ';'.\n     * @return {string} a single unicode code-point as a string.\n     */\n    function lookupEntity(name) {\n        // TODO: entity lookup as specified by HTML5 actually depends on the\n        // presence of the \";\".\n        if (ENTITIES.hasOwnProperty(name)) { return ENTITIES[name]; }\n        var m = name.match(decimalEscapeRe);\n        if (m) {\n            return String.fromCharCode(parseInt(m[1], 10));\n        } else if (!!(m = name.match(hexEscapeRe))) {\n            return String.fromCharCode(parseInt(m[1], 16));\n        } else if (entityLookupElement && safeEntityNameRe.test(name)) {\n            entityLookupElement.innerHTML = '&' + name + ';';\n            var text = entityLookupElement.textContent;\n            ENTITIES[name] = text;\n            return text;\n        } else {\n            return '&' + name + ';';\n        }\n    }\n\n    function decodeOneEntity(_, name) {\n        return lookupEntity(name);\n    }\n\n    var nulRe = /\\0/g;\n    function stripNULs(s) {\n        return s.replace(nulRe, '');\n    }\n\n    var ENTITY_RE_1 = /&(#[0-9]+|#[xX][0-9A-Fa-f]+|\\w+);/g;\n    var ENTITY_RE_2 = /^(#[0-9]+|#[xX][0-9A-Fa-f]+|\\w+);/;\n    /**\n     * The plain text of a chunk of HTML CDATA which possibly containing.\n     *\n     * {\\@updoc\n     * $ unescapeEntities('')\n     * # ''\n     * $ unescapeEntities('hello World!')\n     * # 'hello World!'\n     * $ unescapeEntities('1 &lt; 2 &amp;&AMP; 4 &gt; 3&#10;')\n     * # '1 < 2 && 4 > 3\\n'\n     * $ unescapeEntities('&lt;&lt <- unfinished entity&gt;')\n     * # '<&lt <- unfinished entity>'\n     * $ unescapeEntities('/foo?bar=baz&copy=true')  // & often unescaped in URLS\n     * # '/foo?bar=baz&copy=true'\n     * $ unescapeEntities('pi=&pi;&#x3c0;, Pi=&Pi;\\u03A0') // FIXME: known failure\n     * # 'pi=\\u03C0\\u03c0, Pi=\\u03A0\\u03A0'\n     * }\n     *\n     * @param {string} s a chunk of HTML CDATA.  It must not start or end inside\n     *     an HTML entity.\n     */\n    function unescapeEntities(s) {\n\tif(s) {\n\t    return s.replace(ENTITY_RE_1, decodeOneEntity);\n\t}\n\telse {\n\t    return s;\n\t}\n    }\n\n    var ampRe = /&/g;\n    var looseAmpRe = /&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi;\n    var ltRe = /[<]/g;\n    var gtRe = />/g;\n    var quotRe = /\\\"/g;\n\n    /**\n     * Escapes HTML special characters in attribute values.\n     *\n     * {\\@updoc\n     * $ escapeAttrib('')\n     * # ''\n     * $ escapeAttrib('\"<<&==&>>\"')  // Do not just escape the first occurrence.\n     * # '&#34;&lt;&lt;&amp;&#61;&#61;&amp;&gt;&gt;&#34;'\n     * $ escapeAttrib('Hello <World>!')\n     * # 'Hello &lt;World&gt;!'\n     * }\n     */\n    function escapeAttrib(s) {\n\tif(s) {\n\t    return ('' + s).replace(ampRe, '&amp;').replace(ltRe, '&lt;')\n            .replace(gtRe, '&gt;').replace(quotRe, '&#34;');\n\t}\n\telse {\n\t    return s;\n\t}\n        \n    }\n\n    /**\n     * Escape entities in RCDATA that can be escaped without changing the meaning.\n     * {\\@updoc\n     * $ normalizeRCData('1 < 2 &&amp; 3 > 4 &amp;& 5 &lt; 7&8')\n     * # '1 &lt; 2 &amp;&amp; 3 &gt; 4 &amp;&amp; 5 &lt; 7&amp;8'\n     * }\n     */\n    function normalizeRCData(rcdata) {\n\tif(rcdata) {\n\t    return rcdata\n                .replace(looseAmpRe, '&amp;$1')\n                .replace(ltRe, '&lt;')\n                .replace(gtRe, '&gt;');\n\t}\n\telse {\n\t    return rcdata;\n\t}\n    }\n\n    // TODO(felix8a): validate sanitizer regexs against the HTML5 grammar at\n    // http://www.whatwg.org/specs/web-apps/current-work/multipage/syntax.html\n    // http://www.whatwg.org/specs/web-apps/current-work/multipage/parsing.html\n    // http://www.whatwg.org/specs/web-apps/current-work/multipage/tokenization.html\n    // http://www.whatwg.org/specs/web-apps/current-work/multipage/tree-construction.html\n\n    // We initially split input so that potentially meaningful characters\n    // like '<' and '>' are separate tokens, using a fast dumb process that\n    // ignores quoting.  Then we walk that token stream, and when we see a\n    // '<' that's the start of a tag, we use ATTR_RE to extract tag\n    // attributes from the next token.  That token will never have a '>'\n    // character.  However, it might have an unbalanced quote character, and\n    // when we see that, we combine additional tokens to balance the quote.\n\n    var ATTR_RE = new RegExp(\n        '^\\\\s*' +\n            '([-.:\\\\w]+)' +             // 1 = Attribute name\n            '(?:' + (\n            '\\\\s*(=)\\\\s*' +           // 2 = Is there a value?\n                '(' + (                   // 3 = Attribute value\n                // TODO(felix8a): maybe use backref to match quotes\n                '(\\\")[^\\\"]*(\\\"|$)' +    // 4, 5 = Double-quoted string\n                    '|' +\n                    '(\\')[^\\']*(\\'|$)' +    // 6, 7 = Single-quoted string\n                    '|' +\n                    // Positive lookahead to prevent interpretation of\n                    // <foo a= b=c> as <foo a='b=c'>\n                    // TODO(felix8a): might be able to drop this case\n                    '(?=[a-z][-\\\\w]*\\\\s*=)' +\n                    '|' +\n                    // Unquoted value that isn't an attribute name\n                    // (since we didn't match the positive lookahead above)\n                    '[^\\\"\\'\\\\s]*' ) +\n                ')' ) +\n            ')?',\n        'i');\n\n    // false on IE<=8, true on most other browsers\n    var splitWillCapture = ('a,b'.split(/(,)/).length === 3);\n\n    // bitmask for tags with special parsing, like <script> and <textarea>\n    var EFLAGS_TEXT = html4.eflags['CDATA'] | html4.eflags['RCDATA'];\n\n    /**\n     * Given a SAX-like event handler, produce a function that feeds those\n     * events and a parameter to the event handler.\n     *\n     * The event handler has the form:{@code\n     * {\n   *   // Name is an upper-case HTML tag name.  Attribs is an array of\n   *   // alternating upper-case attribute names, and attribute values.  The\n   *   // attribs array is reused by the parser.  Param is the value passed to\n   *   // the saxParser.\n   *   startTag: function (name, attribs, param) { ... },\n   *   endTag:   function (name, param) { ... },\n   *   pcdata:   function (text, param) { ... },\n   *   rcdata:   function (text, param) { ... },\n   *   cdata:    function (text, param) { ... },\n   *   startDoc: function (param) { ... },\n   *   endDoc:   function (param) { ... }\n   * }}\n     *\n     * @param {Object} handler a record containing event handlers.\n     * @return {function(string, Object)} A function that takes a chunk of HTML\n     *     and a parameter.  The parameter is passed on to the handler methods.\n     */\n    function makeSaxParser(handler) {\n        // Accept quoted or unquoted keys (Closure compat)\n        var hcopy = {\n            cdata: handler.cdata || handler['cdata'],\n            comment: handler.comment || handler['comment'],\n            endDoc: handler.endDoc || handler['endDoc'],\n            endTag: handler.endTag || handler['endTag'],\n            pcdata: handler.pcdata || handler['pcdata'],\n            rcdata: handler.rcdata || handler['rcdata'],\n            startDoc: handler.startDoc || handler['startDoc'],\n            startTag: handler.startTag || handler['startTag']\n        };\n        return function(htmlText, param) {\n            return parse(htmlText, hcopy, param);\n        };\n    }\n\n    // Parsing strategy is to split input into parts that might be lexically\n    // meaningful (every \">\" becomes a separate part), and then recombine\n    // parts if we discover they're in a different context.\n\n    // TODO(felix8a): Significant performance regressions from -legacy,\n    // tested on\n    //    Chrome 18.0\n    //    Firefox 11.0\n    //    IE 6, 7, 8, 9\n    //    Opera 11.61\n    //    Safari 5.1.3\n    // Many of these are unusual patterns that are linearly slower and still\n    // pretty fast (eg 1ms to 5ms), so not necessarily worth fixing.\n\n    // TODO(felix8a): \"<script> && && && ... <\\/script>\" is slower on all\n    // browsers.  The hotspot is htmlSplit.\n\n    // TODO(felix8a): \"<p title='>>>>...'><\\/p>\" is slower on all browsers.\n    // This is partly htmlSplit, but the hotspot is parseTagAndAttrs.\n\n    // TODO(felix8a): \"<a><\\/a><a><\\/a>...\" is slower on IE9.\n    // \"<a>1<\\/a><a>1<\\/a>...\" is faster, \"<a><\\/a>2<a><\\/a>2...\" is faster.\n\n    // TODO(felix8a): \"<p<p<p...\" is slower on IE[6-8]\n\n    var continuationMarker = {};\n    function parse(htmlText, handler, param) {\n        var m, p, tagName;\n        var parts = htmlSplit(htmlText);\n        var state = {\n            noMoreGT: false,\n            noMoreEndComments: false\n        };\n        parseCPS(handler, parts, 0, state, param);\n    }\n\n    function continuationMaker(h, parts, initial, state, param) {\n        return function () {\n            parseCPS(h, parts, initial, state, param);\n        };\n    }\n\n    function parseCPS(h, parts, initial, state, param) {\n        try {\n            if (h.startDoc && initial == 0) { h.startDoc(param); }\n            var m, p, tagName;\n            for (var pos = initial, end = parts.length; pos < end;) {\n                var current = parts[pos++];\n                var next = parts[pos];\n                switch (current) {\n                    case '&':\n                        if (ENTITY_RE_2.test(next)) {\n                            if (h.pcdata) {\n                                h.pcdata('&' + next, param, continuationMarker,\n                                    continuationMaker(h, parts, pos, state, param));\n                            }\n                            pos++;\n                        } else {\n                            if (h.pcdata) { h.pcdata(\"&amp;\", param, continuationMarker,\n                                continuationMaker(h, parts, pos, state, param));\n                            }\n                        }\n                        break;\n                    case '<\\/':\n                        if ((m = /^([-\\w:]+)[^\\'\\\"]*/.exec(next))) {\n                            if (m[0].length === next.length && parts[pos + 1] === '>') {\n                                // fast case, no attribute parsing needed\n                                pos += 2;\n                                tagName = m[1].toLowerCase();\n                                if (h.endTag) {\n                                    h.endTag(tagName, param, continuationMarker,\n                                        continuationMaker(h, parts, pos, state, param));\n                                }\n                            } else {\n                                // slow case, need to parse attributes\n                                // TODO(felix8a): do we really care about misparsing this?\n                                pos = parseEndTag(\n                                    parts, pos, h, param, continuationMarker, state);\n                            }\n                        } else {\n                            if (h.pcdata) {\n                                h.pcdata('&lt;/', param, continuationMarker,\n                                    continuationMaker(h, parts, pos, state, param));\n                            }\n                        }\n                        break;\n                    case '<':\n                        if (m = /^([-\\w:]+)\\s*\\/?/.exec(next)) {\n                            if (m[0].length === next.length && parts[pos + 1] === '>') {\n                                // fast case, no attribute parsing needed\n                                pos += 2;\n                                tagName = m[1].toLowerCase();\n                                if (h.startTag) {\n                                    h.startTag(tagName, [], param, continuationMarker,\n                                        continuationMaker(h, parts, pos, state, param));\n                                }\n                                // tags like <script> and <textarea> have special parsing\n                                var eflags = html4.ELEMENTS[tagName];\n                                if (eflags & EFLAGS_TEXT) {\n                                    var tag = { name: tagName, next: pos, eflags: eflags };\n                                    pos = parseText(\n                                        parts, tag, h, param, continuationMarker, state);\n                                }\n                            } else {\n                                // slow case, need to parse attributes\n                                pos = parseStartTag(\n                                    parts, pos, h, param, continuationMarker, state);\n                            }\n                        } else {\n                            if (h.pcdata) {\n                                h.pcdata('&lt;', param, continuationMarker,\n                                    continuationMaker(h, parts, pos, state, param));\n                            }\n                        }\n                        break;\n                    case '<\\!--':\n                        // The pathological case is n copies of '<\\!--' without '-->', and\n                        // repeated failure to find '-->' is quadratic.  We avoid that by\n                        // remembering when search for '-->' fails.\n                        if (!state.noMoreEndComments) {\n                            // A comment <\\!--x--> is split into three tokens:\n                            //   '<\\!--', 'x--', '>'\n                            // We want to find the next '>' token that has a preceding '--'.\n                            // pos is at the 'x--'.\n                            for (p = pos + 1; p < end; p++) {\n                                if (parts[p] === '>' && /--$/.test(parts[p - 1])) { break; }\n                            }\n                            if (p < end) {\n                                if (h.comment) {\n                                    var comment = parts.slice(pos, p).join('');\n                                    h.comment(\n                                        comment.substr(0, comment.length - 2), param,\n                                        continuationMarker,\n                                        continuationMaker(h, parts, p + 1, state, param));\n                                }\n                                pos = p + 1;\n                            } else {\n                                state.noMoreEndComments = true;\n                            }\n                        }\n                        if (state.noMoreEndComments) {\n                            if (h.pcdata) {\n                                h.pcdata('&lt;!--', param, continuationMarker,\n                                    continuationMaker(h, parts, pos, state, param));\n                            }\n                        }\n                        break;\n                    case '<\\!':\n                        if (!/^\\w/.test(next)) {\n                            if (h.pcdata) {\n                                h.pcdata('&lt;!', param, continuationMarker,\n                                    continuationMaker(h, parts, pos, state, param));\n                            }\n                        } else {\n                            // similar to noMoreEndComment logic\n                            if (!state.noMoreGT) {\n                                for (p = pos + 1; p < end; p++) {\n                                    if (parts[p] === '>') { break; }\n                                }\n                                if (p < end) {\n                                    pos = p + 1;\n                                } else {\n                                    state.noMoreGT = true;\n                                }\n                            }\n                            if (state.noMoreGT) {\n                                if (h.pcdata) {\n                                    h.pcdata('&lt;!', param, continuationMarker,\n                                        continuationMaker(h, parts, pos, state, param));\n                                }\n                            }\n                        }\n                        break;\n                    case '<?':\n                        // similar to noMoreEndComment logic\n                        if (!state.noMoreGT) {\n                            for (p = pos + 1; p < end; p++) {\n                                if (parts[p] === '>') { break; }\n                            }\n                            if (p < end) {\n                                pos = p + 1;\n                            } else {\n                                state.noMoreGT = true;\n                            }\n                        }\n                        if (state.noMoreGT) {\n                            if (h.pcdata) {\n                                h.pcdata('&lt;?', param, continuationMarker,\n                                    continuationMaker(h, parts, pos, state, param));\n                            }\n                        }\n                        break;\n                    case '>':\n                        if (h.pcdata) {\n                            h.pcdata(\"&gt;\", param, continuationMarker,\n                                continuationMaker(h, parts, pos, state, param));\n                        }\n                        break;\n                    case '':\n                        break;\n                    default:\n                        if (h.pcdata) {\n                            h.pcdata(current, param, continuationMarker,\n                                continuationMaker(h, parts, pos, state, param));\n                        }\n                        break;\n                }\n            }\n            if (h.endDoc) { h.endDoc(param); }\n        } catch (e) {\n            if (e !== continuationMarker) { throw e; }\n        }\n    }\n\n    // Split str into parts for the html parser.\n    function htmlSplit(str) {\n        // can't hoist this out of the function because of the re.exec loop.\n        var re = /(<\\/|<\\!--|<[!?]|[&<>])/g;\n        str += '';\n        if (splitWillCapture) {\n            return str.split(re);\n        } else {\n            var parts = [];\n            var lastPos = 0;\n            var m;\n            while ((m = re.exec(str)) !== null) {\n                parts.push(str.substring(lastPos, m.index));\n                parts.push(m[0]);\n                lastPos = m.index + m[0].length;\n            }\n            parts.push(str.substring(lastPos));\n            return parts;\n        }\n    }\n\n    function parseEndTag(parts, pos, h, param, continuationMarker, state) {\n        var tag = parseTagAndAttrs(parts, pos);\n        // drop unclosed tags\n        if (!tag) { return parts.length; }\n        if (h.endTag) {\n            h.endTag(tag.name, param, continuationMarker,\n                continuationMaker(h, parts, pos, state, param));\n        }\n        return tag.next;\n    }\n\n    function parseStartTag(parts, pos, h, param, continuationMarker, state) {\n        var tag = parseTagAndAttrs(parts, pos);\n        // drop unclosed tags\n        if (!tag) { return parts.length; }\n        if (h.startTag) {\n            h.startTag(tag.name, tag.attrs, param, continuationMarker,\n                continuationMaker(h, parts, tag.next, state, param));\n        }\n        // tags like <script> and <textarea> have special parsing\n        if (tag.eflags & EFLAGS_TEXT) {\n            return parseText(parts, tag, h, param, continuationMarker, state);\n        } else {\n            return tag.next;\n        }\n    }\n\n    var endTagRe = {};\n\n    // Tags like <script> and <textarea> are flagged as CDATA or RCDATA,\n    // which means everything is text until we see the correct closing tag.\n    function parseText(parts, tag, h, param, continuationMarker, state) {\n        var end = parts.length;\n        if (!endTagRe.hasOwnProperty(tag.name)) {\n            endTagRe[tag.name] = new RegExp('^' + tag.name + '(?:[\\\\s\\\\/]|$)', 'i');\n        }\n        var re = endTagRe[tag.name];\n        var first = tag.next;\n        var p = tag.next + 1;\n        for (; p < end; p++) {\n            if (parts[p - 1] === '<\\/' && re.test(parts[p])) { break; }\n        }\n        if (p < end) { p -= 1; }\n        var buf = parts.slice(first, p).join('');\n        if (tag.eflags & html4.eflags['CDATA']) {\n            if (h.cdata) {\n                h.cdata(buf, param, continuationMarker,\n                    continuationMaker(h, parts, p, state, param));\n            }\n        } else if (tag.eflags & html4.eflags['RCDATA']) {\n            if (h.rcdata) {\n                h.rcdata(normalizeRCData(buf), param, continuationMarker,\n                    continuationMaker(h, parts, p, state, param));\n            }\n        } else {\n            throw new Error('bug');\n        }\n        return p;\n    }\n\n    // at this point, parts[pos-1] is either \"<\" or \"<\\/\".\n    function parseTagAndAttrs(parts, pos) {\n        var m = /^([-\\w:]+)/.exec(parts[pos]);\n        var tag = {};\n        tag.name = m[1].toLowerCase();\n        tag.eflags = html4.ELEMENTS[tag.name];\n        var buf = parts[pos].substr(m[0].length);\n        // Find the next '>'.  We optimistically assume this '>' is not in a\n        // quoted context, and further down we fix things up if it turns out to\n        // be quoted.\n        var p = pos + 1;\n        var end = parts.length;\n        for (; p < end; p++) {\n            if (parts[p] === '>') { break; }\n            buf += parts[p];\n        }\n        if (end <= p) { return void 0; }\n        var attrs = [];\n        while (buf !== '') {\n            m = ATTR_RE.exec(buf);\n            if (!m) {\n                // No attribute found: skip garbage\n                buf = buf.replace(/^[\\s\\S][^a-z\\s]*/, '');\n\n            } else if ((m[4] && !m[5]) || (m[6] && !m[7])) {\n                // Unterminated quote: slurp to the next unquoted '>'\n                var quote = m[4] || m[6];\n                var sawQuote = false;\n                var abuf = [buf, parts[p++]];\n                for (; p < end; p++) {\n                    if (sawQuote) {\n                        if (parts[p] === '>') { break; }\n                    } else if (0 <= parts[p].indexOf(quote)) {\n                        sawQuote = true;\n                    }\n                    abuf.push(parts[p]);\n                }\n                // Slurp failed: lose the garbage\n                if (end <= p) { break; }\n                // Otherwise retry attribute parsing\n                buf = abuf.join('');\n                continue;\n\n            } else {\n                // We have an attribute\n                var aName = m[1].toLowerCase();\n                var aValue = m[2] ? decodeValue(m[3]) : '';\n                attrs.push(aName, aValue);\n                buf = buf.substr(m[0].length);\n            }\n        }\n        tag.attrs = attrs;\n        tag.next = p + 1;\n        return tag;\n    }\n\n    function decodeValue(v) {\n        var q = v.charCodeAt(0);\n        if (q === 0x22 || q === 0x27) { // \" or '\n            v = v.substr(1, v.length - 2);\n        }\n        return unescapeEntities(stripNULs(v));\n    }\n\n    /**\n     * Returns a function that strips unsafe tags and attributes from html.\n     * @param {function(string, Array.<string>): ?Array.<string>} tagPolicy\n     *     A function that takes (tagName, attribs[]), where tagName is a key in\n     *     html4.ELEMENTS and attribs is an array of alternating attribute names\n     *     and values.  It should return a record (as follows), or null to delete\n     *     the element.  It's okay for tagPolicy to modify the attribs array,\n     *     but the same array is reused, so it should not be held between calls.\n     *     Record keys:\n     *        attribs: (required) Sanitized attributes array.\n     *        tagName: Replacement tag name.\n     * @return {function(string, Array)} A function that sanitizes a string of\n     *     HTML and appends result strings to the second argument, an array.\n     */\n    function makeHtmlSanitizer(tagPolicy) {\n        var stack;\n        var ignoring;\n        var emit = function (text, out) {\n            if (!ignoring) { out.push(text); }\n        };\n        return makeSaxParser({\n            'startDoc': function(_) {\n                stack = [];\n                ignoring = false;\n            },\n            'startTag': function(tagNameOrig, attribs, out) {\n                if (ignoring) { return; }\n                if (!html4.ELEMENTS.hasOwnProperty(tagNameOrig)) { return; }\n                var eflagsOrig = html4.ELEMENTS[tagNameOrig];\n                if (eflagsOrig & html4.eflags['FOLDABLE']) {\n                    return;\n                }\n\n                var decision = tagPolicy(tagNameOrig, attribs);\n                if (!decision) {\n                    ignoring = !(eflagsOrig & html4.eflags['EMPTY']);\n                    return;\n                } else if (typeof decision !== 'object') {\n                    throw new Error('tagPolicy did not return object (old API?)');\n                }\n                if ('attribs' in decision) {\n                    attribs = decision['attribs'];\n                } else {\n                    throw new Error('tagPolicy gave no attribs');\n                }\n                var eflagsRep;\n                var tagNameRep;\n                if ('tagName' in decision) {\n                    tagNameRep = decision['tagName'];\n                    eflagsRep = html4.ELEMENTS[tagNameRep];\n                } else {\n                    tagNameRep = tagNameOrig;\n                    eflagsRep = eflagsOrig;\n                }\n                // TODO(mikesamuel): relying on tagPolicy not to insert unsafe\n                // attribute names.\n\n                // If this is an optional-end-tag element and either this element or its\n                // previous like sibling was rewritten, then insert a close tag to\n                // preserve structure.\n                if (eflagsOrig & html4.eflags['OPTIONAL_ENDTAG']) {\n                    var onStack = stack[stack.length - 1];\n                    if (onStack && onStack.orig === tagNameOrig &&\n                        (onStack.rep !== tagNameRep || tagNameOrig !== tagNameRep)) {\n                        out.push('<\\/', onStack.rep, '>');\n                    }\n                }\n\n                if (!(eflagsOrig & html4.eflags['EMPTY'])) {\n                    stack.push({orig: tagNameOrig, rep: tagNameRep});\n                }\n\n                out.push('<', tagNameRep);\n                for (var i = 0, n = attribs.length; i < n; i += 2) {\n                    var attribName = attribs[i],\n                        value = attribs[i + 1];\n                    if (value !== null && value !== void 0) {\n                        out.push(' ', attribName, '=\"', escapeAttrib(value), '\"');\n                    }\n                }\n                out.push('>');\n\n                if ((eflagsOrig & html4.eflags['EMPTY'])\n                    && !(eflagsRep & html4.eflags['EMPTY'])) {\n                    // replacement is non-empty, synthesize end tag\n                    out.push('<\\/', tagNameRep, '>');\n                }\n            },\n            'endTag': function(tagName, out) {\n                if (ignoring) {\n                    ignoring = false;\n                    return;\n                }\n                if (!html4.ELEMENTS.hasOwnProperty(tagName)) { return; }\n                var eflags = html4.ELEMENTS[tagName];\n                if (!(eflags & (html4.eflags['EMPTY'] | html4.eflags['FOLDABLE']))) {\n                    var index;\n                    if (eflags & html4.eflags['OPTIONAL_ENDTAG']) {\n                        for (index = stack.length; --index >= 0;) {\n                            var stackElOrigTag = stack[index].orig;\n                            if (stackElOrigTag === tagName) { break; }\n                            if (!(html4.ELEMENTS[stackElOrigTag] &\n                                html4.eflags['OPTIONAL_ENDTAG'])) {\n                                // Don't pop non optional end tags looking for a match.\n                                return;\n                            }\n                        }\n                    } else {\n                        for (index = stack.length; --index >= 0;) {\n                            if (stack[index].orig === tagName) { break; }\n                        }\n                    }\n                    if (index < 0) { return; }  // Not opened.\n                    for (var i = stack.length; --i > index;) {\n                        var stackElRepTag = stack[i].rep;\n                        if (!(html4.ELEMENTS[stackElRepTag] &\n                            html4.eflags['OPTIONAL_ENDTAG'])) {\n                            out.push('<\\/', stackElRepTag, '>');\n                        }\n                    }\n                    if (index < stack.length) {\n                        tagName = stack[index].rep;\n                    }\n                    stack.length = index;\n                    out.push('<\\/', tagName, '>');\n                }\n            },\n            'pcdata': emit,\n            'rcdata': emit,\n            'cdata': emit,\n            'endDoc': function(out) {\n                for (; stack.length; stack.length--) {\n                    out.push('<\\/', stack[stack.length - 1].rep, '>');\n                }\n            }\n        });\n    }\n\n    var ALLOWED_URI_SCHEMES = /^(?:https?|mailto)$/i;\n\n    function safeUri(uri, effect, ltype, hints, naiveUriRewriter) {\n        if (!naiveUriRewriter) { return null; }\n        try {\n            var parsed = URI.parse('' + uri);\n            if (parsed) {\n                if (!parsed.hasScheme() ||\n                    ALLOWED_URI_SCHEMES.test(parsed.getScheme())) {\n                    var safe = naiveUriRewriter(parsed, effect, ltype, hints);\n                    return safe ? safe.toString() : null;\n                }\n            }\n        } catch (e) {\n            return null;\n        }\n        return null;\n    }\n\n    function log(logger, tagName, attribName, oldValue, newValue) {\n        if (!attribName) {\n            logger(tagName + \" removed\", {\n                change: \"removed\",\n                tagName: tagName\n            });\n        }\n        if (oldValue !== newValue) {\n            var changed = \"changed\";\n            if (oldValue && !newValue) {\n                changed = \"removed\";\n            } else if (!oldValue && newValue)  {\n                changed = \"added\";\n            }\n            logger(tagName + \".\" + attribName + \" \" + changed, {\n                change: changed,\n                tagName: tagName,\n                attribName: attribName,\n                oldValue: oldValue,\n                newValue: newValue\n            });\n        }\n    }\n\n    function lookupAttribute(map, tagName, attribName) {\n        var attribKey;\n        attribKey = tagName + '::' + attribName;\n        if (map.hasOwnProperty(attribKey)) {\n            return map[attribKey];\n        }\n        attribKey = '*::' + attribName;\n        if (map.hasOwnProperty(attribKey)) {\n            return map[attribKey];\n        }\n        return void 0;\n    }\n    function getAttributeType(tagName, attribName) {\n        return lookupAttribute(html4.ATTRIBS, tagName, attribName);\n    }\n    function getLoaderType(tagName, attribName) {\n        return lookupAttribute(html4.LOADERTYPES, tagName, attribName);\n    }\n    function getUriEffect(tagName, attribName) {\n        return lookupAttribute(html4.URIEFFECTS, tagName, attribName);\n    }\n\n    /**\n     * Sanitizes attributes on an HTML tag.\n     * @param {string} tagName An HTML tag name in lowercase.\n     * @param {Array.<?string>} attribs An array of alternating names and values.\n     * @param {?function(?string): ?string} opt_naiveUriRewriter A transform to\n     *     apply to URI attributes; it can return a new string value, or null to\n     *     delete the attribute.  If unspecified, URI attributes are deleted.\n     * @param {function(?string): ?string} opt_nmTokenPolicy A transform to apply\n     *     to attributes containing HTML names, element IDs, and space-separated\n     *     lists of classes; it can return a new string value, or null to delete\n     *     the attribute.  If unspecified, these attributes are kept unchanged.\n     * @return {Array.<?string>} The sanitized attributes as a list of alternating\n     *     names and values, where a null value means to omit the attribute.\n     */\n    function sanitizeAttribs(tagName, attribs,\n        opt_naiveUriRewriter, opt_nmTokenPolicy, opt_logger) {\n        // TODO(felix8a): it's obnoxious that domado duplicates much of this\n        // TODO(felix8a): maybe consistently enforce constraints like target=\n        for (var i = 0; i < attribs.length; i += 2) {\n            var attribName = attribs[i];\n            var value = attribs[i + 1];\n            var oldValue = value;\n            var atype = null, attribKey;\n            if ((attribKey = tagName + '::' + attribName,\n                html4.ATTRIBS.hasOwnProperty(attribKey)) ||\n                (attribKey = '*::' + attribName,\n                    html4.ATTRIBS.hasOwnProperty(attribKey))) {\n                atype = html4.ATTRIBS[attribKey];\n            }\n            if (atype !== null) {\n                switch (atype) {\n                    case html4.atype['NONE']: break;\n                    case html4.atype['SCRIPT']:\n                        value = null;\n                        if (opt_logger) {\n                            log(opt_logger, tagName, attribName, oldValue, value);\n                        }\n                        break;\n                    case html4.atype['STYLE']:\n                        if ('undefined' === typeof parseCssDeclarations) {\n                            value = null;\n                            if (opt_logger) {\n                                log(opt_logger, tagName, attribName, oldValue, value);\n                            }\n                            break;\n                        }\n                        var sanitizedDeclarations = [];\n                        parseCssDeclarations(\n                            value,\n                            {\n                                'declaration': function (property, tokens) {\n                                    var normProp = property.toLowerCase();\n                                    sanitizeCssProperty(\n                                        normProp, tokens,\n                                        opt_naiveUriRewriter\n                                            ? function (url) {\n                                            return safeUri(\n                                                url, html4.ueffects.SAME_DOCUMENT,\n                                                html4.ltypes.SANDBOXED,\n                                                {\n                                                    \"TYPE\": \"CSS\",\n                                                    \"CSS_PROP\": normProp\n                                                }, opt_naiveUriRewriter);\n                                        }\n                                            : null);\n                                    if (tokens.length) {\n                                        sanitizedDeclarations.push(\n                                            normProp + ': ' + tokens.join(' '));\n                                    }\n                                }\n                            });\n                        value = sanitizedDeclarations.length > 0 ?\n                            sanitizedDeclarations.join(' ; ') : null;\n                        if (opt_logger) {\n                            log(opt_logger, tagName, attribName, oldValue, value);\n                        }\n                        break;\n                    case html4.atype['ID']:\n                    case html4.atype['IDREF']:\n                    case html4.atype['IDREFS']:\n                    case html4.atype['GLOBAL_NAME']:\n                    case html4.atype['LOCAL_NAME']:\n                    case html4.atype['CLASSES']:\n                        value = opt_nmTokenPolicy ? opt_nmTokenPolicy(value) : value;\n                        if (opt_logger) {\n                            log(opt_logger, tagName, attribName, oldValue, value);\n                        }\n                        break;\n                    case html4.atype['URI']:\n                        value = safeUri(value,\n                            getUriEffect(tagName, attribName),\n                            getLoaderType(tagName, attribName),\n                            {\n                                \"TYPE\": \"MARKUP\",\n                                \"XML_ATTR\": attribName,\n                                \"XML_TAG\": tagName\n                            }, opt_naiveUriRewriter);\n                        if (opt_logger) {\n                            log(opt_logger, tagName, attribName, oldValue, value);\n                        }\n                        break;\n                    case html4.atype['URI_FRAGMENT']:\n                        if (value && '#' === value.charAt(0)) {\n                            value = value.substring(1);  // remove the leading '#'\n                            value = opt_nmTokenPolicy ? opt_nmTokenPolicy(value) : value;\n                            if (value !== null && value !== void 0) {\n                                value = '#' + value;  // restore the leading '#'\n                            }\n                        } else {\n                            value = null;\n                        }\n                        if (opt_logger) {\n                            log(opt_logger, tagName, attribName, oldValue, value);\n                        }\n                        break;\n                    default:\n                        value = null;\n                        if (opt_logger) {\n                            log(opt_logger, tagName, attribName, oldValue, value);\n                        }\n                        break;\n                }\n            } else {\n                value = null;\n                if (opt_logger) {\n                    log(opt_logger, tagName, attribName, oldValue, value);\n                }\n            }\n            attribs[i + 1] = value;\n        }\n        return attribs;\n    }\n\n    /**\n     * Creates a tag policy that omits all tags marked UNSAFE in html4-defs.js\n     * and applies the default attribute sanitizer with the supplied policy for\n     * URI attributes and NMTOKEN attributes.\n     * @param {?function(?string): ?string} opt_naiveUriRewriter A transform to\n     *     apply to URI attributes.  If not given, URI attributes are deleted.\n     * @param {function(?string): ?string} opt_nmTokenPolicy A transform to apply\n     *     to attributes containing HTML names, element IDs, and space-separated\n     *     lists of classes.  If not given, such attributes are left unchanged.\n     * @return {function(string, Array.<?string>)} A tagPolicy suitable for\n     *     passing to html.sanitize.\n     */\n    function makeTagPolicy(\n        opt_naiveUriRewriter, opt_nmTokenPolicy, opt_logger) {\n        return function(tagName, attribs) {\n            if (!(html4.ELEMENTS[tagName] & html4.eflags['UNSAFE'])) {\n                return {\n                    'attribs': sanitizeAttribs(tagName, attribs,\n                        opt_naiveUriRewriter, opt_nmTokenPolicy, opt_logger)\n                };\n            } else {\n                if (opt_logger) {\n                    log(opt_logger, tagName, undefined, undefined, undefined);\n                }\n            }\n        };\n    }\n\n    /**\n     * Sanitizes HTML tags and attributes according to a given policy.\n     * @param {string} inputHtml The HTML to sanitize.\n     * @param {function(string, Array.<?string>)} tagPolicy A function that\n     *     decides which tags to accept and sanitizes their attributes (see\n     *     makeHtmlSanitizer above for details).\n     * @return {string} The sanitized HTML.\n     */\n    function sanitizeWithPolicy(inputHtml, tagPolicy) {\n        var outputArray = [];\n        makeHtmlSanitizer(tagPolicy)(inputHtml, outputArray);\n        return outputArray.join('');\n    }\n\n    /**\n     * Strips unsafe tags and attributes from HTML.\n     * @param {string} inputHtml The HTML to sanitize.\n     * @param {?function(?string): ?string} opt_naiveUriRewriter A transform to\n     *     apply to URI attributes.  If not given, URI attributes are deleted.\n     * @param {function(?string): ?string} opt_nmTokenPolicy A transform to apply\n     *     to attributes containing HTML names, element IDs, and space-separated\n     *     lists of classes.  If not given, such attributes are left unchanged.\n     */\n    function sanitize(inputHtml,\n        opt_naiveUriRewriter, opt_nmTokenPolicy, opt_logger) {\n        var tagPolicy = makeTagPolicy(\n            opt_naiveUriRewriter, opt_nmTokenPolicy, opt_logger);\n        return sanitizeWithPolicy(inputHtml, tagPolicy);\n    }\n\n    // Export both quoted and unquoted names for Closure linkage.\n    var html = {};\n    html.escapeAttrib = html['escapeAttrib'] = escapeAttrib;\n    html.makeHtmlSanitizer = html['makeHtmlSanitizer'] = makeHtmlSanitizer;\n    html.makeSaxParser = html['makeSaxParser'] = makeSaxParser;\n    html.makeTagPolicy = html['makeTagPolicy'] = makeTagPolicy;\n    html.normalizeRCData = html['normalizeRCData'] = normalizeRCData;\n    html.sanitize = html['sanitize'] = sanitize;\n    html.sanitizeAttribs = html['sanitizeAttribs'] = sanitizeAttribs;\n    html.sanitizeWithPolicy = html['sanitizeWithPolicy'] = sanitizeWithPolicy;\n    html.unescapeEntities = html['unescapeEntities'] = unescapeEntities;\n    return html;\n})(html4);\n\nvar html_sanitize = html['sanitize'];\n\n// Exports for Closure compiler.  Note this file is also cajoled\n// for domado and run in an environment without 'window'\nif (typeof window !== 'undefined') {\n    window['html'] = html;\n    window['html_sanitize'] = html_sanitize;\n}\n\nvar Sanitizer = {};\n\n// Ensure backwards compatibility\nSanitizer.escapeAttrib = html.escapeAttrib;\nSanitizer.makeHtmlSanitizer = html.makeHtmlSanitizer;\nSanitizer.makeSaxParser = html.makeSaxParser;\nSanitizer.makeTagPolicy = html.makeTagPolicy;\nSanitizer.normalizeRCData = html.normalizeRCData\nSanitizer.sanitizeAttribs = html.sanitizeAttribs\nSanitizer.sanitizeWithPolicy = html.sanitizeWithPolicy\nSanitizer.unescapeEntities = html.unescapeEntities\nSanitizer.escape = html.escapeAttrib;\n\n// https://github.com/theSmaw/Caja-HTML-Sanitizer/issues/8\nSanitizer.sanitize = function(inputHtml, opt_naiveUriRewriter, opt_nmTokenPolicy, opt_logger) {\n    if (typeof(inputHtml) === \"string\") {\n        inputHtml = inputHtml.replace(/<([a-zA-Z]+)([^>]*)\\/>/g, '<$1$2></$1>');\n    }\n    \n    if (inputHtml) {\n        return html.sanitize(inputHtml, opt_naiveUriRewriter, opt_nmTokenPolicy, opt_logger);\n    }\n    else {\n        return inputHtml;\n    }\n    \n}\n\n// the browser, add 'Sanitizer' as a global object via a string identifier,\n// for Closure Compiler \"advanced\" mode.\nif (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n        exports = module.exports = Sanitizer;\n    }\n    exports.Sanitizer = Sanitizer;\n} else {\n    this.Sanitizer = Sanitizer;\n}\n\n},{\"./lib/html4.js\":31,\"./lib/uri.js\":32}],34:[function(require,module,exports){\n/**\n * Config Aggregator\n * @module core/config-aggregator\n * @exports {ConfigAggregator} The constructor\n */\n\n'use strict';\n\nvar util = require('../util/util');\nvar loggerFactory = require('../util/logger-factory');\nvar bunyan = require('browser-bunyan');\nvar defaultWidgetModel = require('./default-widget-model');\n\n/**\n * A <code>ConfigAggregator</code> is used to combine zero or more models into one.\n * @constructor\n */\nvar ConfigAggregator = function() {\n    this.log = loggerFactory.getLogger();\n};\n\n/**\n * Combines an array of zero or models into one. A default widget model is always used as a base.\n * @param {Object[]} models An array of widget models\n * @returns {Object} A single widget model\n */\nConfigAggregator.prototype.combine = function(models) {\n\n    var log = this.log;\n\n    var combinedModel = util.cloneDeep(defaultWidgetModel);\n    models.forEach(function(model) {\n        //merge all other properties\n        util.merge(combinedModel, util.omit(model, ['preferences', 'viewmodes']));\n\n        //latest model viewmodes and preferences take precedence\n        if(model.viewmodes) {\n            combinedModel.viewmodes = model.viewmodes;\n        }\n        if(model.preferences) {\n            combinedModel.preferences = model.preferences;\n        }\n    });\n\n    log.debug('Aggregated model created.');\n    if(log.level() <= bunyan.TRACE) {\n        log.trace('Aggregated model is this:\\n %s', JSON.stringify(combinedModel, null, '\\t'));\n    }\n\n    return combinedModel;\n};\n\nmodule.exports = ConfigAggregator;\n\n},{\"../util/logger-factory\":83,\"../util/util\":84,\"./default-widget-model\":37,\"browser-bunyan\":86}],35:[function(require,module,exports){\n/* jshint unused: vars */\n\n/**\n * Config Parser\n * @module core/config-parser\n * @exports {ConfigParser} The constructor\n */\n'use strict';\n\n/**\n * A <code>ConfigParser</code> is used to parse a string of data into a widget model\n * @interface\n * @constructor\n * @param {Object} opts Configuration options to initialize with\n * @param {Object} [opts.log] A logger object to use. Defaults to a default logger object\n */\nvar ConfigParser = function(opts) {};\n\n/**\n * Parses widget config text into a widget model\n * @method\n * @abstract\n * @param {string} configText The text to parse\n * @return {Object} A widget model\n */\nConfigParser.prototype.parse = function(configText) {\n    throw new Error('ConfigParser#parse must be overridden.');\n};\n\nmodule.exports = ConfigParser;\n},{}],36:[function(require,module,exports){\n/* jshint unused: vars */\n\n/**\n * Config Reaser\n * @module core/config-reader\n * @exports {ConfigReader} The constructor\n */\n\n'use strict';\n\n/**\n * A <code>ConfigReader</code> is used to read widget configuration from a source\n * @interface\n * @constructor\n * @param {Object} opts Configuration options to initialize with\n * @param {Object} [opts.useCache] Instructs the reader to cache the widget configuration string\n */\nvar ConfigReader = function(opts) {\n};\n\n/**\n * Reads the config text\n * @param location\n * @returns {Promise} Resolves to a widget model\n */\nConfigReader.prototype.read = function(location) {\n\n    throw new Error('ConfigReader#read must be overridden.');\n};\n\nmodule.exports = ConfigReader;\n},{}],37:[function(require,module,exports){\n/**\n * Default Widget Model\n * @module core/default-widget-model\n * @exports {Object} The default widget model\n */\n\n'use strict';\n\n//this is the default widget model used as a base for various things\nvar widgetModel = {\n    'id' : null,\n    'version' : null,\n    'height' : null,\n    'width' : null,\n    'viewmodes' : [ ],\n    'name' : null,\n    'shortName' : null,\n    'description' : null,\n    'author' : null,\n    'authorHref' : null,\n    'authorEmail' : null,\n    'preferences' : {},\n    'license' : null,\n    'licenseHref' : null,\n    'icons' : [ ],\n    'content' : {\n        'src' : 'index.html',\n        'type' : 'text/html',\n        'encoding' : 'UTF-8'\n    },\n    'features' : []\n};\n\nmodule.exports = widgetModel;\n},{}],38:[function(require,module,exports){\n/**\n * Pre-processing Renderer\n * Abstract helper class for adding pre-processing functionality to widget renderer strategies\n * This module expects the strategy author to overwrite two template methods:\n * <code>fetchStartFile</code> and <code>process</code>\n * @module core/pre-processing-widget-renderer\n */\n\n'use strict';\n\nvar WidgetRenderer  = require('./widget-renderer');\nvar VError          = require('../util/verror');\nvar loggerFactory   = require('../util/logger-factory');\nvar util            = require('../util/util');\nvar PromiseExt      = require('promise-extensions')(Promise);\nvar fetch           = require('../util/deduping-fetch');\n\n/**\n * Constructs a new <code>PreprocessingRenderer</code>\n * @interface\n * @constructor\n * @abstract\n */\nvar PreprocessingWidgetRenderer = function(datasourceResolverFactory, opts) {\n    this._opts = opts || {};\n    this.preprocessorMap = {};\n    this.log = loggerFactory.getLogger();\n\n    this._datasourceResolverFactory = datasourceResolverFactory;\n};\n\nPreprocessingWidgetRenderer.prototype = Object.create(WidgetRenderer.prototype);\n\n/**\n * Renders a widget. This calls the template methods <code>fetchStartFile</code> and <code>process</code>\n * in sequence.\n * @final\n * @param {Object} widgetModel The model of the widget to be rendered\n * @param {Object} widgetInstance The widget instance of the widget to be rendered\n * @returns {Promise}\n */\nPreprocessingWidgetRenderer.prototype.render = function(widgetModel, widgetInstance) {\n\n    var self = this;\n    var processPromise;\n\n    if(!this.isRendered()) {\n        var renderReadyPromises = [];\n\n        //get the start file (template method)\n        renderReadyPromises.push(this.fetchStartFile(widgetModel));\n\n        //look for a message bundle reference\n        var messageBundleUrl = widgetModel.preferences.messages && widgetModel.preferences.messages.value;\n        renderReadyPromises.push(messageBundleUrl ? this._fetchMessages(messageBundleUrl) : null);\n\n        //fetch datasources\n        var datasources = Object.keys(widgetModel.datasources || {}).map(function (datasourceName) {\n            return widgetModel.datasources[datasourceName];\n        });\n        if (datasources.length > 0) {\n            var datasourceResolutionContext = self._buildDatasourceContext(widgetModel, widgetInstance);\n            var datasourcePromises = datasources.map(function (datasource) {\n                return self._fetchDatasource(datasource, datasourceResolutionContext);\n            });\n            renderReadyPromises = renderReadyPromises.concat(datasourcePromises);\n        }\n\n        //rendering process\n        processPromise = PromiseExt.all(renderReadyPromises).spread(function (startFileContent, messageBundle) {\n\n            //remaining args will be the datasource(s)\n            var datasources = Array.prototype.slice.call(arguments, 2);\n\n            //combine datasources into one object\n            var datasourceContext = datasources.reduce(function (obj, datasource) {\n                obj[datasource.name] = datasource.data;\n                return obj;\n            }, {});\n\n            var renderingContext = util.assign({}, widgetModel, {\n                datasources: datasourceContext\n            });\n\n            return self.preprocess(widgetModel, startFileContent, renderingContext, messageBundle);\n        }).then(function (processedStartFileContent) {\n            return self.process(widgetModel, widgetInstance, processedStartFileContent);\n        }).catch(function (err) {\n            throw new VError(err, 'The widget [' + widgetModel.name + '] could not be rendered:\\n\\t' + err.message);\n        });\n    } else {\n        processPromise = PromiseExt.resolve(self.process(widgetModel, widgetInstance, null));\n    }\n    \n    return processPromise.then(function() {\n        return self.postprocess(widgetModel, widgetInstance);\n    });\n};\n\n/**\n * Fetches message bundles\n * @param url\n * @return {Object}\n * @private\n */\nPreprocessingWidgetRenderer.prototype._fetchMessages = function (url) {\n    var self = this;\n    var fetchFunction = util.isUrlForFile(url) ? require('../util/fetch-file') : fetch;\n    return fetchFunction(url).then(function (response) {\n        var messages = response.json();\n        self.log.trace('Fetched messages:\\n%s', messages);\n        return messages;\n    });\n};\n\n/**\n * Fetches given datasource from server. Uses datasource resolver factory to get a resolver\n * capable of handling the datasource.\n * @private\n * @param {Object} datasource A datasource to get data from\n * @param {Object} widgetModel A widget/container model\n * @param {Object} widgetInstance A widget/container instance object\n * @returns {Promise}\n */\nPreprocessingWidgetRenderer.prototype._fetchDatasource = function (datasource, context) {\n    var self = this;\n    var name = datasource.name;\n    var resolver = self._datasourceResolverFactory.getResolver(datasource);\n\n    return resolver.loadData(context).then(function (result) {\n        self.log.trace('Fetched datasource [%s]:\\n%s', name, result);\n        return {\n            name: name,\n            data: result\n        };\n    }).catch(function (err) {\n        self.log.error('Datasource [%s] fetch failed.', name, err);\n        return {\n            name: name,\n            error: err\n        };\n    });\n};\n\n/**\n * Merges an item model and general config options object (which holds apiRoot, contextRoot, etc)\n * to build a new object that is used as a context for expression resolution in data sources.\n * @param {Object} itemModel\n * @param {Object} widgetInstance\n * @returns {Object}\n * @private\n */\nPreprocessingWidgetRenderer.prototype._buildDatasourceContext = function (itemModel, widgetInstance) {\n    var itemOpts = {\n        itemRoot: widgetInstance.baseURI\n    };\n\n    return util.merge({}, this._opts, itemOpts, itemModel);\n};\n\n    /**\n * Template method to fetch a start file. Return either the contents of a start file or a promise which\n * resolves to the contents of a start file\n * @param {string} path The path of the widget\n * @param {Object} widgetModel The model of the widget to be rendered\n * @param {Object} widgetInstance The widget instance of the widget to be rendered\n */\nPreprocessingWidgetRenderer.prototype.fetchStartFile = function(path, widgetModel, widgetInstance) {\n\n    throw new Error('PreprocessingRenderer#fetchStartFile must be overridden.');\n};\n\n/**\n * Applies the registered preprocessors to a start file.\n * The preprocessor must have been registered with a mime type that matches the mime type of the start file\n * @private\n * @param {Object} widgetModel The widget model\n * @param {String} startFileContent The raw start file content to process\n * @param {String} data The data/context\n * @param {Object} messageBundle\n * @returns {Promise}\n */\nPreprocessingWidgetRenderer.prototype.preprocess = function(widgetModel, startFileContent, data, messageBundle) {\n\n    var mimeType = widgetModel.content.type;\n    if(startFileContent && this.preprocessorMap.hasOwnProperty(mimeType)) {\n        var processor = this.preprocessorMap[mimeType];\n        this.log.debug('Applying preprocessor for [%s] for [%s (%s)] ', processor.name, widgetModel.content.src,\n                       mimeType);\n        return processor.process(widgetModel, startFileContent, data, messageBundle);\n    } else {\n        return startFileContent;\n    }\n};\n\n/**\n * Does main rendering processing after a start file has been fetched and preprocessed\n * @param {Object} widgetModel The model of the widget to be rendered\n * @param {Object} widgetInstance The widget instance of the widget to be rendered\n * @param {String} startFileHtml The contents of the widget's start file\n * @param {String} startFileDir The actual path of the start file (after considering folder localization etc)\n */\nPreprocessingWidgetRenderer.prototype.process = function(widgetModel, widgetInstance, startFileHtml, startFileDir) {\n\n    throw new Error('PreprocessingRenderer#process must be overridden.');\n};\n\nPreprocessingWidgetRenderer.prototype.postprocess = function(widgetModel, widgetInstance) {\n\tthrow new Error('PreprocessingRenderer#postprocess must be overridden.');\n};\n\n/**\n * Invokes Javascript associated with the widget\n * @param widgetModel\n * @param widgetInstance\n */\nPreprocessingWidgetRenderer.prototype.invokeScripts = function(widgetModel, widgetInstance) {\n\n    throw new Error('PreprocessingRenderer#invokeScripts must be overridden.');\n};\n\n/**\n * Adds a preprocessor to the renderer\n * @param {String} mimeType This preprocessor will be applied to start files which have this mimetype\n * @param {Object} preprocessor Apply this preprocessor for start files with a matching mime typeg\n */\nPreprocessingWidgetRenderer.prototype.addPreprocessor = function(mimeType, preprocessor) {\n    if(this.preprocessorMap.hasOwnProperty(mimeType)) {\n        var oldProcessor = this.preprocessorMap[mimeType].name;\n        this.log.warn('Overriding a previously added preprocessor [%s] for the mime type [%s]', oldProcessor, mimeType);\n    }\n\n    preprocessor.name = preprocessor.name || 'Anonymous preprocessor';\n    this.log.debug('Adding the preprocessor [%s] for start files with the mime type [%s]', preprocessor.name, mimeType);\n    this.preprocessorMap[mimeType] = preprocessor;\n};\n\nmodule.exports = PreprocessingWidgetRenderer;\n\n},{\"../util/deduping-fetch\":78,\"../util/fetch-file\":80,\"../util/logger-factory\":83,\"../util/util\":84,\"../util/verror\":85,\"./widget-renderer\":42,\"promise-extensions\":145}],39:[function(require,module,exports){\n/**\n * Tne Widget Engine\n * @module core/widget-engine\n * @wxports {WidgetEngine}\n */\n\n'use strict';\n\nvar ExtPromise = require('promise-extensions')(Promise);\nvar util = require('../util/util');\nvar loggerFactory = require('../util/logger-factory');\nvar WidgetRenderer = require('./widget-renderer');\nvar ConfigReader = require('./config-reader');\nvar ConfigParser = require('./config-parser');\nvar WidgetStorage = require('./widget-storage');\nvar WidgetInstanceFactory = require('./widget-instance-factory');\nvar WidgetFeatureAugmenter = require('./widget-feature-augmenter');\nvar ConfigAggregator = require('./config-aggregator');\nvar VError = require('../util/verror');\n\nvar CONFIG_FILE_NAME = 'model.xml';\n\nvar pluginPhases = {\n    POST_READ: 'postRead',\n    PRE_RENDER: 'preRender',\n    POST_RENDER: 'postRender'\n};\n\nvar mimeTypes = {\n    html : 'text/html',\n    hbs : 'text/x-handlebars-template',\n    handlebars: 'text/x-handlebars-template',\n    'soy.js': 'application/x-soy',\n    'hbs.js': 'application/x-handlebars-template'\n};\n\n/**\n * The widget engine.\n * Uses supplied strategies and config to resolve and run a widget\n * @param {Object} config The configuration options to initiailze the widget engine with\n * @param {String} config.widgetPath A base path of the widget (without a file name)\n * @param {String} [config.configFile] The name of the config file to parse the widget meta data from. Usuatlly defaults\n *                                   to 'config.xml'\n * @param {Object} config.reader The reader strategy to use\n * @param {object} config.storage The storage strategy to use\n * @param {Object} config.renderer The rendering strategy to use\n * @param {Object} [config.initialModel] Feed a widgetr model directly into the engine\n * @param {Object} [config.log] A Bunyan logger to log messages with\n * @param {String} [config.initialId] A unique id to associate this widget with. This is declared externally so it can\n *                                    be shared with the externally defined logger\n * @constructor\n */\nvar WidgetEngine = function(config) {\n    this.config = config;\n\n    this.plugins = [];\n    this.features = [];\n\n    //stateless tools\n    this.widgetInstanceFactory = new WidgetInstanceFactory();\n    this.widgetFeatureAugmenter = new WidgetFeatureAugmenter();\n\n    this.log = loggerFactory.getLogger();\n\n    var failureMessages = validateConfig(this.config);\n    if(failureMessages.warnings.length) {\n        this.log.debug(failureMessages.warnings.join('\\n'));\n    }\n    if(failureMessages.errors.length) {\n        var message = 'Problems with widget config:\\n\\t' + failureMessages.errors.join('\\t\\n');\n        throw new VError(message);\n    }\n};\n\n/**\n * Starts the widget rendering process\n * @method\n * @returns {Promise} promise that resolves when complete\n */\nWidgetEngine.prototype.start = function() {\n\n    var startTime = new Date().getTime();\n\n    var log = this.log;\n    var config = this.config;\n    var plugins = this.plugins;\n    var features = this.features;\n    var initialModel = config.initialModel || {};\n    var widgetPath = config.widgetPath;\n    var configFile = config.configFile || CONFIG_FILE_NAME;\n\n    //convert empty strings urls to . to force the path as the current directory and not a falsy value\n    if(widgetPath === '') {\n        widgetPath = '.';\n    }\n\n    var widgetInstanceFactory = this.widgetInstanceFactory;\n    var widgetFeatureAugmenter = this.widgetFeatureAugmenter;\n\n    log.info('Starting widget @ %s...', widgetPath);\n    log.info('Entering READ phase.');\n\n    //READ PHASE\n    //read the widget config\n    var result = Promise.resolve({});\n\n    if(config.reader) {\n        result = result.then(function() {\n            var resolvedConfigFile =\n                (util.endsWith(widgetPath, '/') ? widgetPath : widgetPath + '/') + configFile;\n            return config.reader.read(resolvedConfigFile);\n        });\n    }\n    if(config.parser) {\n        result = result.then(function(configText) {\n            return config.parser.parse(configText);\n        });\n    }\n\n    return ExtPromise.all([initialModel, result]).then(function aggregateModels(configModels) {\n        log.debug('Aggregating models...');\n        var configAggregator = new ConfigAggregator({\n            log: log\n        });\n        return configAggregator.combine(configModels);\n    }).then(function postRead(widgetModel) {\n        log.info('Invoking plugins for POST READ phase...');\n        //POST READ PHASE. Plugins must return a widgetModel\n        return invokePluginsForPhase(plugins, log, pluginPhases.POST_READ, [ widgetModel ]);\n    }).spread(function createInstance(widgetModel) {\n        \n        //in older widget models the meta data might not allow a mime type to be specified, this guesses the mime type\n        //based on the file extension of the start file.\n        //this could potentially be implemented as a post-read plugin, but that seems overkill for this case.\n        //if the mime type is not the default value (text/html) do not try to guess it\n        if(!widgetModel.content.type  || widgetModel.content.type === mimeTypes.html) {\n            widgetModel.content.type = guessContentType(widgetModel);\n            log.debug('The start file type was inferred as [%s]', widgetModel.content.type);\n        }\n        \n        widgetModel.content.src = WidgetRenderer.getResolvedStartFilePath(widgetPath, widgetModel);\n\n        log.info('Widget config read for: %s (%s).', widgetModel.id, widgetModel.name);\n        log.info('Entering INSTANCE CREATION phase...');\n\n        //INSTANCE CREATION PHASE\n        var renderer = config.renderer;\n        var storage = config.storage;\n\n        //ensure an id is present for standalone environments where it may not have been populated with a UUID\n        widgetModel.id = widgetModel.id || util.randomId();\n\n        //init storage\n        storage.init(widgetModel.name, widgetModel.preferences, widgetModel.type);\n        log.debug('Widget storage initialized.');\n\n        //create a widget instance (needs renderer for width and height functions)\n        var widgetInstance = widgetInstanceFactory.makeWidget(widgetModel, storage, renderer, widgetPath);\n        log.debug('Widget instance created.');\n\n        //add features to the widget instance. Features are initiated with a widgetmodel for advanced ops\n        widgetFeatureAugmenter.addFeaturesToWidget(widgetInstance, features, widgetModel);\n        log.debug('%s feature(s) added to widget.', features.length);\n\n        return [widgetInstance, renderer, widgetModel];\n    }).spread(function preRender(widgetInstance, renderer, widgetModel) {\n        //PRE RENDER PHASE\n        log.info('Invoking plugins for PRE RENDER phase...');\n        var widgetPluginPromises =\n            invokePluginsForPhase(plugins, log, pluginPhases.PRE_RENDER, [ widgetInstance, renderer, widgetModel ]);\n        return widgetPluginPromises;\n    }).spread(function render(widgetInstance, renderer, widgetModel) {\n        log.info('Entering RENDERING phase...');\n        //RENDERING PHASE\n        var renderingPromise = renderer.render(widgetModel, widgetInstance);\n        return [ widgetInstance, renderer, widgetModel, renderingPromise ];\n    }).spread(function postRender(widgetInstance, renderer, widgetModel) {\n        log.info('Invoking plugins for POST RENDER phase...');\n        //POST RENDER PHASE. Plugins are not expected to return a value\n        var widgetPluginPromises =\n            invokePluginsForPhase(plugins, log, pluginPhases.POST_RENDER, [ widgetInstance, renderer, widgetModel ]);\n        return widgetPluginPromises;\n    }).spread(function renderingComplete(widgetInstance, renderer, widgetModel) {\n        var details = {};\n        var endTime = new Date().getTime();\n        details.time = endTime - startTime;\n        details.id = widgetModel.id;\n        details.message = 'Widget rendering for [' + widgetModel.name + '] completed in ' + details.time + 'ms.';\n        details.areaNodes = typeof renderer.getAreaNodes === 'function' ? renderer.getAreaNodes() : null;\n        log.info(details.message);\n        return details;\n    }).catch(function (e) {\n        log.error(e);\n        throw new VError(e, 'An error occurred whilst starting the widget.');\n    });\n};\n\n/**\n * Adds a new feature\n * @param {Object} feature\n * @returns {WidgetEngine} Returns this. Convenient for chaining\n */\nWidgetEngine.prototype.addFeature = function (feature) {\n\n    this.log.info('Adding feature for widget, %s', (feature.name || '[Anonymous feature]'));\n    if(typeof feature === 'object') {\n        this.features.push(feature);\n    }\n    return this;\n};\n\n/**\n * Adds a plugin\n * @param {Object} plugin\n * @returns {WidgetEngine} Returns this. Convenient for chaining\n */\nWidgetEngine.prototype.addPlugin = function (plugin) {\n\n    this.log.info('Adding plugin for widget, %s', (plugin.name || '[Anonymous plugin]'));\n    if(typeof plugin === 'object') {\n        this.plugins.push(plugin);\n    }\n    return this;\n};\n\n/**\n * @see core/widget-renderer#destroy\n */\nWidgetEngine.prototype.destroy = function () {\n    // Call each plugin's destroy method\n    this.plugins.forEach(function (plugin) {\n        if (typeof plugin.destroy === 'function') {\n            plugin.destroy();\n        }\n    });\n\n    this.config.renderer.destroy();\n};\n\nvar validateConfig = function(config) {\n\n    var messages = {\n        warnings: [],\n        errors: []\n    };\n\n    //widgetpath\n    if(typeof config.widgetPath !== 'string') {\n        messages.errors.push('You must supply a valid widget path');\n    } else if(config.widgetPath.indexOf(CONFIG_FILE_NAME) >= 0) {\n        messages.errors.push('Please supply the base path of your widget, not its configuration file path');\n    }\n\n    if(!config.initialModel && !config.reader) {\n        messages.warnings.push('No initial model or widget reader was provided. Can\\'t get any config');\n    }\n\n    if(config.reader && !config.parser) {\n        messages.warnings.push('A widget reader was provided, but not a widget config parser');\n    }\n\n    if(config.reader && !(config.reader instanceof ConfigReader)) {\n        messages.warnings.push('The configured widget reader might not be a valid ConfigReader instance');\n    }\n\n    if(config.parser && !(config.parser instanceof ConfigParser)) {\n        messages.warnings.push('The configured widget parser might not be a valid ConfigParser instance');\n    }\n\n    //storage\n    if(!config.storage) {\n        messages.errors.push('No widget storage is configured');\n    } else if(!(config.storage instanceof WidgetStorage)) {\n        messages.warnings.push('The configured widget storage might not be a valid WidgetStorage instance');\n    }\n\n    //renderer\n    if(!config.renderer) {\n        messages.errors.push('No widget renderer is configured');\n    } else if(!(config.renderer instanceof WidgetRenderer)) {\n        messages.warnings.push('The configured widget renderer might not be a valid WidgetRenderer instance');\n    }\n\n    return messages;\n};\n\nvar invokePluginsForPhase = function(plugins, log, phase, pluginArgs) {\n\n    var result = ExtPromise.all(pluginArgs);\n\n    //loop through the plugins and sequentially invoke the plugin function for the current phase\n    plugins.filter(function(plugin) {\n        return typeof plugin[phase] === 'function';\n    }).forEach(function(plugin) {\n        var pluginName = plugin.name || 'Anonymous plugin';\n        var lastArgs;\n\n        result = result.then(function(args) { // args is always an array\n            lastArgs = args;\n            var promise = plugin[phase].apply(plugin, args);\n\n            return [promise, args];\n        }).spread(function(pluginReturnValue, args) {\n\n            // if plugin returned nothing, fallback to arguments it was provided with\n            // otherwise we assume it returned what it got as the first argument\n            return pluginReturnValue === undefined ? args : [pluginReturnValue].concat(args.slice(1));\n        }).catch(function(e) {\n            // recover from failure, so that one failed plugin doesn't ruin widget rendering\n            var message = 'Failed to invoke plugin [' + pluginName + '] for [' + phase + ']';\n            log.error(e, message);\n\n            // keep running plugins with what last successfully invoked plugin returned\n            return lastArgs;\n        });\n    });\n\n    return result;\n};\n\nvar guessContentType = function(widgetModel) {\n    var results = widgetModel.content.src.match(/\\.([A-z0-9]+)$/);\n    return results && results[1] && mimeTypes[results[1]] || widgetModel.content.type;\n};\n\nmodule.exports = WidgetEngine;\n\n},{\"../util/logger-factory\":83,\"../util/util\":84,\"../util/verror\":85,\"./config-aggregator\":34,\"./config-parser\":35,\"./config-reader\":36,\"./widget-feature-augmenter\":40,\"./widget-instance-factory\":41,\"./widget-renderer\":42,\"./widget-storage\":43,\"promise-extensions\":145}],40:[function(require,module,exports){\n/**\n * Widget Feature Augmenter\n * This module is an extension of the functionality in the <code>widget-instance-factory</code> for adding features\n * to widget instances.\n * @module core/widget-feature-augmenter\n * @exports {WidgetFeatureAugmenter} The constructor\n */\n\n'use strict';\n\n/**\n * Augments a widget object by initializing and adding a set of feature instances to its feature api\n * @constructor\n */\nvar WidgetFeatureAugmenter = function() {\n};\n\n/**\n * Adds a a list of features to the widget\n * @param {Object} widgetInstance The widget instance to add the features to\n * @param {Array} featureInstances a list of features to augment\n * @param {Object} widgetModel\n * @returns {Object} the widget instance modified\n */\nWidgetFeatureAugmenter.prototype.addFeaturesToWidget = function(widgetInstance, featureInstances, widgetModel) {\n\n    featureInstances = featureInstances || [];\n\n    //helpers\n    function findFeatureInstance(featureName, featureInstances) {\n        return featureInstances.filter(function(featureInstance) {\n           return featureInstance.name === featureName;\n        })[0] || null;\n    }\n    function findFeatureConfig(featureName, widgetModel) {\n        return widgetModel.features.filter(function(featureConfig) {\n            return featureConfig.name === featureName;\n        })[0] || null;\n    }\n\n    //WORKAROUND:\n    //the idea with features is that the widget configuration must include a \"feature request\" for the feature \n    //to be available on the widget interface. this makes it clear by looking at a widget's configuration what\n    //features it uses.\n    //However our model does not yet support the \"feature request\" mechanism which makes features very prohibitive\n    //to use. This code is a workaround that ensure all available features are added to the widget config and, \n    //therefore, added to the widget interface\n    widgetModel.features = widgetModel.features || [];\n    featureInstances.forEach(function (featureInstance) {\n        //if the feature is not requested by the widget configuration, add it\n        if(featureInstance.name && !findFeatureConfig(featureInstance.name, widgetModel)) {\n            widgetModel.features.push({\n                name: featureInstance.name,\n                params: [],\n                required: false\n            });\n        }\n    });\n\n    var featureMap = {};\n    for(var i = 0; i < widgetModel.features.length; i++) {\n        var featureConfig = widgetModel.features[i];\n        var instance = findFeatureInstance(featureConfig.name, featureInstances);\n        if (instance) {\n            //initialize the feature instance with the widget specific params\n            if (typeof instance._init === 'function') {\n                instance._init(featureConfig.params, widgetInstance, widgetModel); //memory ok here?\n            }\n            Object.defineProperty(featureMap, instance.name, {\n                enumerable: true,\n                value: instance\n            });\n        } else if (featureConfig.required) {\n            //throw an error the instance for a required feature is not available\n            var message = 'Unable to render widget. A required feature is not available (' + featureConfig.name + ')';\n            throw new Error(message);\n        }\n    }\n    Object.defineProperty(widgetInstance, 'features', {\n        enumerable: false,\n        value: featureMap\n    });\n\n    return widgetInstance;\n};\n\nmodule.exports = WidgetFeatureAugmenter;\n},{}],41:[function(require,module,exports){\n/**\n * Widget Instance Factory\n * @module core/widget-instance-factory\n */\n\n'use strict';\n\nvar util = require('../util/util');\n\nvar STRING_PROPS = [\n    'author',\n    'version',\n    'id',\n    'authorEmail',\n    'authorHref',\n    'locale'\n];\n\nvar LOCALIZABLE_STRING_PROPS = [\n    'description',\n    'name',\n    'shortName'\n];\n\n/**\n * Creates widget instances\n * @constructor\n */\nvar  WidgetInstanceFactory = function() {\n};\n\n/**\n * Makes a widget instance\n * @param {Object} widgetModel The model to get the widget data from\n * @param {WidgetStorage} storage The storage strategy implementation to use for preferences\n * @param {WidgetRenderer} renderer A references to the renderer. Necessary for operations such as getting width/height\n * @param {string} The base path of the widget. This is the directory where the configuration doc can be found\n * @returns {Object} The widget instance\n */\nWidgetInstanceFactory.prototype.makeWidget = function(widgetModel, storage, renderer, widgetPath) {\n\n    var widget = {};\n    var locale = widgetModel.locale || null;\n\n    //baseURI\n    Object.defineProperty(widget, 'baseURI',  {\n        enumerable: true,\n        value: widgetPath\n    });\n\n    //define core string properties\n    STRING_PROPS.forEach(function (propName) {\n        Object.defineProperty(widget, propName, {\n            enumerable: true,\n            value: typeof widgetModel[propName] !== 'undefined' ? widgetModel[propName] : ''\n        });\n    });\n\n    //define localizable string properties\n    LOCALIZABLE_STRING_PROPS.forEach(function (propName) {\n\n        var value = null;\n\n        //try to find on the localized widget model\n        if(locale && widgetModel._lang) {\n            //find localized widget model\n            var possibleLocales = util.getDescendantLocales(locale);\n            var localizedWidgetModels = possibleLocales.map(function(possibleLocale) {\n                return widgetModel._lang[possibleLocale];\n            });\n            var getValueFromLocalizedWidgetModels = function(localizedWidgetModels) {\n                var value;\n                if(localizedWidgetModels.length) {\n                    var model = localizedWidgetModels.pop();\n                    if(model) {\n                        value = model[propName];\n                    }\n                    if(typeof value !== 'string') {\n                        return getValueFromLocalizedWidgetModels(localizedWidgetModels);\n                    }\n                }\n                return value;\n            };\n            value = getValueFromLocalizedWidgetModels(localizedWidgetModels);\n        }\n        //try to find default value if the localized model did not contain a valid value\n        if(typeof value !== 'string' && typeof widgetModel[propName] === 'string') {\n            value = widgetModel[propName];\n        }\n        //if there is no default value, try to match to the default locale\n        else if(typeof value !== 'string' && widgetModel.defaultlocale) {\n            var defaultLocalizedWidgetModel = widgetModel._lang[widgetModel.defaultlocale];\n            if(defaultLocalizedWidgetModel) {\n                value = defaultLocalizedWidgetModel[propName];\n            }\n        }\n\n        Object.defineProperty(widget, propName, {\n            enumerable: true,\n            value: typeof value === 'string' ? value : ''\n        });\n    });\n\n    //width and height\n    Object.defineProperty(widget, 'width', {\n        enumerable: true,\n        get: function() {\n            return renderer.getWidth();\n        }\n    });\n    Object.defineProperty(widget, 'height', {\n        enumerable: true,\n        get: function() {\n            return renderer.getHeight();\n        }\n    });\n\n    //preferences\n    Object.defineProperty(widget, 'preferences', {\n        enumerable: false,\n        value: storage\n    });\n\n    return widget;\n};\n\nmodule.exports = WidgetInstanceFactory;\n\n},{\"../util/util\":84}],42:[function(require,module,exports){\n/* jshint unused: vars */\n\n/**\n * Tne Widget Engine\n * @module core/widget-renderer\n * @exports {WidgetRenderer} The constructor\n */\n\n'use strict';\n\nvar util = require('../util/util');\n\n/**\n * Renders a widget\n * @interface\n * @constructor\n * @param {Object} opts\n * @param {String} [opts.useFolderLocalization] Explicitly instructs the renderer to attempt to use folder\n *                                            localization. i.e. To look for the start file in\n *                                            /widgetPath/[locale]/index.html\n */\nvar WidgetRenderer = function(opts) {};\n\n/**\n * Starts the rendering process\n * @param {Object} widgetModel\n * @param {Object} widgetInstance\n */\nWidgetRenderer.prototype.render = function(widgetModel, widgetInstance) {\n\n    throw new Error('WidgetRenderer#render must be overridden.');\n};\n\n/**\n * Process a startFile\n * @param {Object} widgetModel\n * @param {Object} widgetInstance\n * @param {String} startFileContent\n */\nWidgetRenderer.prototype.process = function(widgetModel, widgetInstance, startFileContent) {\n\n    throw new Error('WidgetRenderer#process must be overridden.');\n};\n\n/**\n * Returns the width of the widget\n */\nWidgetRenderer.prototype.getWidth = function() {\n\n    throw new Error('WidgetRenderer#getWidth must be overridden.');\n};\n\n/**\n * Returns the height of the widget\n */\nWidgetRenderer.prototype.getHeight = function() {\n\n    throw new Error('WidgetRenderer#getHeight must be overridden.');\n};\n\n/**\n * Returns the (typically) DOM node where the widget is rendered\n */\nWidgetRenderer.prototype.getWidgetNode = function() {\n\n    throw new Error('WidgetRenderer#getWidgetNode must be overridden.');\n};\n\n/**\n * Return the (typically) parent node of the where the widget was rendered\n */\nWidgetRenderer.prototype.getParentNode = function() {\n    throw new Error('WidgetRenderer#getContainerNode must be overridden.');\n};\n\n/**\n * Sets the parent node\n */\nWidgetRenderer.prototype.setParentNode = function() {\n    throw new Error('WidgetRenderer#setContainerNode must be overridden.');\n};\n\n/**\n * Returns a map of area nodes, which map area keys to dom nodes. Used by widgets that have children (containers)\n */\nWidgetRenderer.prototype.getAreaNodes = function() {\n\n    if (this.isContainer) {\n        throw new Error('WidgetRenderer#getAreaNodes must be overridden.');\n    }\n};\n\n/**\n * Cleans up dom elements created during the rendering process\n * (link tags, script tags, widget dom element)\n */\nWidgetRenderer.prototype.destroy = function() {\n    throw new Error('WidgetRenderer#destroy must be overriden.');\n};\n\n/**\n * Determines if the widget has already been rendered\n */\nWidgetRenderer.prototype.isRendered = function() {\n    throw new Error('WidgetRenderer#isRendered must be overridden.');\n};\n\n\n\n/**\n * Gets the widget mime type\n * @returns {string}\n */\nWidgetRenderer.prototype.getType = function() {\n\n    //default type for renderers\n    return 'text/html';\n};\n\n/**\n * Returns a stack of start files. Renderers should first attempt to render the top start file in the stack\n * and pop on each failure until a successful start file is found\n * @param widgetPath\n * @param widgetModel\n * @returns {Array}\n */\nWidgetRenderer.getResolvedStartFilePath = function(widgetPath, widgetModel) {\n\n    var startFileName = widgetModel.content && widgetModel.content.src ? widgetModel.content.src : 'index.html';\n    return makeFullPath(widgetPath, startFileName);\n};\n\nfunction makeFullPath(widgetPath, startFile) {\n\n    var noResolve =\n        //start file is absolute (http://...../index.html)\n        util.isUrlAbsolute(startFile) ||\n        //widget path is site relative (/path/to/widget) and so is start file (/assets/index.html)\n        (util.isUrlSiteRelative(widgetPath) && util.isUrlSiteRelative(startFile)) ||\n        //start file begins with the widget path    \n        (widgetPath && util.startsWith(startFile, widgetPath));\n\n    if (noResolve) {\n        return startFile;\n    } else {\n        var joinWithSlash = !util.endsWith(widgetPath, '/') && !util.startsWith(startFile, '/');\n        return joinWithSlash ? widgetPath + '/' + startFile : widgetPath + startFile;\n    }\n}\n\nmodule.exports = WidgetRenderer;\n},{\"../util/util\":84}],43:[function(require,module,exports){\n/* jshint unused: vars */\n\n/**\n * Widget Storage. This is an implementation of <a href=\"http://www.w3.org/TR/webstorage/\">W3C Web Storage</a>\n * @module core/widget-storage\n * @exports {WidgetStorage} The widget storage constructor\n */\n\n'use strict';\n\n/**\n * Widget decorator for web storage\n * @param storage A web storage implementation. e.g. sessionStorage\n * @constructor\n * @interface\n */\nfunction WidgetStorage(storage) {}\n\n/**\n * Initializes the storage\n * @method\n * @param {string} widgetInstanceId The widget id. Typically used as a key prefix in the underlying impl\n * @param {Array} preferences An array of preferences objects to initialize the storage with\n */\nWidgetStorage.prototype.init = function(widgetInstanceId, preferences) {\n    throw new Error('WidgetStorage#init must be overridden.');\n};\n\n/**\n * Gets an item\n * @param {string} key of the item to get\n */\nWidgetStorage.prototype.getItem = function(key) {\n    throw new Error('WidgetStorage#getItem must be overridden.');\n};\n\n/**\n * Sets or updates an item\n * @param {string} key\n * @param {string} value\n * @param {boolean} readonly\n */\nWidgetStorage.prototype.setItem = function(key, value, readonly) {\n    throw new Error('WidgetStorage#setItem must be overridden.');\n};\n\n/**\n * Removes the item from storage\n * @param {string} key\n */\nWidgetStorage.prototype.removeItem = function(key) {\n    throw new Error('WidgetStorage#removeItem must be overridden.');\n};\n\n/**\n * Clears the storage\n * @param {string} key\n */\nWidgetStorage.prototype.clear = function(key) {\n    throw new Error('WidgetStorage#removeItem must be overridden.');\n};\n\n/**\n * Returns a list of the keys used by this storage\n * @returns {Array} a list of keys\n */\nWidgetStorage.prototype.key = function(n) {\n    throw new Error('WidgetStorage#key must be overridden.');\n};\n\n/**\n * Export the constructor\n * @type {WidgetStorage}\n */\nmodule.exports = WidgetStorage;\n},{}],44:[function(require,module,exports){\n/**\n * Datasource resolver factory. It accepts resolver creating functions and use them to get\n * a resolver that can handle a datasource. @see {@link datasource/datasource-resolver} for more information on datasource\n * resolver.\n * @module datasource/datasource-resolver-factory\n * @exports {DatasourceResolverFactory}\n */\n\n'use strict';\n\nmodule.exports = DatasourceResolverFactory;\n\n/**\n * Creates an instance of a factory\n * @param {Object} opts Options object. Holds configuration options that is passed to a resolver creating functions.\n * @constructor\n */\nfunction DatasourceResolverFactory() {\n    this._resolvers = [];\n}\n\n/**\n * Adds a datasource resolver creating function to a factory.\n * @param {Function} resolverFunc A function that accepts a datasource as the first argument and configuration options\n * object as the second argument. The function should return an instance of a datasource resolver if the resolver can\n * handle that datasource or return undefined otherwise.\n */\nDatasourceResolverFactory.prototype.addResolver = function addResolver(resolverFunc) {\n    if (typeof resolverFunc !== 'function') {\n        throw new TypeError('resolverFunc argument must be a function');\n    }\n\n    this._resolvers.push(resolverFunc);\n};\n\n/**\n * Finds suitable datasource resolver for the given datasource. Throws an exception if a resolver not found.\n * If more than 1 resolver found, the last one returned.\n * @param {Object} datasource A datasource object\n * @param {string} datasource.name A datasource name\n * @param {string} datasource.uri A datasource URI\n * @param {Array<Object>} datasource.params A collection of objects that represent query parameters. An object has\n * name and value properties.\n * @returns {DatasourceResolver} An instance of a datasource resolver that can handle the datasource.\n */\nDatasourceResolverFactory.prototype.getResolver = function getResolver(datasource) {\n    var suitableResolvers = this._resolvers.map(function (resolverFunc) {\n        return resolverFunc(datasource);\n    }).filter(function (resolver) {\n        return !!resolver;\n    });\n\n    var len = suitableResolvers.length;\n    if (len === 0) {\n        throw new Error('No datasource resolver found which can handle [' + datasource.uri + '] URI');\n    }\n\n    // return the last resolver in case more than one resolver found\n    return suitableResolvers[len - 1];\n};\n\n},{}],45:[function(require,module,exports){\n(function (global){\n/**\n * A set of helpers a datasource resolver needs to build a request URL\n */\n'use strict';\n\nvar EXPRESSION_TOKENIZER = /\\$\\{([^}\\s]+)}/g;\nvar SLASHES_REGEXP = /^\\/+|\\/+$/g;\n\n/**\n * Resolves expressions in a string. \"${path_to_property}\" is an expression where path_to_value is a\n * path to a property in the context object a value of which should replace the expression.\n * Path may reference a property of a nested object, for example ${propA.propB.propC}.\n * @param {Object} context An object an templateString is resolved against\n * @param {string} templateString A template string which may contain \"${path}\" expressions to be\n * replaced with actual values taken from the context object\n * @returns {string} The template string with resolved expressions\n */\nfunction resolveExpression (context, templateString) {\n    if (!templateString) {\n        return '';\n    }\n\n    return templateString.replace(EXPRESSION_TOKENIZER, function (token, content) {\n        var replaceValue = resolveValue(context, content);\n        return replaceValue === undefined || replaceValue === null ? '' : replaceValue;\n    });\n}\n\n/**\n * Takes a value of a property found by path\n * @param {Object} obj An object to traverse\n * @param {string} path A path to a property\n * @returns {*|undefined} A value of a property if it's found, undefined otherwise\n */\nfunction resolveValue (obj, path) {\n    var fields = typeof path === 'string' ? path.split('.') : path;\n    var index = 0;\n    var value = obj;\n    var length = fields.length;\n\n    while (value != null && index < length) { // jshint ignore:line\n        value = value[fields[index++]];\n    }\n\n    return (index && index === length) ? value : undefined;\n}\n\n/**\n * Decodes string before encoding in order to avoid double encoding issue\n * @param {string} str A source string\n * @returns {string} URI encoded string\n */\nfunction encodeURIComponent (str) {\n    var decodedStr = str;\n\n    try {\n        decodedStr = global.decodeURIComponent(str);\n    } catch(err) {}\n\n    return global.encodeURIComponent(decodedStr);\n}\n\n/**\n * Trims slashes from string\n * @param {string} source A source string\n * @returns {string}\n */\nfunction trimSlashes (source) {\n    return source.trim().replace(SLASHES_REGEXP, '');\n}\n\n/**\n * Resolves expressions in datasource parameter name and value\n * @param {Object} context An object expressions are resolved against\n * @param {object} param A datasource parameter\n * @returns {Object} A parameter with name and/or value resolved\n */\nfunction resolveParameter (context, parameter) {\n    var param = parameter || {};\n    var value = param.value;\n\n    return {\n        name: resolveExpression(context, param.name),\n        value: typeof value === 'string' ? resolveExpression(context, value) : value\n    };\n}\n\n/**\n * Builds query string from datasource parameters encoding their name and value\n * @param {Array} params An array of datasource parameters\n * @returns {string} A query string (name1=value1&name2=value2)\n */\nfunction buildQueryString(params) {\n    return (params || []).map(function (param) {\n        return encodeURIComponent(param.name) + '=' + encodeURIComponent(param.value);\n    }).join('&');\n}\n\n/**\n * Resolves parameter expressions and builds query string\n * @param {Object} context An object expressions are resolved against\n * @param {Array} params An array of datasource parameters\n * @returns {string} A query string\n */\nfunction resolveQueryString(context, params) {\n    var resolvedParams = (params || []).map(function (param) {\n        return resolveParameter(context, param);\n    }).filter(function (param) {\n        return !!param.name;\n    });\n\n    return buildQueryString(resolvedParams);\n}\n\nmodule.exports = {\n    resolveExpression   : resolveExpression,\n    resolveParameter    : resolveParameter,\n    buildQueryString    : buildQueryString,\n    resolveQueryString  : resolveQueryString,\n    encodeURIComponent  : encodeURIComponent,\n    trimSlashes         : trimSlashes\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],46:[function(require,module,exports){\n/**\n * Handles a datasource by relying on an underlying datasource-specific implementation\n * @module datasource/datasource-resolver\n * @exports {DatasourceResolver}\n */\n\n'use strict';\nvar loggerFactory = require('../util/logger-factory');\nvar fetch         = require('../util/deduping-fetch');\n\n/**\n * Verifies a datasource URI schema\n * @param {string} schema A schema a datasource must have\n * @param {Object} datasource A datasource object\n * @param {string} datasource.uri datasource URI\n * @returns {boolean}\n */\nfunction defaultTestFunc(schema, datasource) {\n    var uri = datasource && datasource.uri;\n    return uri && uri.slice(0, schema.length).toLowerCase() === schema;\n}\n\nmodule.exports = DatasourceResolver;\n\n/**\n * Creates an instance of DatasourceResolver\n * @param {Object} strategy A datasource-specific implementation of a resolver. It must have \"resolveUrl\" and\n * \"processResponse\" methods.\n * @constructor\n */\nfunction DatasourceResolver(strategy) {\n    this._resolverImpl = strategy;\n\n    var parentLog = loggerFactory.getLogger();\n    this._log = parentLog.child({childName: 'datasource-resolver'});\n}\n\n/**\n * Loads data from a datasource. Delegates URL resolution and response processing to an underlying implementation.\n * @param {Object} context An object the implementation uses as a context for expression resolution\n * @returns {Promise.<*>} A promise is resolved with what processResponse method of the implementation returns\n */\nDatasourceResolver.prototype.loadData = function (context) {\n    var resolver = this._resolverImpl;\n    var url = resolver.resolveUrl(context);\n\n    return fetch(url).then(function (response) {\n        return !response.status || response.status >= 200 && response.status < 300 ?\n            Promise.resolve(response) : Promise.reject(new Error(response.statusText));\n    }).then(function (response) {\n        return resolver.processResponse(response, context);\n    });\n};\n\n/**\n * Creates a function that can be used by DatasourceResolverFactory to get a relevant datasource resolver\n * @param {string|Function} datasourceSchema Either a datasource URI schema or a function that verifies a resolver\n * can be used to handle a provided datasource\n * @param {Function} Resolver A constructor of datasource-specific resolver implementation.\n * @returns {Function} The function accepts a datasource parameter and returns either an instance of DatasourceResolver\n * initialized with the provided resolver implementation or undefined if the implementation cannot handle that\n * datasource.\n * @static\n */\nDatasourceResolver.createFactoryFunction = function factoryFunc(datasourceSchema, Resolver) {\n    var log = this._log;\n    var testFunc = typeof datasourceSchema === 'function' ?\n        datasourceSchema :\n        defaultTestFunc.bind(null, datasourceSchema);\n\n    return function (datasource) {\n        if (testFunc(datasource)) {\n            var resolverImpl = new Resolver(datasource, log);\n            return new DatasourceResolver(resolverImpl);\n        }\n    };\n};\n\n},{\"../util/deduping-fetch\":78,\"../util/logger-factory\":83}],47:[function(require,module,exports){\n(function (global){\n/**\n * Ths standard CXP Widget Engine Configuration for Portals\n * @module core/widget-engine\n * @exports {Html5SeamlessWidgetEngine}\n */\n\n// HTML5 Seamless widget wrapper\n// -----------------------------\n\n'use strict';\n\n//core engine\nvar WidgetEngine = require('./core/widget-engine');\n\n//strategies\nvar AutoConfigParser = require('./strategies/parser/auto-config-parser');\nvar FetchWidgetReader = require('./strategies/reader/fetch-widget-reader');\nvar Html5SeamlessRenderer = require('./strategies/renderer/html5-seamless-renderer');\nvar Html5LocalStorage = require('./strategies/storage/html5-local-storage');\nvar HandlebarsPreprocessor = require('./strategies/renderer/preprocessors/handlebars-preprocessor');\nvar SoyPreprocessor = require('./strategies/renderer/preprocessors/soy-preprocessor');\n\nvar DatasourceResolverFactory = require('./datasource/datasource-resolver-factory');\nvar ResourceDatasourceResolver = require('./strategies/datasource/resource-datasource-resolver');\nvar HttpDatasourceResolver = require('./strategies/datasource/http-datasource-resolver');\n\n//built in plugins\nvar CxpAdditionsPlugin = require ('./plugins/cxp-additions-plugin');\nvar ReplaceConfigVarsPlugin = require ('./plugins/replace-config-vars-plugin');\nvar BackbaseFormatPlugin = require ('./plugins/backbase-format-plugin');\n\nvar loggerFactory = require('./util/logger-factory');\nvar util = require('./util/util');\n\n// even though a new instance of widget engine is created for every item in a page, it's safe to use\n// single processor/factory instances as configuration variables don't change.\nvar handlebarsPreprocessor = null;\nvar getHandlebarsInstance = function(configVars) {\n    return handlebarsPreprocessor || (handlebarsPreprocessor = new HandlebarsPreprocessor(configVars));\n};\n\nvar soyPreprocessor = null;\nvar getSoyInstance = function(configVars) {\n    return soyPreprocessor || (soyPreprocessor = new SoyPreprocessor(configVars));\n};\n\n/**\n * Standard CXP Widget Engine\n * @param {Object} opts Config for construction\n * @param {Object} [opts.log] A custom parent Bunyan logger\n * @param {String} [opts.logLevel] A log level (trace,debug,info,warn,error). Defaults to 'info'\n * @constructor\n */\nvar Html5WidgetEngine = function(opts) {\n\n    opts = opts || {};\n    \n    //This will create a static instance of a logger that subsequent calls to loggerFactory.getLogger() will retrieve\n    loggerFactory.createLogger({\n        parentLog: opts.log,\n        loggerName: 'widget',\n        logLevel: opts.logLevel,\n        appendId: true\n    });\n};\n\n/**\n * Initialize the container engine\n * @param {Object} opts Config for initialization\n * @param {String} opts.widgetPath A base path of the widget (without a file name)\n * @param {Object} opts.widgetEl The DOM element to render this widget in.\n * @param {String} [opts.configFile] The name of the config file to parse the widget meta data from. Defaults\n *                                   to 'model.xml'. Set this to 'model.xml' for Backbase format widgets\n * @param {Object} [opts.configVars] A map of key/values used to replace placeholders in widget configuration.\n *                                   E.g. $(contextRoot)\n * @constructor\n */\nHtml5WidgetEngine.prototype.init = function(opts) {\n\n    opts = opts || {};\n\n    var widgetPath = opts.widgetPath;\n    var widgetEl = opts.widgetEl;\n    var configVars = (this.configVars = opts.configVars || {});\n\n    var reader = opts.reader || (opts.initialModel ? null : new FetchWidgetReader());\n    var parser = opts.parser || new AutoConfigParser();\n    var storage = opts.storage || new Html5LocalStorage();\n\n    var renderer = opts.renderer;\n    if (!renderer) {\n        var factory = new DatasourceResolverFactory();\n        factory.addResolver(ResourceDatasourceResolver.getInstance);\n        factory.addResolver(HttpDatasourceResolver.getInstance);\n\n        this._datasourceResolverFactory = factory;\n        renderer = new Html5SeamlessRenderer(widgetEl, factory, {\n            configVars: configVars\n        });\n    }\n\n    //validate configuration options\n    var confMsg;\n    if(typeof widgetPath !== 'string') {\n        confMsg = 'You must provide a widget path';\n    } else if(!widgetEl) {\n        confMsg = 'You must provide a widget parent node';\n    }\n    if(confMsg) {\n        throw new Error(confMsg);\n    }\n\n    //pre processors for handlebars and soy\n    var handlebarsPreprocessor = getHandlebarsInstance(configVars);\n    renderer.addPreprocessor('text/x-handlebars-template', handlebarsPreprocessor);\n    renderer.addPreprocessor('application/x-handlebars-template', handlebarsPreprocessor);\n\n    var soyPreprocessor = getSoyInstance(configVars);\n    renderer.addPreprocessor('application/x-soy', soyPreprocessor);\n\n    //create the internal widget engine\n    this.widgetEngine = new WidgetEngine({\n        configFile: opts.configFile,\n        widgetPath: widgetPath,\n        parser: parser,\n        reader: reader,\n        renderer: renderer,\n        storage: storage,\n        initialModel: opts.initialModel\n    });\n\n    //proprietary backbase stuff that's not deprecated\n    this.widgetEngine.addPlugin(new CxpAdditionsPlugin());\n\n    //replaces placeholders $(...) in model value\n    this.widgetEngine.addPlugin(new ReplaceConfigVarsPlugin({\n        contextRoot: configVars.contextRoot,\n        remoteContextRoot: configVars.remoteContextRoot || configVars.contextRoot, //still needed by mobile\n        apiRoot: configVars.apiRoot,\n        itemRoot: configVars.itemRoot || ''\n    }, { \n        full: !!configVars.fullConfigReplacement \n    }));\n\n    //angular usage is so ubiquitous we support it out of the box if the widget has an 'angular' preference set to true\n    this.widgetEngine.addPlugin({\n        name: 'Angular JS',\n        postRender: function(widgetInstance, widgetRenderer) {\n            var angular = global.angular;\n            if(angular) {\n                var widgetNode = widgetRenderer.getWidgetNode();\n                var angularModule = \n                    widgetNode.getAttribute('widget-ng-app') || widgetNode.getAttribute('data-widget-ng-app');\n                if(angularModule) {\n                    var strictDi = widgetNode.getAttribute('ng-strict-di') || \n                                   widgetNode.getAttribute('data-ng-strict-di');\n                    angular.element(document).ready(function() {\n                        angular.module(angularModule).value('widget', widgetInstance);\n                        angular.bootstrap(widgetInstance.body, [angularModule], {\n                            strictDi: util.parseBoolean(strictDi)\n                        });\n                    });\n                }\n            }\n\n            return widgetInstance;\n        }\n    });\n\n};\n\n/**\n * Add CXP5 compatibility\n * @param configVars\n */\nHtml5WidgetEngine.prototype.enableCompatibility = function() {\n    \n    var configVars = this.configVars || {};\n    \n    var bbPluginOpts = {\n        apiRoot: configVars.apiRoot || '',\n        contextRoot: configVars.contextRoot || '',\n        remoteContextRoot: configVars.remoteContextRoot || ''\n    };\n\n    var csrfToken = configVars.csrfToken;\n    if(csrfToken) {\n        bbPluginOpts.csrfToken = csrfToken;\n    }\n    this.widgetEngine.addPlugin(new BackbaseFormatPlugin(bbPluginOpts));\n};\n\n/**\n * Start rendering\n * @return {Promise}\n */\nHtml5WidgetEngine.prototype.start = function() {\n\n    return this.widgetEngine.start();\n};\n\n/**\n * Add a plugin\n * @param plugin\n * @return {Html5WidgetEngine}\n */\nHtml5WidgetEngine.prototype.addPlugin = function(plugin) {\n\n    this.widgetEngine.addPlugin(plugin);\n    return this;\n};\n\n/**\n * Add a feature\n * @param feature\n * @return {Html5WidgetEngine}\n */\nHtml5WidgetEngine.prototype.addFeature = function(feature) {\n\n    this.widgetEngine.addFeature(feature);\n    return this;\n};\n\n/**\n * Get the internal logger instance\n * @return {*}\n */\nHtml5WidgetEngine.prototype.getLogger = function() {\n\n    return this.log;\n};\n\n/**\n * Destroys the widget rendered by this engine\n * @return {*}\n */\nHtml5WidgetEngine.prototype.destroy = function () {\n    return this.widgetEngine.destroy();\n};\n\n/**\n * Registers a datasource creating function.\n * @param {Function} resolverFunc A function that accepts a datasource as the first argument and configuration options\n * object as the second one. The function should return an instance of a datasource resolver if the resolver can\n * handle that datasource or should return undefined otherwise.\n * @returns {Html5WidgetEngine}\n */\nHtml5WidgetEngine.prototype.addDatasourceResolver = function (resolverFunc) {\n    if (this._datasourceResolverFactory) {\n        this._datasourceResolverFactory.addResolver(resolverFunc);\n        return this;\n    } else {\n        throw new Error('This method cannot be called when custom renderer is provided');\n    }\n};\n\n//expose the widget engine constructor\nmodule.exports = Html5WidgetEngine;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./core/widget-engine\":39,\"./datasource/datasource-resolver-factory\":44,\"./plugins/backbase-format-plugin\":48,\"./plugins/cxp-additions-plugin\":55,\"./plugins/replace-config-vars-plugin\":56,\"./strategies/datasource/http-datasource-resolver\":57,\"./strategies/datasource/resource-datasource-resolver\":58,\"./strategies/parser/auto-config-parser\":59,\"./strategies/reader/fetch-widget-reader\":69,\"./strategies/renderer/html5-seamless-renderer\":70,\"./strategies/renderer/preprocessors/handlebars-preprocessor\":71,\"./strategies/renderer/preprocessors/soy-preprocessor\":72,\"./strategies/storage/html5-local-storage\":75,\"./util/logger-factory\":83,\"./util/util\":84}],48:[function(require,module,exports){\n'use strict';\n\nvar loggerFactory   = require('../util/logger-factory');\nvar util            = require('../util/util');\nvar ExtPromise      = require('promise-extensions')();\nvar widgetHandlers  = require('./backbase-format/widget-handlers');\nvar legacyWidgetApi = require('./backbase-format/legacy-widget-api');\nvar IncludeObject   = require('./backbase-format/include-object');\n\nvar convertToArray  = Array.prototype.slice.call.bind(Array.prototype.slice);\n\nmodule.exports = BackbaseFormatPlugin;\n\nfunction BackbaseFormatPlugin(opts) {\n\n    opts = opts || {};\n    this.opts = opts;\n\n    this.name = 'Backbase Format';\n    this.portalConf = opts.portalConf || {};\n    this.window = typeof window === 'undefined' ? opts.window : window;\n    this.log = loggerFactory.getLogger();\n    this.opts.log = this.log;\n}\n\n/**\n * Fix paths in the model\n * @param widgetModel\n */\nBackbaseFormatPlugin.prototype.postRead = function(widgetModel) {\n    //use hints in the model to guess if its a soy template\n    if(widgetModel.preferences.viewNamespace && widgetModel.content.config && !widgetModel.content.src) {\n        widgetModel.content.type = 'application/x-soy';\n        widgetModel.content.src = widgetModel.content.config;\n    }\n\n    return widgetModel;\n};\n\n/**\n * Makes the widgetInstance backwards compatible with the Backbase Format\n * @param widgetInstance\n * @param renderer\n * @param widgetModel\n * @return Returns the enhanced widget instance\n */\nBackbaseFormatPlugin.prototype.preRender = function(widgetInstance, renderer, widgetModel) {\n\n    this.log.info('Backbase format plugin is running in PRE RENDER phase...');\n\n    if(!widgetInstance.preferences.getItem('src')) {\n        widgetInstance.preferences.defineItem({\n            name: 'src',\n            value: widgetModel.content.src,\n            readonly: false\n        });\n    }\n    if(!widgetInstance.preferences.getItem('thumbnailUrl')) {\n        widgetInstance.preferences.defineItem({\n            name: 'thumbnailUrl',\n            value: widgetModel.icons[0],\n            readonly: false\n        });\n    }\n\n    //special case for legacy portal 5 preferences\n    if(!widgetInstance.preferences.getItem('title')) {\n        widgetInstance.preferences.defineItem({\n            name: 'title',\n            value: widgetModel.title,\n            readonly: false\n        });\n    }\n\n    var bbWidgetInstance = legacyWidgetApi.buildWidget(widgetInstance, widgetModel, this.log, this.portalConf.tags);\n\n    //need to update the preferences' event target if it has already been set to the widget instance that was cloned\n    var index = bbWidgetInstance.preferences.eventTarget ?\n        bbWidgetInstance.preferences.eventTarget.indexOf(widgetInstance) : -1;\n    if(index > -1) {\n        bbWidgetInstance.preferences.eventTarget[index] = bbWidgetInstance;\n    }\n\n    this.log.info('Backbase format plugin PRE RENDER done.');\n\n    return bbWidgetInstance;\n};\n\n/**\n * Parses special markup such as g:onload\n * @param widgetInstance\n * @param renderer\n * @param widgetModel\n */\nBackbaseFormatPlugin.prototype.postRender = function(widgetInstance, renderer, widgetModel) {\n    var self = this;\n    var log = this.log;\n    var window = this.window;\n    var chain;\n\n    log.info('Backbase format plugin is running in POST RENDER phase...');\n\n    legacyWidgetApi.applyPresentationApi(widgetInstance, renderer, widgetModel, log);\n\n    //g:includes\n    var includeElements = convertToArray(widgetInstance.body.getElementsByTagName('g:include'));\n    // in case of SSR, includeElements may contain g:includes from child items, so we need to filter\n    // them out (issue BACKLOG-14601)\n    var includes = includeElements.filter(function (gInclude) {\n        return util.ensureElementBelongsToItem(widgetInstance.name, gInclude);\n    }).map(function (gInclude) {\n        return new IncludeObject(gInclude, widgetInstance, widgetModel, self.opts);\n    });\n\n    if (includes.length) {\n        // define include related API on a widget instance\n        widgetInstance.includes = includes;\n        widgetInstance.refreshIncludes = function refreshIncludes() {\n            var resultPromises = this.includes.map(function (include) {\n                return include.refresh();\n            });\n\n            return ExtPromise.settleAll(resultPromises).then(function (inspections) {\n                var errorCount = inspections.filter(function(includePromiseInspection) {\n                    return includePromiseInspection.isRejected();\n                }).length;\n                if(errorCount > 0) {\n                    log.warn('%s includes failed to resolve.', errorCount);\n                }\n            });\n        };\n\n        // replace g:include element with corresponding content holder node an include object has\n        includes.forEach(function (include, i) {\n            var gElement = includeElements[i];\n            gElement.parentNode.replaceChild(include.htmlNode, gElement);\n        });\n\n        chain = widgetInstance.refreshIncludes();\n    } else {\n        chain = ExtPromise.resolve();\n    }\n\n    return chain.then(function () {\n        //do handlers\n        var chromeNode = findChromeNode(widgetInstance.body) || widgetInstance.body;\n        widgetHandlers.handleLoad(window, widgetInstance, log);\n        widgetHandlers.handlePrefModified(window, widgetInstance, log);\n        widgetHandlers.handleMaximize(window, widgetInstance, chromeNode, log);\n        widgetHandlers.handleRestore(window, widgetInstance, chromeNode, log);\n\n        log.info('Backbase format plugin POST RENDER done.');\n\n        return widgetInstance;\n    });\n};\n\nfunction findChromeNode (element) {\n    var parent = element;\n\n    while (parent) {\n        if (typeof parent.hasAttribute === 'function' && parent.hasAttribute('data-chrome')) {\n            return parent;\n        }\n        parent = parent.parentNode;\n    }\n    \n    return null;\n}\n\n},{\"../util/logger-factory\":83,\"../util/util\":84,\"./backbase-format/include-object\":50,\"./backbase-format/legacy-widget-api\":52,\"./backbase-format/widget-handlers\":54,\"promise-extensions\":145}],49:[function(require,module,exports){\n'use strict';\n\nvar util    = require('../../util/util');\n\nvar convertToArray = Array.prototype.slice.call.bind(Array.prototype.slice);\n\nmodule.exports = {\n    getStartFileFolder      : getStartFileFolder,\n    makeReferenceAbsolute   : makeRefAbsolute,\n    resolveExpression       : resolveExpression,\n    isEmpty                 : isEmpty,\n    convertToArray          : convertToArray\n};\n\nfunction getStartFileFolder (startFile, contextRoot) {\n\n    //strip file from widget src to get path\n    var widgetPath = startFile.replace(/\\/[^\\/]+$/, '');\n    //also replace context root placeholder\n    widgetPath = widgetPath.replace(/\\$\\(contextRoot\\)/, contextRoot);\n\n    var startFilePath = util.isUrlAbsolute(startFile) ? startFile : widgetPath + '/' + startFile;\n\n    return startFilePath.substring(0, startFilePath.lastIndexOf('/') + 1);\n}\n\nfunction makeRefAbsolute(html, remoteContextRoot) {\n    if(typeof DOMParser !== 'undefined') {\n        var parser = new DOMParser();\n        var doc = parser.parseFromString(html, 'text/html');\n        var imgs = convertToArray(doc.getElementsByTagName('img'));\n\n        imgs.forEach(function(img) {\n            var src = img.getAttribute('src');\n            if(src && util.isUrlSiteRelative(src)) {\n                src = new URL(src, remoteContextRoot).href;\n                img.setAttribute('src', src);\n            }\n        });\n\n        return doc.body.innerHTML;        \n    } else {\n        return html;\n    }\n}\n\nfunction resolveExpression(expression, context) {\n    var parts = expression.split('.');\n\n    function doNextPart(parts, val) {\n        val = val[parts.shift()];\n        if(parts.length > 0 && val && typeof val === 'object') {\n            return doNextPart(parts, val);\n        } else {\n            return val;\n        }\n    }\n\n    return doNextPart(parts, context);\n}\n\nfunction isEmpty(value) {\n    return value === undefined || value === null || value === '';\n}\n\n},{\"../../util/util\":84}],50:[function(require,module,exports){\n(function (global){\n/* globals Promise: false */\n'use strict';\n\nvar util                = require('../../util/util');\nvar bunyan              = require('browser-bunyan');\nvar helpers             = require('./include-helpers');\nvar ParameterBuilder    = require('./include-param-builder');\nvar fetch               = require('../../util/deduping-fetch');\n\nvar FormData    = global.FormData; // jshint ignore:line\n\nmodule.exports = IncludeObject;\n\n/**\n * Represents g:include element as an object with defined API\n * @param gIncludeNode\n * @param widget\n * @param widgetModel\n * @param opts\n * @constructor\n */\nfunction IncludeObject(gIncludeNode, widget, widgetModel, opts) {\n    opts = opts || {};\n\n    var contextRoot = opts.contextRoot || '';\n    var remoteContextRoot = opts.remoteContextRoot || '';\n    var localSource = gIncludeNode.getAttribute('local') === 'true';\n    var config = {\n        replaceRegex: /\\$\\{([a-zA-Z0-9-_.]+)\\}/g,\n        log: opts.log,\n        startFileFolder: helpers.getStartFileFolder(widgetModel.content.src, contextRoot),\n        contextRoot: (localSource || !remoteContextRoot) ? contextRoot : remoteContextRoot,\n        csrfToken: opts.csrfToken\n    };\n\n    Object.defineProperty(this, '_config', {\n        value: config\n    });\n\n    this.widget = widget;\n    this.uri = {\n        template: gIncludeNode.getAttribute('src')\n    };\n    this.proxy = gIncludeNode.getAttribute('proxy') === 'true';\n    this.method = gIncludeNode.getAttribute('method') || 'GET';\n\n    var htmlNode = global.document.createElement('div');\n    htmlNode.className = 'bp-g-include';\n\n    this.htmlNode = htmlNode;\n\n    var parameterBuilder = new ParameterBuilder(widgetModel, opts);\n    this.params = parameterBuilder.buildParameters(this, gIncludeNode);\n}\n\n/**\n * Sets URI a include object should send requests to.\n * @param {String} uri\n */\nIncludeObject.prototype.setURI = function setUri (uri) {\n    if (uri && typeof uri === 'string') {\n        this.uri.template = uri;\n    }\n};\n\n/**\n * Returns resolved URI\n * @returns {*}\n */\nIncludeObject.prototype.getContentURI = function getContentURI () {\n    var src = this.uri.template;\n    if (!src) {\n        return '';\n    }\n\n    var config = this._config;\n    var self = this;\n\n    src = src.replace(config.replaceRegex, function (match, p1) {\n        return self.widget.getPreference(p1);\n    });\n\n    src = src.replace('$(contextRoot)', config.contextRoot);\n    if (util.isUrlDocumentRelative(src)) {\n        src = config.startFileFolder + src;\n        config.log.debug('g:include src after resolution is [%s]', src);\n    }\n\n    return src;\n};\n\n/**\n * Generates a request to a remote service and renders returned contents.\n * @returns {Promise} promise is resolved with html node that corresponds to this object\n */\nIncludeObject.prototype.refresh = function refresh () {\n    var config = this._config;\n    var log = config.log;\n\n    var requestParams = this._getRequestParams();\n    var requestUrl = this._resolveRequestUrl(requestParams);\n    var requestOptions = this._getRequestOptions(requestParams);\n\n    // send request then append received HTML to htmlNode\n    if(log.level() <= bunyan.DEBUG) {\n        var fetchOptsJson = JSON.stringify(requestOptions, null, '\\t');\n        log.debug('Making g:include http request to [%s] with fetch opts: [%s]', requestUrl, fetchOptsJson);\n    }\n\n    return fetch(requestUrl, requestOptions).then(function(res) {\n        log.debug('g:include request to [%s] completed with status: %s', requestUrl, res.status);\n        return res.status >= 200 && res.status < 300 ?\n            Promise.resolve(res.text()) : Promise.reject(res.statusText);\n    }).catch(function(statusText) {\n        return 'Unable to resolve g:include ( ' + statusText + ' )';\n    }).then(function(html) {\n        log.trace('Received html response:\\n%s', html);\n        if(util.isRunningOnFilesystem() && util.isUrlAbsolute(config.contextRoot)) {\n            html = helpers.makeReferenceAbsolute(html, config.contextRoot);\n        }\n        \n        this.htmlNode.innerHTML = html;\n        this.htmlNode.setAttribute('data-src', requestUrl);\n\n        return this.htmlNode;\n    }.bind(this));\n};\n\nIncludeObject.prototype._getRequestParams = function getRequestParams () {\n    var requestParams = [];\n\n    if (this.proxy) {\n        requestParams = this.params.filter(function (param) {\n            return param.destination === 'proxy';\n        });\n\n        var contentUri = this.getContentURI();\n        if (contentUri) {\n            var targetQueryParamsString = this.params.filter(function (param) {\n                return param.destination === 'target';\n            }).map(function (param) {\n                return param.toQueryString();\n            }).filter(function (qStr) {\n                return !!qStr;\n            }).join('&');\n\n            // create special 'url' parameter\n            var urlParam = {\n                name: 'url',\n                getQueryParams: function() {\n                    return [{\n                        name: this.name,\n                        value: contentUri + (contentUri.indexOf('?') !== -1 ? '&' : '?') + targetQueryParamsString\n                    }];\n                },\n                toQueryString: function() {\n                    var param = this.getQueryParams()[0];\n                    return param.name + '=' + encodeURIComponent(param.value);\n                }\n            };\n\n            requestParams.push(urlParam);\n        }\n    } else {\n        requestParams = this.params.filter(function (param) {\n            return param.destination === 'target';\n        });\n    }\n\n    return requestParams;\n};\n\nIncludeObject.prototype._resolveRequestUrl = function resolveRequestUrl(requestParams) {\n    var url = this.proxy ? this._config.contextRoot + '/proxy' : this.getContentURI();\n\n    if (this.method && this.method.toUpperCase() !== 'POST') {\n        var queryStr = requestParams.map(function (param) {\n            return param.toQueryString();\n        }).join('&');\n        url += (url.indexOf('?') >= 0 ? '&' : '?') + queryStr;\n    }\n\n    return url;\n};\n\nIncludeObject.prototype._getRequestOptions = function(requestParams) {\n    var config = this._config;\n    var options = {};\n\n    if (this.method && this.method.toUpperCase() === 'POST') {\n        options.method = this.method;\n        options.headers = {};\n        options.body = this._constructFormData(requestParams);\n\n        // CSRF token\n        var csrfToken = config.csrfToken;\n        if (csrfToken) {\n            options.headers[csrfToken.name] = csrfToken.value;\n        }\n    }\n\n    return options;\n};\n\nIncludeObject.prototype._constructFormData = function constructFormData(params) {\n    var formData = new FormData();\n\n    params.reduce(function (acc, param) {\n        return acc.concat(param.getQueryParams());\n    }, []).forEach(function (queryParam) {\n        formData.append(queryParam.name, queryParam.value);\n    });\n\n    return formData;\n};\n\n// obsolete methods\n['getContentIterator', 'hasContent', 'setContent'].forEach(function (method) {\n    IncludeObject.prototype[method] = function() {\n        this._config.log.warn('%s method is no longer supported in CXP6', method);\n    };\n});\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../../util/deduping-fetch\":78,\"../../util/util\":84,\"./include-helpers\":49,\"./include-param-builder\":51,\"browser-bunyan\":86}],51:[function(require,module,exports){\n'use strict';\n\nvar helpers = require('./include-helpers');\n\nmodule.exports = IncludeParameterBuilder;\n\n/**\n * Builds g:include parameter objects.\n * @param {Object} widgetModel widget model\n * @param {Object} opts options\n * @constructor\n */\nfunction IncludeParameterBuilder(widgetModel, opts) {\n    this._widgetModel = widgetModel;\n    this._log = opts.log;\n    this._remoteContextRoot = opts.remoteContextRoot || '';\n    this._contextRoot = opts.contextRoot || '';\n    this._apiRoot = opts.apiRoot || '';\n\n    // factory method map\n    this._paramFactoryMap = {\n        'g:http-param': this._buildHttpParam,\n        'g:http-proxy-param': this._buildHttpProxyParam,\n        'g:http-preference-param': this._buildPreferenceParam,\n        'g:http-preference-param-map': this._buildPreferenceParamMap\n    };\n}\n\n/**\n * Parses parameters found in g:include element and creates corresponding objects\n * @param {Object} includeObject include object created parameters belong to\n * @param {DOMElement} gIncludeNode g:include element\n * @returns {Array}\n */\nIncludeParameterBuilder.prototype.buildParameters = function buildParameters(includeObject, gIncludeNode) {\n    var self = this;\n    // retain order of parameters\n    var params = this._flattenElementTree(gIncludeNode).filter(function (node) {\n        var nodeName = node.nodeName.toLowerCase();\n        return (nodeName in self._paramFactoryMap);\n    }).map(function (paramTag) {\n        var nodeName = paramTag.nodeName.toLowerCase();\n        var parseFunc = self._paramFactoryMap[nodeName];\n\n        return parseFunc.call(self, paramTag, includeObject);\n    }).filter(function (param) {\n        return !!param;\n    });\n\n    // obsolete methods definition\n    params.forEach(function (param) {\n        ['getName', 'getValues'].forEach(function (method) {\n            param[method] = function() {\n                this._log.warn('%s method is no longer supported in CXP6', method);\n            };\n        });\n    });\n\n    return params;\n};\n\n/**\n * Converts tree of elements into a flat list of elements. Elements in a list are in document order.\n * @param rootElement\n * @returns {Array}\n * @private\n */\nIncludeParameterBuilder.prototype._flattenElementTree = function flattenElementTree(rootElement) {\n    var flatList = [];\n    var currentNode = rootElement.firstChild;\n\n    while (currentNode) {\n        if (currentNode.nodeType === 1) { // element\n            flatList.push(currentNode);\n        }\n\n        currentNode = currentNode.hasChildNodes() ? currentNode.firstChild : currentNode.nextSibling;\n    }\n\n    return flatList;\n};\n\n/**\n * Builds parameter object from g:http-param element\n * @param paramTag\n * @param includeObj\n * @param isProxy\n * @returns {Object}\n * @private\n */\nIncludeParameterBuilder.prototype._buildHttpParam = function buildHttpParam(paramTag, includeObj, isProxy) {\n    var contextRoot = this._remoteContextRoot || this._contextRoot;\n\n    var param = new HttpParameter(paramTag, includeObj, this._log, isProxy, contextRoot, this._apiRoot);\n    return param.value.template ? param : null;\n};\n\n/**\n * Builds parameter object flom g:http-proxy-param element\n * @param paramTag\n * @param includeObj\n * @returns {Object}\n * @private\n */\nIncludeParameterBuilder.prototype._buildHttpProxyParam = function buildHttpProxyParam(paramTag, includeObj) {\n    return this._buildHttpParam(paramTag, includeObj, true);\n};\n\n/**\n * Builds parameter object from g:http-preference-param element\n * @param paramTag\n * @param includeObj\n * @returns {Object}\n * @private\n */\nIncludeParameterBuilder.prototype._buildPreferenceParam = function buildPreferenceParam(paramTag, includeObj) {\n    var param = new PreferenceParameter(paramTag, includeObj, this._log);\n    return param.name.template ? param : null;\n};\n\n/**\n * Builds parameter object from g:http-preference-param-map element\n * @param paramTag\n * @param includeObj\n * @returns {Object}\n * @private\n */\nIncludeParameterBuilder.prototype._buildPreferenceParamMap = function buildPrefParamMap(paramTag, includeObj) {\n    var param = new PreferenceMapParameter(paramTag, includeObj, this._log, this._widgetModel);\n    return param._typeName ? param : null;\n};\n\n\n/**\n * Base parameter object\n * @param paramTag\n * @param includeObject\n * @param log\n * @param destination\n * @constructor\n */\nfunction IncludeParameter(paramTag, includeObject, log, destination) {\n    this.name = {\n        template: paramTag.getAttribute('name')\n    };\n    this.value = {\n        template: paramTag.getAttribute('value')\n    };\n    this.destination = destination || 'target';\n    this.method = (paramTag.getAttribute('method') || includeObject.method || 'GET').toUpperCase();\n\n    // read-only \"internal\" properties\n    Object.defineProperty(this, '_include', {value: includeObject});\n    Object.defineProperty(this, '_log', {value: log});\n}\n\n\nIncludeParameter.prototype.getQueryParams = function toQueryString() {\n    return [];\n};\n\nIncludeParameter.prototype.toQueryString = function toQueryString() {\n    return this.getQueryParams().map(function (param) {\n        return param.name + '=' + encodeURIComponent(param.value);\n    }).join('&');\n};\n\n\n/**\n * Represents g:http-preference-param-map parameter\n * @param paramTag\n * @param includeObject\n * @param log\n * @param widgetModel\n * @constructor\n */\nfunction PreferenceMapParameter(paramTag, includeObject, log, widgetModel) {\n    IncludeParameter.call(this, paramTag, includeObject, log);\n\n    var dataType = paramTag.getAttribute('dataType') || paramTag.getAttribute('datatype');\n    // type is used to build query param name\n    Object.defineProperty(this, '_typeName',  {\n        value: dataType\n    });\n\n    // remember name of preferences with the same type\n    var prefs = widgetModel.preferences || {};\n    var prefsOfType = Object.keys(prefs).filter(function (prefName) {\n        return prefs[prefName].type === dataType;\n    });\n\n    Object.defineProperty(this, '_prefs',  {\n       value: prefsOfType\n    });\n}\n\nPreferenceMapParameter.prototype = Object.create(IncludeParameter.prototype);\n\nPreferenceMapParameter.prototype.getQueryParams = function() {\n    var namespace = this._typeName;\n    var self = this;\n\n    return this._prefs.map(function (prefName) {\n        return {\n            name: namespace + '.' + prefName,\n            value: self._include.widget.getPreference(prefName)\n        };\n    });\n};\n\n/**\n * Represents g:http-preference-param parameter\n * @param paramTag\n * @param includeObject\n * @param log\n * @constructor\n */\nfunction PreferenceParameter(paramTag, includeObject, log) {\n    IncludeParameter.call(this, paramTag, includeObject, log);\n}\n\nPreferenceParameter.prototype = Object.create(IncludeParameter.prototype);\n\nPreferenceParameter.prototype.getQueryParams = function() {\n    var name = this.name ? this.name.template : null;\n    if (helpers.isEmpty(name)) {\n        return [];\n    }\n\n    var value = this._include.widget.getPreference(name);\n    if (helpers.isEmpty(value)) {\n        this._log.warn('Failed to resolve g:include parameter value. Parameter - [%s]', name);\n    }\n\n    return [{\n        name: name,\n        value: value\n    }];\n};\n\n/**\n * Represents g:http-param & g:http-proxy-param parameters\n * @param paramTag\n * @param includeObject\n * @param log\n * @param isProxy\n * @param contextRoot\n * @constructor\n */\nfunction HttpParameter(paramTag, includeObject, log, isProxy, contextRoot, apiRoot) {\n    var destination = isProxy ? 'proxy' : 'target';\n    IncludeParameter.call(this, paramTag, includeObject, log, destination);\n\n    // read-only \"internal\" properties\n    Object.defineProperty(this, '_replaceRegex', {value: /\\$\\{([a-zA-Z0-9-_]+)\\}/});\n    Object.defineProperty(this, '_contextRoot', {value: contextRoot});\n    Object.defineProperty(this, '_apiRoot', {value: apiRoot});\n}\n\nHttpParameter.prototype = Object.create(IncludeParameter.prototype);\n\nHttpParameter.prototype.getQueryParams = function() {\n    var name = this.name ? this.name.template : null;\n    var value = this.value ? this.value.template : null;\n    var origValue = value;\n    var widget = this._include.widget;\n    var contextRoot = this._contextRoot;\n    var apiRoot = this._apiRoot;\n\n    if (helpers.isEmpty(name) || helpers.isEmpty(value)) {\n        return [];\n    }\n\n    // resolve value\n    value = value.replace(this._replaceRegex, function (match, p1) {\n        //special case for contextRoot & apiRoot\n        if (p1 === 'contextRoot') {\n            return contextRoot;\n        } else if (p1 === 'apiRoot') {\n            return apiRoot;\n        } else {\n            return widget.getPreference(p1);\n        }\n    });\n\n    if (value.indexOf('__WIDGET__') === 0) {\n        var expression = value.split('.').filter(function(it, i) {\n            return i !== 0;\n        }).join('.');\n\n        value = helpers.resolveExpression(expression, widget);\n\n        if (helpers.isEmpty(value)) {\n            this._log.warn('Failed to resolve g:include parameter value. Parameter - [%s], unresolved value - [%s], ' +\n                'resolved value - [%s]',\n                name, origValue, value);\n        }\n    }\n\n    return [{\n        name: name,\n        value: value\n    }];\n};\n\n},{\"./include-helpers\":49}],52:[function(require,module,exports){\n(function (process,global){\n'use strict';\n\nvar util                    = require('../../util/util');\nvar EventTarget             = require('../../util/event-target');\nvar warnDeprecatedAccess    = require('./warn-deprecated-access');\nvar StorageEvent            = require('../../strategies/storage/storage-event');\n\nfunction buildWidget(widget, widgetModel, log, tags) {\n    var WIDGET_TYPE = 'backbaseWidget';\n\n    // need to clone the widget because we can't change readonly properties\n    var bbWidgetInstance = util.cloneDeep(widget);\n\n    bbWidgetInstance.width          = widget.width;\n    bbWidgetInstance.height         = widget.height;\n    bbWidgetInstance.preferences    = widget.preferences;\n    bbWidgetInstance.features       = widget.features;\n    bbWidgetInstance.id             = widgetModel.id || Math.random().toString(36).substr(2, 5);\n    bbWidgetInstance.name           = widgetModel.name;\n    bbWidgetInstance.nodeType       = 1;\n    bbWidgetInstance.nodeValue      = WIDGET_TYPE;\n    bbWidgetInstance.margins        = { top: 0, right: 0, bottom: 0, left: 0 };\n    \n    //the event targets are not cloned because they are not enumerable\n    Object.getOwnPropertyNames(widget).forEach(function(key) {\n        if(util.startsWith(key, '@@')) {\n            bbWidgetInstance[key] = widget[key];\n        }\n    });\n    \n    // definition\n    bbWidgetInstance.myDefinition = {\n        sUrl: widgetModel.content.src\n    };\n\n    // node & tag names\n    bbWidgetInstance.nodeName = WIDGET_TYPE;\n    bbWidgetInstance.tagName = WIDGET_TYPE;\n\n    // tags\n    bbWidgetInstance.tags = Array.isArray(tags) ? tags : [];\n\n    // MODEL\n    bbWidgetInstance.model = createModel(bbWidgetInstance, widgetModel);\n\n    // DEPRECATED FIELDS\n    warnDeprecatedAccess(bbWidgetInstance, log);\n\n    // FUNCTIONS\n    setMethods(bbWidgetInstance);\n\n    // EVENTS\n    if(bbWidgetInstance.addEventListener && bbWidgetInstance.dispatchEvent) {\n        bbWidgetInstance.addEventListener('storage', function (e) {\n            log.debug('Chaining StorageEvent to Backbase \\'PrefModified\\' event...');\n\n            var PREF_MODIFIED_EVENT = 'PrefModified';\n            var chainedEvent = new StorageEvent(PREF_MODIFIED_EVENT);\n            chainedEvent.initStorageEvent(PREF_MODIFIED_EVENT, false, false, e.key, e.oldValue, e.newValue, e.url,\n                bbWidgetInstance.preferences);\n            chainedEvent.attrName = e.key;\n            chainedEvent.prevValue = e.oldValue;\n            bbWidgetInstance.model.dispatchEvent(chainedEvent);\n        });\n    }\n\n    return bbWidgetInstance;\n}\n\nfunction applyDomRelatedApi(widget, renderer, widgetModel, log) {\n    var widgetNode = widget.body || renderer.getWidgetNode();\n    var onloadAttr = widgetNode.getAttribute('g:onload');\n\n    //only do this stuff if the widget is using a g:onload\n    if(onloadAttr) {\n        //wraps the widget in a 'widget body' element\n        var body = global.document.createElement('div');\n        var widgetParent  = widgetNode.parentNode;\n        var widgetSibling = widgetNode.nextSibling;\n\n        body.appendChild(widgetNode);\n        body.className = 'bp-widget-body';\n\n        if (widgetSibling) {\n            widgetParent.insertBefore(body, widgetSibling);\n        } else {\n            widgetParent.appendChild(body);\n        }\n\n        //assigns the body to the inner body node required by backbase widgets.\n        widget.body = body;\n    }\n\n    widget.htmlNode = findChromeNode(widgetNode);\n    widget.refreshHtml = function () {\n        var cxpFeature = this.features && this.features.cxp;\n        if (cxpFeature) {\n            cxpFeature.render.rerenderItem(widgetModel.id, widgetModel.name, widgetModel);\n        } else {\n            log.warn('A widget is required to have \"CXP\" feature in order to be able to refresh its view.');\n        }\n    };\n}\n\nfunction createModel(widget, widgetModel) {\n    var model = {\n\n        // general stuff\n        jxid: 'VIEW-' + widgetModel.name,\n        localName: 'Widget',\n        name: widgetModel.name,\n        tag: 'widget',\n        tagName: 'Widget',\n\n        //portal conf\n        contextItemName:  widget.features && widget.features.cxp && widget.features.cxp.config ?\n            widget.features.cxp.config.get('portalName') : null,\n        extendedItemName: widgetModel.extendedItemName || null,\n        parentItemName: widgetModel.parentItemName || null,\n        securityProfile: widgetModel.securityProfile || null,\n        uuid: widgetModel.id || null,\n\n        //preferences\n        preferences: makePreferences(widget.preferences),\n\n        //tags\n        tags: Array.isArray(widgetModel.tags) ? widgetModel.tags : [],\n\n        // methods\n        addEventListener: EventTarget.addEventListener,\n        removeEventListener: EventTarget.removeEventListener,\n        dispatchEvent: EventTarget.dispatchEvent\n    };\n\n    model.save = function(callback) {\n        var self = this;\n        process.nextTick(function() {\n            if(typeof callback === 'function') {\n                var ctx = {\n                    contextItemName:  self.contextItemName,\n                    name: self.name,\n                    preferences: self.preferences,\n                    tag: self.tag\n                };\n                var mockXhr = {\n                    status: 204,\n                    statusText: 'No Content',\n                    readyState: 4\n                };\n                callback.call(global, ctx, mockXhr);\n            }\n\n        });\n    };\n\n    model.getPreference = function(key) {\n        return widget.preferences.getItem(key);\n    };\n    model.setPreference = function(key, value) {\n        widget.preferences.setItem(key, value);\n    };\n\n    return model;\n}\n\nfunction setMethods(widget) {\n    widget.getPreference = function (key) {\n        return this.preferences.getItem(key);\n    };\n\n    widget.getPreferenceFromParents = widget.getPreference;\n    widget.getAreaPreference = function () {\n        return this.preferences.getItem('area') || 0;\n    };\n\n    widget.getOrderPreference = function () {\n        return this.preferences.getItem('order');\n    };\n\n    widget.setPreference = function (key, value) {\n        this.preferences.setItem(key, value);\n    };\n\n    widget.getDefinition = function () {\n        return widget.myDefinition;\n    };\n\n    widget.setAreaPreference = function (area) {\n        this.preferences.setItem('area', area);\n    };\n\n    widget.setOrderPreference = function (order) {\n        this.preferences.setItem('order', order);\n    };\n}\n\nfunction makePreferences(storage) {\n    return storage._items;\n}\n\nfunction findChromeNode (element) {\n    var parent = element;\n\n    while (parent) {\n        if (typeof parent.hasAttribute === 'function' && parent.hasAttribute('data-chrome')) {\n            return parent;\n        }\n        parent = parent.parentNode;\n    }\n\n    return null;\n}\n\nmodule.exports = {\n    buildWidget: buildWidget,\n    applyPresentationApi: applyDomRelatedApi\n};\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../../strategies/storage/storage-event\":76,\"../../util/event-target\":79,\"../../util/util\":84,\"./warn-deprecated-access\":53,\"_process\":2}],53:[function(require,module,exports){\n'use strict';\n\nmodule.exports = warnDeprecatedPropertyAccess;\n\n// Widget instance variables supported by PC5 but obselete in 6.0\n// Access to these fields will print warning on the console\nvar unsupportedProperties = [\n    'attributes', 'childNodes', 'cls_custom', 'cnBase', 'firstChild', 'flex', 'htmlArea',\n    'htmlDoc', 'htmlFoot', 'htmlHead', 'lastChild', 'layout', 'local_listeners', 'localName',\n    'namespaceURI', 'nextSibling', 'node', 'ownerDocument', 'parentNode', 'perspective',\n    'prefix', 'previousSiblings'\n];\n\n// Widget instance methods supported by PC5 but obselete in 6.0\n// Access to these methods will print warning on the console\nvar unsupportedMethods = [\n    'appendChild', 'cloneNode', 'createDisplay', 'createPerspective', 'destroy',\n    'disableDesignMode', 'dragIsTarget', 'enableDesignMode', 'getAreaOrderedChildren',\n    'getAttribute', 'getAttributeNS', 'getClassID', 'getCurrentPerspective', 'getDisplay',\n    'getDisplayEventTarget', 'getDisplayModel', 'getElementsByTagName', 'getElementsByTagNameNS',\n    'getHTMLArea', 'hasAttribute', 'hasAttributeNS', 'hasAttributes', 'hasChildNodes',\n    'hideDesignTools', 'hideDragTargets', 'insertBefore', 'insertDisplayChild', 'loadChildren',\n    'lookupNamespaceURI', 'refreshIncludes', 'removeAttribute', 'removeAttributeNS', 'removeChild',\n    'renderDisplay', 'replaceChild', 'setAttribute', 'setAttributeNS', 'setCurrentPerspective',\n    'showDesignTools', 'showDragTargets', 'template'\n];\n\nfunction warnUnsupported (log, field, isMethod) {\n    return function () {\n        var message = 'COMPATIBILITY: %s is a widget %s that is no longer supported in CXP6';\n        log.warn(message, field, isMethod ? 'method' : 'property');\n    };\n}\n\nfunction warnDeprecatedPropertyAccess (widgetInstance, log) {\n    var unsupportedPropertyDefinitions = unsupportedProperties.reduce(function (defs, field) {\n        defs[field] = {\n            enumerable: true,\n            get: warnUnsupported(log, field),\n            set: warnUnsupported(log, field)\n        };\n\n        return defs;\n    }, {});\n\n    Object.defineProperties(widgetInstance, unsupportedPropertyDefinitions);\n\n    unsupportedMethods.reduce(function (instance, method) {\n        instance[method] = warnUnsupported(log, method, true);\n        return instance;\n    }, widgetInstance);\n\n    return widgetInstance;\n}\n\n},{}],54:[function(require,module,exports){\n'use strict';\n\n// see https://my.backbase.com/docs/product-documentation/documentation/portal/5.6.1/references_widgetnamespace.html#/list\n\nvar util = require('../../util/util');\n\nmodule.exports = {\n    handleLoad: handleLoad,\n    handleMaximize: handleMaximize,\n    handleRestore : handleRestore,\n    handlePrefModified: handlePrefModified\n};\n\n/**\n * g:onload\n * @param window\n * @param widgetInstance\n * @param log\n */\nfunction handleLoad(window, widgetInstance, log) {\n    var event = 'onload';\n    var gOnloadAttr = getEventAttribute(event, widgetInstance.body, widgetInstance.name);\n    if(gOnloadAttr) {\n        executeScript(window, widgetInstance.id, gOnloadAttr, event, log);\n    }\n}\n\n/**\n * g:onPrefModified\n * @param window\n * @param widgetInstance\n * @param log\n */\nfunction handlePrefModified(window, widgetInstance, log) {\n    var event = 'onPrefModified';\n    var gPrefModifiedAttr = getEventAttribute(event, widgetInstance.body, widgetInstance.name);\n    if(gPrefModifiedAttr) {\n        widgetInstance.model.addEventListener('PrefModified', function() {\n            executeScript(window, widgetInstance.id, gPrefModifiedAttr, event, log);\n        });\n    }\n}\n\n/**\n * g:onmaximize\n * @param window\n * @param widgetInstance\n * @param chromeNode\n * @param log\n */\nfunction handleMaximize(window, widgetInstance, chromeNode, log) {\n    var event = 'onmaximize';\n    var gMaximizeAttr = getEventAttribute(event, widgetInstance.body, widgetInstance.name);\n    if(gMaximizeAttr) {\n        chromeNode.addEventListener('click', function(ev) {\n            if(ev.target.getAttribute('data-cxp-viewmode') === 'maximized') {\n                executeScript(window, widgetInstance.id, gMaximizeAttr, event, log);\n            }\n        });\n    }\n}\n\n/**\n * g:onrestore\n * @param window\n * @param widgetInstance\n * @param chromeNode\n * @param log\n */\nfunction handleRestore(window, widgetInstance, chromeNode, log) {\n    var event = 'onrestore';\n    var gRestoreAttr = getEventAttribute(event, widgetInstance.body, widgetInstance.name);\n    if(gRestoreAttr) {\n        chromeNode.addEventListener('click', function(ev) {\n            if(ev.target.getAttribute('data-cxp-viewmode') === 'windowed') {\n                executeScript(window, widgetInstance.id, gRestoreAttr, event, log);\n            }\n        });\n    }\n}\n\n/**\n * Utility to get the value of g namespaced attribute (g:onload). Getting attributes with namespaces can be fickle\n * @param attrName\n * @param widgetBodyNode\n * @return {*}\n */\nfunction getEventAttribute(attrName, widgetBodyNode, itemName) {\n\n    var el = widgetBodyNode.querySelector('div[g\\\\:' + attrName + ']'); //need to escape in query selector\n\n    if(el && util.ensureElementBelongsToItem(itemName, el)) {\n        return el.getAttribute('g:' + attrName);\n    }\n\n    return null;\n}\n\n/**\n * Evaluates a script that you'd expect to find in a g namespace handler\n * @param window\n * @param widgetId\n * @param scriptText\n * @param eventName\n * @param log\n */\nfunction executeScript(window, widgetId, scriptText, eventName, log) {\n    try {\n        log.debug('Executing g:%s script...', eventName);\n        var widgetAccessor = window.cxp._widgets ? 'window.cxp._widgets[\\'' + widgetId + '\\']' : 'window.widget';\n        var script = scriptText.replace(/(__WIDGET__|__GADGET__)/, widgetAccessor);\n        window.eval('(function() {' + script + '})()');  // jshint ignore:line\n    } catch (err) {\n        //this gives a bit more context for common errors\n        var msgDetails = /is not defined$/.test(err.message) ?\n            'This maybe because in CXP6 functions in start files must be explicitly declared on the global scope' : '';\n        log.warn('g:%s failed! %s', eventName, msgDetails);\n        log.error(err);\n    }\n}\n\n},{\"../../util/util\":84}],55:[function(require,module,exports){\n'use strict';\n\nvar EventTarget = require('../util/event-target');\n\n/**\n * This plugins adds a few features that deviate from the spec to support running Widgets in CXP environments\n * @param opts\n * @constructor\n */\nvar CxpAdditionsPlugin = function() {\n    this.name = 'CXP Additions Plugin';\n};\n\n/**\n* Converts widget preferences array into a preferences object\n* @param widgetModel\n*/\nCxpAdditionsPlugin.prototype.postRead = function(widgetModel) {\n    var preferences = widgetModel.preferences;\n\n    //check if it is an array then convert array to object\n    if(Array.isArray(preferences)) {\n        widgetModel.preferences = preferences.reduce(function (acc, pref) {\n            acc[pref.name] = pref;\n            return acc;\n        }, {});\n    }\n\n    return widgetModel;\n};\n\n/**\n * Mixes in an EventTarget impl to the widget interface\n * @param widgetInstance\n */\nCxpAdditionsPlugin.prototype.preRender = function(widgetInstance) {\n\n    //add event listener\n    widgetInstance.addEventListener = EventTarget.addEventListener;\n    widgetInstance.removeEventListener = EventTarget.removeEventListener;\n    widgetInstance.dispatchEvent = EventTarget.dispatchEvent;\n\n    //if the event target for storage events wasn't already set, default it to the widget instance\n    var eventTarget = widgetInstance.preferences.eventTarget = widgetInstance.preferences.eventTarget || [];\n\n    // TODO: we need to remove widgetInstance from collection of event targets when it's destroyed. Currently\n    // we have no means to be notified of that event.\n    if(eventTarget.indexOf(widgetInstance) === -1) {\n        eventTarget.push(widgetInstance);\n    }\n\n    return widgetInstance;\n};\n\nmodule.exports = CxpAdditionsPlugin;\n},{\"../util/event-target\":79}],56:[function(require,module,exports){\n'use strict';\n\nvar loggerFactory = require('../util/logger-factory');\nvar bunyan = require('browser-bunyan');\n\n/**\n * @class ReplaceConfigVarsPlugins\n * @param varMap\n * @param opts\n * @constructor\n */\nvar ReplaceConfigVarsPlugins = function (varMap, opts) {\n    opts = opts || {};\n\n    this.name = 'Replace Config Vars';\n    this.varMap = varMap;\n    this.full = !!opts.full;\n    this.interpolateStartRegex = opts.interpolateStartRegex || '\\\\$\\\\(';\n    this.interpolateEndRegex = opts.interpolateEndRegex || '\\\\)';\n    this.log = loggerFactory.getLogger();\n};\n\n/**\n * Fix paths in the model\n * @param widgetModel\n */\nReplaceConfigVarsPlugins.prototype.postRead = function (widgetModel) {\n\n    var self = this;\n    var log = this.log;\n\n    log.info('Replace config vars plugin is running is POST READ phase...');\n\n    /*\n    * This is special case for content widgets where $(contextRoot) should not be replaced\n    * in a preference with name \"templateUrl\" or in a datasource query parameter with name \"template\".\n    * It's a fragile solution but at the moment there is no way to mark a preference in a model for exclusion.\n    * */\n    var excludeObjects = this._getExcludeObjects(widgetModel);\n    if (excludeObjects.length) {\n        excludeObjects.forEach(function(obj) {\n            obj.value = obj.value.replace('contextRoot', '__contextRoot__');\n        });\n    }\n\n    if (self.full) {\n        log.debug('Doing full config vars replacement...');\n        self._traverse(widgetModel);\n    } else {\n        log.debug('Doing minimal config vars replacement...');\n\n        if (widgetModel.content && widgetModel.content.src) {\n            widgetModel.content.src = self._replaceVars('src', widgetModel.content.src);\n        }\n\n        if (widgetModel.content && widgetModel.content.config) {\n            widgetModel.content.config = self._replaceVars('config', widgetModel.content.config);\n        }\n\n        if (widgetModel.icons) {\n            widgetModel.icons.forEach(function (icon, index, icons) {\n                icons[index] = self._replaceVars('icons[' + index + ']', icon);\n            });\n        }\n\n        //special preferences\n        var messages = widgetModel.preferences.messages;\n        if(messages) {\n            messages.value = self._replaceVars('messages', messages.value);\n        }\n\n        if (widgetModel.datasources) {\n            self._traverse(widgetModel.datasources);\n        }\n\n        if(widgetModel.altContent) {\n            var alternateContentNames = Object.keys(widgetModel.altContent);\n            alternateContentNames.forEach(function (contentName) {\n                var content = widgetModel.altContent[contentName];\n                content.src = self._replaceVars('src.' + contentName, content.src);\n            });\n        }\n    }\n\n    if (excludeObjects.length) {\n        excludeObjects.forEach(function(obj) {\n            obj.value = obj.value.replace('__contextRoot__', 'contextRoot');\n        });\n    }\n\n    log.info('Replace config vars plugin in POST READ is DONE.');\n\n    return widgetModel;\n};\n\n/**\n * Traverse object\n * @param {Object.<string, *>} obj\n * @private\n */\nReplaceConfigVarsPlugins.prototype._traverse = function (obj) {\n\n    Object.keys(obj).forEach(function (key) {\n        obj[key] = this._replaceVars(key, obj[key]);\n\n        if (!!obj[key] && typeof obj[key] === 'object') {\n            this._traverse(obj[key]);\n        }\n    }, this);\n};\n\n/**\n * Finds \"templateUrl\" preference and \"template\" datasource parameters in a widget model\n * @param {Object} widgetModel A widget model\n * @private\n */\nReplaceConfigVarsPlugins.prototype._getExcludeObjects = function (widgetModel) {\n    var datasources = widgetModel.datasources || {};\n\n    var templateParams = Object.keys(datasources).map(function (dsName) {\n        return datasources[dsName];\n    }).reduce(function(params, datasource) {\n        return params.concat(datasource.params);\n    }, []).filter(function(param) {\n        return param.name === 'template' && typeof param.value === 'string';\n    });\n\n    var prefs = widgetModel.preferences || {};\n    var templatePrefs = Object.keys(prefs).map(function (prefName) {\n        return prefs[prefName];\n    }).filter(function(pref) {\n        return pref.name === 'templateUrl' && typeof pref.value === 'string';\n    });\n\n    return templateParams.concat(templatePrefs);\n};\n\n/**\n * Replace vars\n * @param key\n * @param value\n * @returns {*}\n * @private\n */\nReplaceConfigVarsPlugins.prototype._replaceVars = function (key, value) {\n    if (typeof value !== 'string') {\n        return value;\n    }\n\n    var self = this;\n    var log = self.log;\n    var varMap = self.varMap;\n\n    var urlVars = Object.keys(varMap);\n\n    urlVars.forEach(function (urlVar) {\n        var varRegexp = new RegExp(self.interpolateStartRegex + urlVar + self.interpolateEndRegex, 'g');\n\n        if (log.level() <= bunyan.DEBUG && varRegexp.test(value)) {\n            log.debug('Replacing occurences of [%s] with [%s] where [%s=%s]',\n                varRegexp, varMap[urlVar], key, value);\n        }\n\n        value = value.replace(varRegexp, varMap[urlVar]);\n    });\n\n    return value;\n};\n\nmodule.exports = ReplaceConfigVarsPlugins;\n\n},{\"../util/logger-factory\":83,\"browser-bunyan\":86}],57:[function(require,module,exports){\n/**\n * Implements \"HTTP\" datasource resolver\n * @see {@link https://backbase.atlassian.net/wiki/display/PrM/Datasources+URI+spec#DatasourcesURIspec-HTTPURI}\n * @module strategies/datasource/http-datasource-resolver\n * @exports {HttpDatasourceResolver}\n */\n\n'use strict';\n\nvar DatasourceResolver  = require('../../datasource/datasource-resolver');\nvar resolverHelpers     = require('../../datasource/datasource-resolver-helpers');\nvar util                = require('../../util/util');\nvar sanitizer           = require('sanitizer');\n\nvar httpSchemaRegexp = /^https?:/i;\n\nfunction isHttpDatasource(datasource) {\n    var uri = datasource && datasource.uri;\n\n    return uri && httpSchemaRegexp.test(uri);\n}\n\nmodule.exports = HttpDatasourceResolver;\n\n/**\n * HTTP datasource resolver\n * @param {Object} datasource\n * @constructor\n */\nfunction HttpDatasourceResolver(datasource) {\n    this._datasource = datasource;\n}\n\n/**\n * Builds an endpoint URL of http datasource\n * @param {Object} context An object expressions in datasource URI are resolved against\n * @returns {string} A URL of an endpoint where data can be requested from\n */\nHttpDatasourceResolver.prototype.resolveUrl = function (context) {\n    var queryString = resolverHelpers.resolveQueryString(context, this._datasource.params);\n    var endpoint = resolverHelpers.resolveExpression(context, this._datasource.uri);\n\n    if (queryString) {\n        endpoint += '?' + queryString;\n    }\n\n    return endpoint;\n};\n\n/**\n * Sanitizes response if it's HTML data\n * @param {Response} response Fetch API response object\n * @returns {Promise.<string|Object>} promise resolved with HTML string or plain object\n */\nHttpDatasourceResolver.prototype.processResponse = function processResponse(response) {\n    return util.getContentBodyAndTypeFromResponse(response).then(function (result) {\n        return result.type === 'html' ? sanitizer.sanitize(result.body) : result.body;\n    });\n};\n\n/**\n * Checks whether a datasource is of http type and creates a resolver instance\n * if check passes. Use this method as a resolver creating function registered with\n * datasource resolver factory.\n * @param {Object} datasource A datasource to check\n * @returns {DatasourceResolver|undefined}\n */\nHttpDatasourceResolver.getInstance =\n    DatasourceResolver.createFactoryFunction(isHttpDatasource, HttpDatasourceResolver);\n\n\n},{\"../../datasource/datasource-resolver\":46,\"../../datasource/datasource-resolver-helpers\":45,\"../../util/util\":84,\"sanitizer\":33}],58:[function(require,module,exports){\n/**\n * Implements \"resource\" datasource resolver.\n * @see {@link https://backbase.atlassian.net/wiki/display/PrM/Datasources+URI+spec#DatasourcesURIspec-ResourceURI}\n * @module strategies/datasource/resource-datasource-resolver\n * @exports {ResourceDatasourceResolver}\n */\n\n'use strict';\n\nvar DatasourceResolver  = require('../../datasource/datasource-resolver');\nvar resolverHelpers     = require('../../datasource/datasource-resolver-helpers');\nvar util                = require('../../util/util');\nvar sanitizer           = require('sanitizer');\n\nmodule.exports = ResourceDatasourceResolver;\n\n/**\n * Resource datasource resolver\n * @param {Object} datasource\n * @constructor\n */\nfunction ResourceDatasourceResolver(datasource) {\n    this._datasource = datasource;\n    this._sanitizeParamName = 'sanitize';\n}\n\n/**\n * Builds an endpoint URL of resource datasource\n * @param {Object} context An object expressions in datasource URI are resolved against\n * @returns {string} A URL of an endpoint where data can be requested from\n */\nResourceDatasourceResolver.prototype.resolveUrl = function (context) {\n    var url = this._datasource.uri;\n    var sanitizeParam = this._sanitizeParamName;\n    var apiRoot = context.apiRoot || '';\n    var baseUrl = context.itemRoot || '';\n    var urlComponents = url.split(':');\n\n    if (urlComponents.length !== 2) {\n        throw new Error('Invalid resource datasource uri: ', url);\n    }\n\n    var params = (this._datasource.params || []).filter(function (param) {\n        return param.name !== sanitizeParam;\n    });\n    var queryString = resolverHelpers.resolveQueryString(context, params);\n    var resourcePath = resolverHelpers.resolveExpression(context, urlComponents[1]);\n    var endpoint;\n\n    // it would be better to support ${itemRoot} rather than relative/absolute paths\n    if (util.isUrlDocumentRelative(resourcePath)) {\n        endpoint = baseUrl + '/' + resourcePath;\n    } else {\n        endpoint = apiRoot + '/portal' + resourcePath;\n    }\n\n    if (queryString) {\n        endpoint += '?' + queryString;\n    }\n\n    return endpoint;\n};\n\n/**\n * Sanitizes response if it's HTML data\n * @param {Response} response Fetch API response object\n * @returns {Promise.<string|Object>} promise resolved with HTML string or plain object\n */\nResourceDatasourceResolver.prototype.processResponse = function processResponse(response) {\n    var params = this._datasource.params || [];\n    var sanitizeParam = this._sanitizeParamName;\n\n    return util.getContentBodyAndTypeFromResponse(response).then(function (result) {\n        var skipSanitization;\n\n        if (result.type === 'html') {\n            skipSanitization = params.some(function (param) {\n                return param.name === sanitizeParam && param.value === 'false';\n            });\n        } else {\n            skipSanitization = true;\n        }\n\n        return skipSanitization ? result.body : sanitizer.sanitize(result.body);\n    });\n};\n\n/**\n * Checks whether a datasource is of resource type and creates a resolver instance\n * if check passes. Use this method as a resolver creating function registered with\n * datasource resolver factory.\n * @param {Object} datasource A datasource to check\n * @returns {DatasourceResolver|undefined}\n */\nResourceDatasourceResolver.getInstance =\n    DatasourceResolver.createFactoryFunction('resource', ResourceDatasourceResolver);\n\n},{\"../../datasource/datasource-resolver\":46,\"../../datasource/datasource-resolver-helpers\":45,\"../../util/util\":84,\"sanitizer\":33}],59:[function(require,module,exports){\n'use strict';\n\nvar ConfigParser = require('../../core/config-parser');\nvar VError = require('../../util/verror');\nvar loggerFactory = require('../../util/logger-factory');\n\nvar defaultParserMap = {\n\t'json' : {\n\t\tparser: require('./commonjs-package-config-parser'),\n\t\ttestFn: function(str) {\n\t\t\treturn typeof str === 'string' && str.trim().indexOf('{') === 0;\n\t\t}\n\t},\n    'backbaseXml' : {\n        parser: require('./backbase-dom-config-parser'),\n        testFn: function(str) {\n            return typeof str === 'string' && str.trim().indexOf('<catalog') >= 0;\n        }\n    },\n    'jsObject' : {\n        parser: require('./js-object-parser'),\n        testFn: function(obj) {\n            return typeof obj === 'object';\n        }\n    }\n};\n\n/**\n * Auto config parser\n * @constructor\n */\nvar AutoConfigParser = function() {\n    this.log = loggerFactory.getLogger();\n    this.parserMap = defaultParserMap;\n};\nAutoConfigParser.prototype = Object.create(ConfigParser.prototype);\n\n/**\n *\n * @param configText\n * @returns {*}\n */\nAutoConfigParser.prototype.parse = function(configText) {\n\n    var Parser =  null;\n\n    //guess the parser\n    for(var parserType in this.parserMap) {\n        if(this.parserMap.hasOwnProperty(parserType)) {\n            var parserConf = this.parserMap[parserType];\n            if(parserConf.testFn(configText)) {\n                this.log.debug('Parsing widget config as: %s', parserType);\n                Parser = parserConf.parser;\n                break;\n            }\n        }\n    }\n\n\tif(Parser === null) {\n\t\tthrow new VError('Could not determine the config parser to use');\n\t}\n\n    //and parse\n    var configParser = new Parser();\n    return configParser.parse(configText);\n};\n\n/**\n * Hook to extend the Auto Config Parser with custom parsing strategies\n * @param type\n * @param parser\n * @param testFn\n */\nAutoConfigParser.prototype.addParserStrategy = function(type, parser, testFn) {\n\n    this.parserMap[type] = {\n        parser: parser,\n        testFn: testFn\n    };\n};\n\nmodule.exports = AutoConfigParser;\n\n},{\"../../core/config-parser\":35,\"../../util/logger-factory\":83,\"../../util/verror\":85,\"./backbase-dom-config-parser\":60,\"./commonjs-package-config-parser\":61,\"./js-object-parser\":62}],60:[function(require,module,exports){\n'use strict';\n\nvar ConfigParser    = require('../../core/config-parser');\nvar parseWidget     = require('./xml/widget');\nvar helpers         = require('./xml/helpers');\n\n/**\n * Sax parser for w3c widget config files\n * @constructor\n */\nvar BackbaseSaxConfigParser = function() {\n};\n\nBackbaseSaxConfigParser.prototype = Object.create(ConfigParser.prototype);\n\n/**\n *\n * @param xml\n * @returns {Promise} Promise of widget object\n */\nBackbaseSaxConfigParser.prototype.parse = function(xml) {\n    try {\n        var domParser = new DOMParser();\n        var doc = domParser.parseFromString(xml, 'application/xml');\n\n        var firstNode = doc.documentElement;\n        var node = firstNode.tagName === 'catalog' ? helpers.getChildElements(firstNode)[0] : firstNode;\n\n        return Promise.resolve(parseWidget(node));\n    } catch(e) {\n        return Promise.reject(e);\n    }\n};\n\nmodule.exports = BackbaseSaxConfigParser;\n\n},{\"../../core/config-parser\":35,\"./xml/helpers\":65,\"./xml/widget\":68}],61:[function(require,module,exports){\n'use strict';\n\nvar ConfigParser = require('../../core/config-parser');\nvar util = require('../../util/util');\n\n/**\n * Sax parser for w3c widget config files\n * @constructor\n */\nvar CommonJsPackageConfigParser = function() {\n\n};\nCommonJsPackageConfigParser.prototype = Object.create(ConfigParser.prototype);\n\n/**\n * See https://backbase.atlassian.net/wiki/display/CXP/Widget+package.json+spec for documentation for the rules\n * used in this method\n * @param xml\n * @returns {*}\n */\nCommonJsPackageConfigParser.prototype.parse = function(json) {\n\n    try {\n        var packaged = JSON.parse(json);\n        var widgetModel = util.cloneDeep(require('../../core/default-widget-model'));\n\n        //common js fields\n        widgetModel.id = packaged.name || widgetModel.id;\n        widgetModel.version = packaged.version || widgetModel.version;\n        widgetModel.description = packaged.description || widgetModel.description;\n        widgetModel._lang = packaged.locales || widgetModel._lang;\n\n        //first contributor to author\n        if(Array.isArray(packaged.contributors) && packaged.contributors.length > 0) {\n            widgetModel.author = packaged.contributors[0].name || widgetModel.author;\n            widgetModel.authorEmail = packaged.contributors[0].email || widgetModel.authorEmail;\n            widgetModel.authorHref = packaged.contributors[0].web || widgetModel.authorHref;\n        }\n\n        //licenses to license\n        if(Array.isArray(packaged.licenses) && packaged.licenses.length > 0) {\n            widgetModel.license = packaged.licenses[0].type || widgetModel.license;\n            widgetModel.licenseHref = packaged.contributors[0].url || widgetModel.licenseHref;\n        } else if(typeof widgetModel.license === 'string') {\n            widgetModel.license = packaged.license;\n        }\n\n        //widget implementation fields\n        widgetModel.defaultlocale = packaged.defaultlocale || widgetModel.defaultlocale;\n        widgetModel.width = packaged.width || widgetModel.width;\n        widgetModel.height = packaged.height || widgetModel.height;\n        widgetModel.viewmodes = packaged.viewmodes || widgetModel.viewmodes;\n        widgetModel.name = packaged.fullName || widgetModel.name;\n        widgetModel.shortName = packaged.shortName || widgetModel.shortName;\n        widgetModel.preferences = packaged.preferences || widgetModel.preferences;\n        widgetModel.features = packaged.features || widgetModel.features;\n        widgetModel.icons = packaged.icons || widgetModel.icons;\n        widgetModel.content = packaged.content || widgetModel.content;\n\n        return Promise.resolve(widgetModel);\n    } catch(e) {\n        return Promise.reject(e);\n    }\n};\n\nmodule.exports = CommonJsPackageConfigParser;\n},{\"../../core/config-parser\":35,\"../../core/default-widget-model\":37,\"../../util/util\":84}],62:[function(require,module,exports){\n'use strict';\n\nvar ConfigParser = require('../../core/config-parser');\n\n/**\n * This parser passes the object straight through.\n * It exists so the AutoConfigParser will pass pre-parsed models straight through with modification\n * @constructor\n */\nvar JsObjectParser = function() {\n};\nJsObjectParser.prototype = Object.create(ConfigParser.prototype);\n\n/**\n *\n * @param xml\n * @returns {*}\n */\nJsObjectParser.prototype.parse = function(object) {\n   //pass straight through. Could perform validation, patches etc here if we need\n   return object;\n};\n\nmodule.exports = JsObjectParser;\n},{\"../../core/config-parser\":35}],63:[function(require,module,exports){\n'use strict';\n\nvar helpers = require('./helpers');\n\nmodule.exports = {\n    parseIcons: parseIcons,\n    parseChildren: parseChildren\n};\n\n/**\n * Extracts icon specific data from given item node and its properties\n * @param {Object} properties Key/Value representation of properties\n * @return {Array}\n */\nfunction parseIcons (properties) {\n    var icons = [];\n    helpers.pushIfExists(icons, properties.thumbnailUrl);\n    helpers.pushIfExists(icons, properties.icon);\n    return icons;\n}\n\n/**\n * Parses child items\n * @param {Element} element Item element\n * @param {function} childItemParser Child item parsing function\n * @return {Array<object>} Array of item objects\n */\nfunction parseChildren (element, childItemParser) {\n    var childrenEl = helpers.getChildElementByName(element, 'children');\n    var childrenElements = childrenEl && helpers.getChildElements(childrenEl);\n\n    return childrenElements && childrenElements.map(childItemParser).sort(childComparator);\n}\n\n/**\n * Compare function to be used in array.sort like\n * functionality to sort widgets by their area and order\n * @param {Object} first Widget object\n * @param {Object} next Widget object\n * @return {number}\n */\nfunction childComparator (first, next) {\n    var firstArea = cast(first, 'area'),\n        nextArea = cast(next, 'area'),\n        firstOrder = cast(first, 'order'),\n        nextOrder = cast(next, 'order');\n\n    var compare = 0;\n    if (firstArea < nextArea) {\n        compare = -1;\n    } else if (firstArea > nextArea) {\n        compare = 1;\n    } else if (firstOrder < nextOrder) {\n        compare = -1;\n    } else if (firstOrder > nextOrder) {\n        compare = 1;\n    }\n\n    return compare;\n}\n\n/**\n * @private\n * @param {Object} item an item model\n * @param {string} prefName preference name\n * @returns {null|string|number} number if possible to parse a preference as a number, bare value otherwise.\n */\nfunction cast(item, prefName) {\n    if(typeof item.preferences[prefName] === 'undefined') {\n        return null;\n    }\n\n    var value = item.preferences[prefName].value;\n    var numberValue = parseFloat(value);\n\n    return isNaN(numberValue) ? value : numberValue;\n}\n\n},{\"./helpers\":65}],64:[function(require,module,exports){\nmodule.exports.PROPERTY_BLACKLIST = [\n    'description',\n    'shortName',\n    'thumbnailUrl',\n    'icon',\n    'viewmodes',\n    'author',\n    'authorEmail',\n    'authorHref',\n    'license',\n    'licenseHref',\n    'widgetChrome',\n    'config',\n    'src',\n    'isManageableArea',\n    'version',\n    'width',\n    'height'\n];\n\nmodule.exports.SPECIAL_TYPES = [\n    'contentRef',\n    'linkRef',\n    'datasource'\n];\n\nmodule.exports.NO_LOCALE_NAME = 'no_locale';\n\n},{}],65:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n    assignIfExists: assignIfExists,\n    content:        content,\n    isExists:       isExists,\n    parseBool:      parseBool,\n    parseString:    parseString,\n    parseFloat:     parseFloat_,\n    parseInt:       parseInt_,\n    parseViewhint:  parseViewhint,\n    pushIfExists:   pushIfExists,\n    toArray:        toArray,\n    getChildElementByName: getChildElementByName,\n    getChildElements: getChildElements\n};\n\n/**\n * Parses given attribute as string\n * @param {Object} attr\n * @return {string|undefined}\n */\nfunction parseString (attr) {\n    if (attr && attr.value.length) {\n        return attr.value;\n    }\n}\n\n/**\n * Parses given viewhint string as array of viewhints\n * @param {string} viewhint Viewhint text\n * @return {Array<string>}\n */\nfunction parseViewhint (viewhint) {\n    var viewhintTrimmed = parseString(viewhint);\n\n    if (!viewhintTrimmed) { return []; }\n\n    return viewhintTrimmed.split(/[,\\s]/).filter(function (hint) {\n        return hint.trim().length > 0;\n    });\n}\n\n/**\n * Checks given value against undefined and null\n * @param {*} val\n * @return {boolean}\n */\nfunction isExists (val) {\n    return typeof val !== 'undefined' && val !== null;\n}\n\n/**\n * Assigns given value to given object's name property only\n * if given value is not null or undefined. If converter_function is\n * defined given value is mapped over that function\n * @param {Object} obj  Object\n * @param {string} name Object's property name\n * @param {*} value Value to be assigned\n * @param {Function} [converter] Optional value transforming function\n */\nfunction assignIfExists (obj, name, value, converter) {\n    if (isExists(value)) {\n        obj[name] = converter ? converter(value) : value;\n    }\n}\n/**\n * Pushes given value to given array only if the given\n * value is not null or undefined.\n * @param {Array} arr Array\n * @param {*} value Value to be pushed\n */\nfunction pushIfExists (arr, value) {\n    if (isExists(value)) {\n        arr.push(value);\n    }\n}\n\n/**\n * Parses string into boolean. Return true only if given\n * string equals to \"true\" otherwise it returns \"false\"\n * @param {string} bool\n * @return {boolean}\n */\nfunction parseBool (bool) {\n    if (isExists(bool)) {\n        if (typeof bool === 'string') {\n            return bool === 'true';\n        }\n\n        return bool && bool.value === 'true';\n    }\n}\n\n/**\n * Transforms given array like object (eg dom children)\n * to real array.\n * @param {T} obj\n * @return {Array.<T>}\n */\nfunction toArray (obj) {\n    return [].slice.call(obj);\n}\n\n/**\n * Parses given string into float. If the given string represents a number\n * than it returns a floating point number or NaN.\n * @param {string} num\n * @return {number|undefined}\n */\nfunction parseFloat_ (num) {\n    if (typeof num === 'string') {\n        return parseFloat(num);\n    }\n}\n\n/**\n * Parses given string into integer. If the given string represents a number\n * than it returns number or NaN.\n * @param {string} num\n * @param {int} radinx\n * @return {number|undefined}\n */\nfunction parseInt_ (num) {\n    if (typeof num === 'string') {\n        var value = parseInt(num, 10);\n        return !isNaN(value) ? value : undefined;\n    }\n}\n\n/**\n * Finds first element in the given node's children by given element.\n * Unlike getElementsByTagName this function only looks first level of\n * children.\n * @param {Node} node\n * @param {string} elementName\n * @return {Node|undefined}\n */\nfunction getChildElementByName (node, elementName) {\n    var children = getChildElements(node);\n\n    for (var i = 0; i < children.length; i++) {\n        if (children[i].tagName === elementName) {\n            return children[i];\n        }\n    }\n}\n\n/**\n * Returns node's textContent which found by given elementName.\n * If element name is not found in given node's children given\n * default value will be returned.\n * This function only looks first level of children.\n * @param {Element} element\n * @param {string} elementName\n * @param {*} [defaultValue]\n * @return {string}\n */\nfunction content (element, elementName, defaultValue) {\n    var childEl = getChildElementByName(element, elementName);\n\n    if (typeof defaultValue === 'undefined') {\n        defaultValue = null;\n    }\n\n    return (childEl && childEl.textContent) || defaultValue;\n}\n\n/**\n * Returns child elements of a node\n * @param {Node} node\n * @returns {Array} child elements\n */\nfunction getChildElements(node) {\n    if (typeof node.children !== 'undefined') {\n        return toArray(node.children);\n    }\n\n    return toArray(node.childNodes).filter(function(childNode) {\n        return childNode.nodeType === 1;\n    });\n}\n\n\n},{}],66:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar Constants   = require('./constants');\nvar i18n        = require('../../../util/i18n');\nvar helpers     = require('./helpers');\n\nvar BLACKLIST       = Constants.PROPERTY_BLACKLIST;\nvar SPECIAL_TYPES   = Constants.SPECIAL_TYPES;\nvar NO_LOCALE_NAME  = Constants.NO_LOCALE_NAME;\n\nmodule.exports = parseItem;\n\n/**\n * Extracts base item data from given element. This item\n * data is common between each item type. Other item types\n * use this item parser to get their base data.\n * @param {Element} itemEl Item element\n * @return {Object} Base item data\n */\nfunction parseItem (itemEl) {\n    var propertiesParent = helpers.getChildElementByName(itemEl, 'properties');\n    var propertyElements = helpers.getChildElements(propertiesParent);\n\n    var currentLocale = helpers.content(itemEl, 'locale') || getDefaultLocale();\n\n    var properties = {};\n\n    //create preferences map object excluding preferences from BLACKLIST\n    var propertiesMap = propertyElements.reduce(function (acc, element) {\n        var property = parseProperty(element, currentLocale);\n\n        properties[property.name] = property.value;\n        if(BLACKLIST.indexOf(property.name) === -1) {\n            acc[property.name] = property;\n        }\n        return acc;\n    }, {});\n\n    var item = {\n        id:               helpers.content(itemEl, 'uuid'),\n        name:             helpers.content(itemEl, 'name', ''),\n        shortName:        properties.shortName,\n        preferences:      propertiesMap,\n        preferencesDict:  properties,\n        type:             itemEl.tagName,\n        locale:           currentLocale,\n        dir:              helpers.content(itemEl, 'dir', 'ltr'),\n    };\n\n    helpers.assignIfExists(item, 'tags', parseTags(itemEl));\n    helpers.assignIfExists(item, 'extendedItemName', helpers.content(itemEl, 'extendedItemName'));\n    helpers.assignIfExists(item, 'parentItemName', helpers.content(itemEl, 'parentItemName'));\n    helpers.assignIfExists(item, 'contextItemName', helpers.content(itemEl, 'contextItemName'));\n    helpers.assignIfExists(item, 'lockState', helpers.content(itemEl, 'lockState'));\n    helpers.assignIfExists(item, 'securityProfile', helpers.content(itemEl, 'securityProfile'));\n    helpers.assignIfExists(item, 'manageable', helpers.parseBool(helpers.content(itemEl, 'manageable')));\n\n    return item;\n}\n\n/**\n * Parses property object from a given property node\n * @param {Element} propertyElement <property ...> node\n * @param {Boolean} currentLocale\n * @return {Object} Property data\n */\nfunction parseProperty (propertyElement, currentLocale) {\n    var attrs       = propertyElement.attributes;\n    var name        = helpers.parseString(attrs.name);\n    var label       = helpers.parseString(attrs.label);\n    var itemName    = helpers.parseString(attrs.itemName);\n    var manageable  = attrs.manageable;\n    var readonly    = helpers.parseBool(attrs.readonly);\n    var localizable = helpers.parseBool(attrs.localizable);\n    var viewhints   = attrs.viewHint && helpers.parseViewhint(attrs.viewHint);\n    var type        = attrs.type;\n\n    var valueElements = helpers.toArray(propertyElement.getElementsByTagName('value'));\n\n    var values = valueElements.map(function (valueElement) {\n        return parseValue(valueElement);\n    });\n\n    var currentLocaleValue = values.filter(function(valueObj) {\n        return valueObj.locale === currentLocale;\n    })[0];\n\n    // if there is no value in current locale, get fallback value (the one with no locale specified)\n    if (!currentLocaleValue) {\n        currentLocaleValue = values.filter(function(valueObj) {\n            return !valueObj.locale;\n        })[0] || {};\n    }\n\n    var property = {\n        name: name,\n        readonly: readonly || false,\n        value: currentLocaleValue.value\n    };\n\n    if (label)      { property.label = label; }\n    if (manageable) { property.manageable = helpers.parseBool(manageable); }\n    if (viewhints)  { property.viewhints = viewhints; }\n    if (itemName)   { property.itemName = itemName; }\n\n    if (type && SPECIAL_TYPES.indexOf(type.value) > -1) {\n        property.type = type.value;\n    } else if (SPECIAL_TYPES.indexOf(currentLocaleValue.type) > -1) {\n        property.type = currentLocaleValue.type;\n    }\n\n    if (localizable) {\n        property.localizable = localizable;\n\n        // define _lang object that holds localized values\n        property._lang = values.reduce(function (obj, localizedValueObj) {\n            var key = localizedValueObj.locale || NO_LOCALE_NAME;\n            obj[key] = { value: localizedValueObj.value };\n            return obj;\n        }, {});\n\n        // define value property as setter/getter to update current locale value in _lang object\n        Object.defineProperty(property, 'value', {\n            enumerable: true,\n            set: function (value) {\n                var langObj = this._lang || (this._lang = {});\n                var localizedValue = langObj[currentLocale] || (langObj[currentLocale] = {});\n                localizedValue.value = value;\n                currentLocaleValue = localizedValue;\n            },\n            get: function () {\n                return currentLocaleValue.value;\n            }\n        });\n    }\n\n    return property;\n}\n\n/**\n * Parses array of tags from given item node\n * @param {Node} node Item's node\n * @return {Array<object>} Array of tags\n */\nfunction parseTags (node) {\n    var parent = helpers.getChildElementByName(node, 'tags');\n    var tagElements = (parent && helpers.getChildElements(parent));\n\n    return tagElements && tagElements.map(parseTag);\n}\n\n/**\n * Parses tag data from given tag node\n * @param {Node} tagElement <tag ...> node\n * @return {Object}\n */\nfunction parseTag (tagElement) {\n    return {\n        type: tagElement.attributes.type.value,\n        name: helpers.parseString({value: tagElement.textContent})\n    };\n}\n\n/**\n * Parse localized values for given property\n * @param {Element} valueElement\n * @return {{value: string, locale: string|undefined }}\n */\nfunction parseValue (valueElement) {\n    return {\n        value: valueElement.textContent,\n        type: valueElement.getAttribute('type'),\n        locale: valueElement.getAttribute('locale')\n    };\n}\n\n/**\n * Tries to get locale from localStorage stored under \"bb:locale\" key. Defaults to system default locale if it's\n * not found in the storage.\n * @returns {string}\n * @private\n */\nfunction getDefaultLocale() {\n    var locale;\n    var localStorage = getLocalStorage();\n\n    if (localStorage) {\n        locale = localStorage.getItem('bb:locale');\n    }\n\n    return locale || i18n.defaultLocale;\n}\n\n/**\n * Checks if localStorage is available and returns it.\n * @returns {Storage} localStorage object if it's available, null otherwise.\n */\nfunction getLocalStorage() {\n    /* globals global */\n\n    var probe = 'bb:__test';\n    try {\n        var localStorage = global.localStorage;\n        localStorage.setItem(probe, probe);\n        localStorage.removeItem(probe);\n        return localStorage;\n    } catch(e) {\n        return null;\n    }\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../../../util/i18n\":82,\"./constants\":64,\"./helpers\":65}],67:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar helpers = require('./helpers');\nvar parseWidget = require('./widget');\nvar loggerFactory = require('../../../util/logger-factory');\n\nvar log;\n\n/**\n * Parses XML item model\n * @param {string} xml XML model\n * @returns {Object} Javascript model object\n */\nfunction parse(xml) {\n    /* jshint validthis:true */\n\n    var doc = parseXmlString(xml);\n\n    return this._parseXmlItemModel(doc.documentElement);\n}\n\n/**\n * Parses a list of XML item models by taking document element children elements and iterating through them\n * @param {string} xml An XML that represents a list of item models\n * @return {Array.<Object>} An array of javascript item models\n */\nfunction parseList(xml) {\n    /* jshint validthis:true */\n\n    var doc = parseXmlString(xml);\n    var self = this;\n\n    return helpers.getChildElements(doc.documentElement).map(function (itemEl) {\n        return self._parseXmlItemModel(itemEl);\n    }).filter(function (item) {\n        return !!item;\n    });\n}\n\n/**\n * Parses XML DOM element by using type-specific item parser.\n * @param {Element} itemElement XML element\n * @returns {Object} Javascript item model\n * @private\n */\nfunction parseXmlItemModel(itemElement) {\n    /* jshint validthis:true */\n\n    var logger = getLogger();\n    var itemType = itemElement.tagName.toLowerCase();\n    var itemSpecificParser = this.getParser(itemType);\n\n    if (!itemSpecificParser) {\n        logger.warn('Unsupported item type [%s]', itemType);\n        return null;\n    }\n\n    return itemSpecificParser(itemElement, logger);\n}\n\n/**\n * Registers type-specific item parser\n * @param {string} type An item type\n * @param {function} parser A parsing function that receives a DOM element as argument and returns javascript object\n */\nfunction setParser(type, parser) {\n    /* jshint validthis:true */\n\n    if (!this._typeSpecificParser) {\n        this._typeSpecificParser = {};\n    }\n    this._typeSpecificParser[type] = parser;\n}\n\n/**\n * Returns a type-specific parsing function if it's found, \"undefined\" otherwise\n * @param {string} type An item type\n * @return {undefined|function}\n */\nfunction getParser(type) {\n    /* jshint validthis:true */\n\n    return this._typeSpecificParser && this._typeSpecificParser[type];\n}\n\n/**\n * Parses XML string into a DOM object\n * @param {Object} xml A DOM object\n * @private\n */\nfunction parseXmlString(xml) {\n    var parser = new global.DOMParser();\n    return parser.parseFromString(xml, 'application/xml');\n}\n\n/**\n * Instantiate a logger if necessary and returns it\n * @returns {Object}\n * @private\n */\nfunction getLogger() {\n    if (!log) {\n        var parentLog = loggerFactory.getLogger();\n        log = parentLog.child({childName: 'model-parser'});\n    }\n\n    return log;\n}\n\n/**\n * @typedef XmlModelParser\n * @type {Object}\n * @property {Function} parse\n * @property {Function} parseList\n * @property {Function} setParser\n * @property {Function} getParser\n */\nvar proto = {\n    parse               : parse,\n    parseList           : parseList,\n    setParser           : setParser,\n    getParser           : getParser,\n    _parseXmlItemModel  : parseXmlItemModel\n};\n\n/**\n * Creates model parser instance which is capable to parse widgets and containers\n * @returns {XmlModelParser} a new instance of model parser\n */\nfunction createInstance() {\n    var instance = Object.create(proto);\n    instance.setParser('widget', parseWidget);\n    instance.setParser('container', parseWidget);\n\n    return instance;\n}\n\n/**\n * XML model parser\n * @exports strategies/parser/xml/model-parser\n */\nmodule.exports = {\n    createInstance: createInstance\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../../../util/logger-factory\":83,\"./helpers\":65,\"./widget\":68}],68:[function(require,module,exports){\n'use strict';\n\nvar merge           = require('../../../util/util').merge;\nvar parseItem       = require('./item');\nvar common          = require('./common');\nvar helpers         = require('./helpers');\nvar loggerFactory   = require('../../../util/logger-factory');\nvar url             = require('url');\n\nvar log;\n\nmodule.exports = parseWidget;\n\n/**\n * Parses widget specific data for given element\n * @param {Element} widgetEl widget node\n * @return {Object} widget object\n */\nfunction parseWidget (widgetEl) {\n    var item = parseItem(widgetEl);\n    var preferences = item.preferencesDict;\n\n    var widget = {\n        content:     parseContent(preferences),\n        description: preferences.description,\n        icons:       common.parseIcons(preferences),\n        title:       preferences.title\n    };\n\n    helpers.assignIfExists(widget, 'width',            helpers.parseInt(preferences.width, 10));\n    helpers.assignIfExists(widget, 'height',           helpers.parseInt(preferences.height, 10));\n    helpers.assignIfExists(widget, 'isManageableArea', helpers.parseBool(preferences.isManageableArea));\n    helpers.assignIfExists(widget, 'viewmodes',        parseViewmodes(preferences));\n    helpers.assignIfExists(widget, 'author',           preferences.author);\n    helpers.assignIfExists(widget, 'authorEmail',      preferences.authorEmail);\n    helpers.assignIfExists(widget, 'authorHref',       preferences.authorHref);\n    helpers.assignIfExists(widget, 'version',          preferences.version);\n    helpers.assignIfExists(widget, 'license',          preferences.license);\n    helpers.assignIfExists(widget, 'licenseHref',      preferences.licenseHref);\n\n    // alternative contents\n    widget.altContent = parseAlternativeContents(item);\n\n    // data sources\n    var datasourceMap = parseDatasources(item);\n    if (Object.keys(datasourceMap).length > 0) {\n        widget.datasources = datasourceMap;\n    }\n\n    var children = common.parseChildren(widgetEl, parseWidget);\n    if ((children || []).length > 0) {\n        widget.children = children;\n    }\n\n    delete item.preferencesDict;\n\n    return merge(item, widget);\n}\n\n/**\n * Converts certain preferences into a hash of data source objects\n * @param {Object} item model\n * @returns {Object} hash object of data sources\n */\nfunction parseDatasources(item) {\n    var preferences = item.preferences;\n    var preferenceNames = Object.keys(preferences);\n\n    return preferenceNames.map(function (prefName) {\n        return preferences[prefName];\n    }).filter(function (pref) {\n        return pref.type === 'datasource';\n    }).reduce(function (obj, datasourcePref) {\n        // parse value of the preference as URL\n        var datasourceConfig = parseDatasourceUri(datasourcePref.value);\n        if (datasourceConfig.uri) {\n            datasourceConfig.name = datasourcePref.name;\n            obj[datasourcePref.name] = datasourceConfig;\n        }\n\n        return obj;\n    }, {});\n}\n\n/**\n * Parses datasource URI into object\n * @param {string} uri\n * @returns {Object}\n */\nfunction parseDatasourceUri(uri) {\n    var data = {};\n\n    if (uri) {\n        var logger = getLogger();\n        var uriObject;\n        try {\n            uriObject = url.parse(uri, true);\n            data.params = Object.keys(uriObject.query).map(function (paramName) {\n                return {\n                    name: paramName,\n                    value: uriObject.query[paramName]\n                };\n            });\n            data.uri = data.params.length > 0 ? uri.slice(0, uri.indexOf('?')) : uri;\n        } catch(er) {\n            logger.error(er);\n        }\n    }\n\n    return data;\n}\n\n/**\n * Parses start file specific part of widget node\n * @param {Object} properties Properties as Key/Value\n * @return {Object} Content object\n */\nfunction parseContent(properties) {\n    var content = { src: '', type: 'text/html', encoding: 'UTF-8' };\n    helpers.assignIfExists(content, 'src', properties.src);\n    helpers.assignIfExists(content, 'config', properties.config);\n    return content;\n}\n\n/**\n * Parses alternative contents like src.settings, src.permissions, etc.\n * @param {Object.<string, *>} item\n * @returns {Object.<string, *>}\n */\nfunction parseAlternativeContents(item) {\n    var preferences = item.preferences;\n    var propertyNames = Object.keys(preferences);\n    var sourcePropertyNames = propertyNames.filter(function (name) {\n        return /^src\\..*/.test(name);\n    });\n\n    var contents = sourcePropertyNames.reduce(function (contents, propertyName) {\n        var content = preferences[propertyName].value;\n        var contentName = propertyName.replace(/^src\\./, '');\n\n        contents[contentName] = {\n            src: content,\n            encoding: 'UTF-8'\n        };\n\n        return contents;\n    }, {});\n\n    sourcePropertyNames.forEach(function (preferenceName) {\n        delete item.preferences[preferenceName];\n    });\n\n    return contents;\n}\n\n/**\n * Parses viewmodes\n * @param {Object} properties Dictionary (Key/Value) of properties\n * @return {Array<string>} Array of viewmodes\n */\nfunction parseViewmodes(properties) {\n    var viewmodes_str = properties.viewmodes;\n\n    if (viewmodes_str) {\n        return viewmodes_str.split(/\\s+/).filter(function (viewmode) {\n            return viewmode.trim().length > 0;\n        });\n    } else {\n        return [];\n    }\n}\n\nfunction getLogger() {\n    if (!log) {\n        var parentLog = loggerFactory.getLogger();\n        log = parentLog.child({childName: 'xml-widget-parser'});\n    }\n\n    return log;\n}\n\n},{\"../../../util/logger-factory\":83,\"../../../util/util\":84,\"./common\":63,\"./helpers\":65,\"./item\":66,\"url\":7}],69:[function(require,module,exports){\n'use strict';\n\nvar fetch           = require('../../util/deduping-fetch');\nvar ConfigReader    = require('../../core/config-reader');\nvar VError          = require('../../util/verror');\nvar loggerFactory   = require('../../util/logger-factory');\n\nvar XhrWidgetReader = function(opts) {\n    opts = opts || {};\n    this.log = loggerFactory.getLogger();\n\tthis.useCache = typeof opts.useCache === 'boolean' ? opts.useCache : true;\n    this.responseCache = {};\n};\nXhrWidgetReader.prototype = Object.create(ConfigReader.prototype);\nXhrWidgetReader.prototype.read = function(url) {\n\n    var self = this;\n    var log = this.log;\n\n    log.debug('Making http request for widget config to [%s]...', url);\n\n    if(this.responseCache[url]) {\n        this.log.debug('Using cached response for [%s]', url);\n        return this.responseCache[url];\n    }\n\n    return fetch(url).then(function(res) {\n            log.debug('Response received for [%s]. Status: %s.', url, res.status);\n            return res.status >= 200 && res.status < 300 ?\n                Promise.resolve(res) : Promise.reject(new Error(res.statusText));\n        }).then(function(res) {\n            return res.text();\n        }).then(function(text) {\n            log.trace('Received config:\\n%s', text);\n            if(self.useCache) {\n                self.responseCache[url] = text;\n            }\n            return text;\n        }).catch(function(err) {\n            throw new VError(err, 'Failed to XHR get from ' + url);\n        });\n};\n\nmodule.exports = XhrWidgetReader;\n},{\"../../core/config-reader\":36,\"../../util/deduping-fetch\":78,\"../../util/logger-factory\":83,\"../../util/verror\":85}],70:[function(require,module,exports){\n(function (global){\n/* global document: false, DOMParser: false*/\n\n'use strict';\n\nvar PreprocessingWidgetRenderer = require('../../core/preprocessing-widget-renderer');\nvar VError = require('../../util/verror');\nvar StartFileProcessor = require('./seamless/start-file-processor');\nvar fetch = require('../../util/deduping-fetch');\n\n//shared DOMParser instance\nvar parser = null;\nfunction getDomParser() {\n    if(parser) {\n        return parser;\n    } else {\n        return new DOMParser();\n    }\n}\n\nvar Html5SeamlessRenderer = function(widgetContainerEl, datasourceResolverFactory, opts) {\n    opts = opts || {};\n    var configVars = opts.configVars || {};\n\n    //check some built in dependencies\n    if(typeof window.DOMParser === 'undefined') {\n        throw new Error('DOMParser is not shimmed or a native object. This renderer will not work');\n    }\n\n    PreprocessingWidgetRenderer.call(this, datasourceResolverFactory, configVars);\n\n    this.widgetContainerEl = widgetContainerEl;\n    this.parsingFormat = opts.parsingFormat || null;\n    this.configVars = configVars;\n    this.useFolderLocalization = opts.useFolderLocalization || false;\n\n    // created dom elements during the rendering. We can use this references to destroy widget and clean up dom\n    this.widgetEl = null;\n\n    //container properties\n    this.areaMap = null;\n};\n\nHtml5SeamlessRenderer.prototype = Object.create(PreprocessingWidgetRenderer.prototype);\n\nHtml5SeamlessRenderer.prototype.fetchStartFile = function(widgetModel) {\n\n    var log = this.log;\n\n    log.debug('Starting HTML5 seamless rendering...');\n\n    log.debug('Requesting start file [%s] ...', widgetModel.content.src);\n    return fetch(widgetModel.content.src).then(function(res) {\n        log.debug('Start file request resolved/ Status: %s', res.status);\n\n        if (res.status === 0 || res.status === 200) {\n            return res.text();\n        } else {\n            var error = new Error(res.statusText);\n            error.code = res.status;\n            throw error;\n        }\n    }).then(function(html) {\n        log.trace('Received HTML\\n: %s', html);\n        return html;\n    }).catch(function(e) {\n        var error = new VError(e, 'Failed to fetch: ' + widgetModel.content.src);\n\n        // get error code that is a HTTP response code and convert it into a widget engine code\n        if (e.code === 404) {\n            error.code = 'STARTFILE_NOT_FOUND';\n        }\n\n        throw error;\n    });\n};\n\nHtml5SeamlessRenderer.prototype.process = function(widgetModel, widgetInstance, startFileContent) {\n\n    var widgetEl;\n    var startFileProcessor = (this.startFileProcessor = new StartFileProcessor({\n        document: document,\n        configVars: this.configVars,\n        log: this.log,\n        startFileSrc: widgetModel.content.src\n    }));\n\n    if(startFileContent) {\n        //client side render\n        //\n        //delegate start file parsing and rendering complexities to a dedicated module\n        //this process complies with the Backbase Rendering Specs\n        //https://backbase.atlassian.net/wiki/display/PrM/Rendering+specs\n\n        var startFileDocument = getDomParser().parseFromString(startFileContent, 'text/html');\n\n        //1. Aggregate external stylesheets from widget head to page head\n        //2. Aggregate inline styles from widget head to page head (important not to aggregate from body)\n        startFileDocument = startFileProcessor.aggregateStylesheets(widgetModel, startFileDocument);\n\n        //6. Resolve document relative URIs for media elements*: img, video, audio, iframe\n        startFileDocument = startFileProcessor.normalizeMediaUrls(widgetModel, startFileDocument);\n\n        //3. Create Invokable script list\n        var invokableScripts = startFileProcessor.collateInvokableScripts(widgetModel, startFileDocument);\n\n        //4. Create widget node\n        //5. Set root node innerHTML to be widget body innerHTML\n        widgetEl = startFileProcessor.createWidgetRootNode(widgetModel, startFileDocument);\n\n        //7. If widget.width is a number, set the width of the root node (element.style.width + p\n        //8. If widget.height is a number set the height of the root node (element.style.height +px)\n        widgetEl = startFileProcessor.setDimensions(widgetModel, widgetEl);\n\n        //10. Prepare external and inline scripts for invocation\n        startFileProcessor.prepareScripts(widgetModel, widgetEl , invokableScripts);\n\n        //9. Inject root node into parent container\n        this.widgetContainerEl.appendChild(widgetEl);\n    } else {\n        //assume already rendered\n        for (var i = 0; i < this.widgetContainerEl.children.length; i++) {\n            if(this.widgetContainerEl.children[i].hasAttribute('data-widget')) {\n                widgetEl = this.widgetContainerEl.children[i];\n                break;\n            }\n        }\n    }\n\n    //expose the widget element\n    Object.defineProperty(widgetInstance, 'body',  {\n        enumerable: true,\n        writable: !!this.configVars.compat, //required so the Backbase Format Plugin can modify the body\n        value: widgetEl\n    });\n\n    //global access to the widget interface. Necessary for some plugins. Not nice\n    global.cxp._widgets = global.cxp._widgets || {};\n    global.cxp._widgets[widgetModel.id] = widgetInstance;\n\n    this.widgetEl = widgetEl;\n};\n\nHtml5SeamlessRenderer.prototype.postprocess = function(widgetModel, widgetInstance) {\n    return this.startFileProcessor.invokeScripts(widgetModel, widgetInstance, this.widgetEl);\n};\n\nHtml5SeamlessRenderer.prototype.getWidgetNode = function() {\n    return this.widgetEl || null;\n};\n\nHtml5SeamlessRenderer.prototype.getParentNode = function() {\n    return this.widgetContainerEl || null;\n};\n\nHtml5SeamlessRenderer.prototype.setParentNode = function(widgetContainerEl) {\n    this.widgetContainerEl = widgetContainerEl;\n};\n\nHtml5SeamlessRenderer.prototype.getWidth = function() {\n    return this.getWidgetNode() ? this.getWidgetNode().offsetWidth : 'auto';\n};\n\nHtml5SeamlessRenderer.prototype.getHeight = function() {\n    return this.getWidgetNode() ? this.getWidgetNode().offsetHeight : 'auto';\n};\n\nHtml5SeamlessRenderer.prototype.isRendered = function() {\n    return !!this.widgetContainerEl.innerHTML.trim();\n};\n\nHtml5SeamlessRenderer.prototype.destroy = function () {\n    // Try to find chrome around\n    var widgetName = this.widgetEl.getAttribute('data-widget');\n    var parent = this.widgetEl.parentElement;\n    var chrome = null;\n\n    while (parent) {\n        var chromeName = parent.getAttribute('data-chrome');\n        if (chromeName === widgetName) {\n            chrome = parent;\n            break;\n        }\n\n        parent = parent.parentElement;\n    }\n\n    // Remove created script tags for inline scripts\n    this.startFileProcessor.removeInlineScripts(this.widgetId, this.widgetEl);\n\n    // Remove widget DOM\n    if (chrome) {\n        chrome.parentElement.removeChild(chrome);\n    } else {\n        this.widgetEl.parentElement.removeChild(this.widgetEl);\n        this.widgetEl = null;\n    }\n\n    //Remove widgetInstance object from global.cxp._widgets collection\n    delete global.cxp._widgets[this.widgetId];\n};\n\nHtml5SeamlessRenderer.prototype.getAreaNodes = function() {\n\n    var self = this;\n    if(!this.areaMap) {\n        self.areaMap = {};\n        var areas = Array.prototype.slice.call(this.widgetEl.querySelectorAll('div[data-area]'));\n        // in case of SSR, areas collection may contain elements from child items, so we need to filter\n        // them out (issue BACKLOG-14623)\n        areas.filter(function (areaEl) {\n            return self._isDataAreaElementFromItem(self.widgetEl, areaEl);\n        }).forEach(function(area) {\n            var areaKey = area.getAttribute('data-area');\n            self.areaMap[areaKey] = area;\n        });\n    }\n    return this.areaMap;\n};\n\n/**\n * Determines whether an element with data-area attribute belongs to a given item or to one of its descendants\n * @param {Element} itemEl\n * @param {Element} dataAreaEl\n * @returns {boolean}\n * @private\n */\nHtml5SeamlessRenderer.prototype._isDataAreaElementFromItem = function(itemEl, dataAreaEl) {\n    var itemName = itemEl.getAttribute('data-widget');\n    var parent = dataAreaEl;\n    var parentItemName;\n\n    while (parent) {\n        parentItemName = typeof parent.getAttribute === 'function' ?\n            parent.getAttribute('data-widget') :\n            null;\n\n        if (parentItemName) {\n            // return false if data-area element belongs to another item\n            return parentItemName === itemName;\n        }\n\n        parent = parent.parentNode;\n    }\n\n    return false;\n};\n\nmodule.exports = Html5SeamlessRenderer;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../../core/preprocessing-widget-renderer\":38,\"../../util/deduping-fetch\":78,\"../../util/verror\":85,\"./seamless/start-file-processor\":74}],71:[function(require,module,exports){\n'use strict';\n\nvar Handlebars = require('handlebars/dist/handlebars.min');\nvar HandlebarsHelpers = require('handlebars-helpers');\nvar VError = require('../../../util/verror');\nvar loggerFactory = require('../../../util/logger-factory');\nvar i18n = require('../../../util/i18n');\nvar HandlebarsIntl = require('../../../util/handlebars-intl-decorator');\n\n/**\n * Constructs a Handlebars Preprocessor.\n * This will also automatically add the following CXP helpers to Handlebars:\n * * range\n * * math\n * Compiled templates are cached\n * @constructor\n */\nvar HandlebarsPreprocessor = function(config) {\n    this.name = 'Handlebars Preprocessor';\n    this.log = loggerFactory.getLogger();\n    this.dataObj = {\n        cxpConfig: config || {}\n    };\n\n    this.templateCache = {};\n    this.hbs = Handlebars.create();\n\n    //add default helpers for cxp support\n    var helpers = HandlebarsPreprocessor.cxpHelpers;\n    for(var helperName in helpers) {\n        if(helpers.hasOwnProperty(helperName)) {\n            this.hbs.registerHelper(helperName, helpers[helperName]);\n        }\n    }\n\n    //don't enable Format Js features if Intl API is not available (it requires a polyfill on Safari)\n    if(i18n.intlSupported) {\n        HandlebarsIntl.registerWith(this.hbs);\n    } else {\n        this.log.warn('The ECMAScript Internationalization API is not supported on this platform. ' +\n                      'Some i18n related features will fail.');\n    }\n};\n\n/**\n * Processes a start file that is expected to be a handlebars template.\n * If the widget start file has a `.js` extension, it assumed the template was precompiled with the 'simple' option.\n * E.g. <code>handlebars index.handlebars -s -f index.js</code>\n * @param widgetModel\n * @param startFileContent\n * @param context\n * @param messageBundle\n * @returns {string} a preprocessed start file\n */\nHandlebarsPreprocessor.prototype.process = function(widgetModel, startFileContent, context, messageBundle) {\n\n    var log = this.log;\n    var errMessage;\n\n    var templateKey = widgetModel.content.src;\n    var template = this.templateCache[templateKey];\n\n    if(!template) {\n        //if the start file ends with js, assume it is a precompiled template\n        if(widgetModel.content.type && widgetModel.content.type === 'application/x-handlebars-template') {\n            //precompiled templates must be evaulated, so this is why we use eval\n            var precompiledTemplate = null;\n            try {\n                eval('precompiledTemplate = ' + startFileContent); // jshint ignore:line\n                template = this.hbs.template(precompiledTemplate);\n            } catch(err) {\n                errMessage =\n                    'There was a problem evaluating a pre-compiled handlebars template. ' +\n                    'Ensure it was compiled using the simple option. E.g.' +\n                    '`handlebars index.handlebars -s -f index.js`';\n                this.log.error(err, errMessage);\n                throw new VError(err, errMessage);\n            }\n\n        } else {\n            log.debug('Compiling handlebars template instance for %s', templateKey);\n            try {\n                template = this.hbs.compile(startFileContent);\n            } catch(err) {\n                errMessage = 'There was a problem compiling a handlebars template';\n                this.log.error(err, errMessage);\n                throw new VError(err, errMessage);\n            }\n        }\n        this.templateCache[templateKey] = template;\n    }\n    \n    if(messageBundle) {\n        var messages = messageBundle.messages || {};\n        var formats = messageBundle.formats || {};\n        var options = messageBundle.options || {};\n        var availableLocales = Object.keys(messages);\n        var bestFitLocale = i18n.chooseBestLocale(availableLocales, widgetModel.locale);\n\n        //TODO: consider merging messages by locale fit priority\n        //see https://github.com/l20n/l20n.js/blob/v1.0.x/lib/l20n/intl.js\n        //this code does not use `intl.messages` but instead puts messages directly on the intl object,\n        //see https://backbase.atlassian.net/browse/BACKLOG-12050\n        this.dataObj.intl = messages[bestFitLocale] || messages[i18n.defaultLocale] || {};\n\n        if(this.dataObj.intl.locales) {\n            this.log.warn('\"locales\" is a reserved key. It will be overridden');\n        }\n        this.dataObj.intl.locales = \n            widgetModel.locale === i18n.defaultLocale ? widgetModel.locale : [ widgetModel.locale, i18n.defaultLocale ];\n        \n        if(this.dataObj.intl.formats) {\n            this.log.warn('\"formats\" is a reserved key. It will be overridden');\n        }\n        this.dataObj.intl.formats = formats;\n\n        if(this.dataObj.intl.options) {\n            this.log.warn('\"options\" is a reserved key. It will be overridden');\n        }\n        this.dataObj.intl.options = options;\n    }\n\n    var result;\n    try {\n        result = template(context, { data: this.dataObj });\n        log.trace('Using compiled Handlebars start file for %s:\\n%s', templateKey, result);\n    } catch(err) {\n        log.error(err, 'A handlebars template [%s] could not be processed:\\n\\t%s', templateKey, err.message);\n        throw err;\n    }\n    \n    return result;\n};\n\n/**\n * Registers a handlebars helper with the internal handlebars instance\n * @param {string} name\n * @param {Function} helper\n */\nHandlebarsPreprocessor.prototype.registerHelper = function(name, helper) {\n\n    this.hbs.registerHelper(name, helper);\n};\n\n/**\n * Registers a handlebars partial with the internal handlebars instance\n * @param {string} name\n * @param {Function} partial\n */\nHandlebarsPreprocessor.prototype.registerPartial = function(name, partial) {\n\n    this.hbs.registerPartial(name, partial);\n};\n\nHandlebarsPreprocessor.cxpHelpers = HandlebarsHelpers;\n\nmodule.exports = HandlebarsPreprocessor;\n\n},{\"../../../util/handlebars-intl-decorator\":81,\"../../../util/i18n\":82,\"../../../util/logger-factory\":83,\"../../../util/verror\":85,\"handlebars-helpers\":87,\"handlebars/dist/handlebars.min\":88}],72:[function(require,module,exports){\n/* jshint strict: true */\n/* globals soy: false, DOMParser: false */\n\n'use strict';\n\nvar VError    = require('../../../util/verror');\nvar loggerFactory  = require('../../../util/logger-factory');\nvar resourceLoader = require('../seamless/resource-loader')();\nvar util           = require('../../../util/util');\n\nvar convertToArray = Array.prototype.slice.call.bind(Array.prototype.slice);\n\n/**\n * Constructs a Soy Template Preprocessor.\n * Compiled templates are cached\n * @constructor\n */\nvar SoyPreprocessor = function(configVars) {\n    this.name = 'Soy Preprocessor';\n    this.log = loggerFactory.getLogger();\n    this.configVars = configVars;\n};\n\n/**\n * Processes a start file that is expected to be a compiled soy template.\n * @param widgetModel\n * @param startFileContent\n * @param context\n * @returns {string} a preprocessed start file\n */\nSoyPreprocessor.prototype.process = function(widgetModel, startFileContent, context) {\n    var self = this;\n    var log = this.log;\n\n    if(typeof soy === 'undefined') {\n        throw new VError('Soy utils are not present. Cannot use Soy start file');\n    }\n\n    //the start file is the soy container's `config.xml` file. Parse out the resources...\n    var parser = new DOMParser();\n    var configDoc = parser.parseFromString(startFileContent, 'application/xml');\n    var resources = configDoc.getElementsByTagName('resources')[0];\n    resources = resources || configDoc.getElementsByTagName('bb:resources')[0];\n\n    if (!resources) {\n        throw new VError('\"resources\" element not found in config.xml');\n    }\n\n    var templateName = widgetModel.preferences.TemplateName.value;\n\n    //filter out the template script, we want to load this separately from regular resources\n    var templateScriptRegex = new RegExp('/templates/' + templateName + '/template\\\\.js$');\n    var templateScriptNode = convertToArray(resources.children).filter(function(script) {\n        return templateScriptRegex.test(script.getAttribute('src'));\n    })[0];\n    if(templateScriptNode) {\n        resources.removeChild(templateScriptNode);\n    }\n    var templateSrc = util.replacePathVars(templateScriptNode.getAttribute('src'), this.configVars, this.log);\n\n    //load the compiled soy template, it will be added as a global var\n    return resourceLoader.loadScripts(templateSrc).then(function() {\n        //Create a wrapper dom object to append links and scripts to\n        var startFileEl = document.createElement('div');\n        var templateNamespace = 'window.' + guessTemplateNamespace(templateName, widgetModel);\n        var fragment = null;\n        var template = null;\n\n        try {\n            eval('template = ' + templateNamespace);  // jshint ignore:line\n            fragment = soy.renderAsFragment(template[templateName], {\n                item: createTemplateItemData(context),\n                ij:   self.configVars\n            }, null, self.configVars);\n        } catch(err) {\n            var errMessage = 'There was a problem evaluating a pre-compiled Soy template.';\n            log.error(err, errMessage);\n            throw new VError(err, errMessage);\n        }\n\n        //add the remaining resources\n        startFileEl.innerHTML = resources.innerHTML;\n\n        //append the rendered template\n        startFileEl.appendChild(fragment);\n\n        //convert areas to cxp6 style with [data-area] attributes\n        var areaNodes = fragment.classList && fragment.classList.contains('bp-area') ?\n            [ fragment ] : convertToArray(fragment.getElementsByClassName('bp-area'));\n        areaNodes.forEach(function(areaNode, i) {\n            areaNode.setAttribute('data-area', i);\n        });\n\n        var result = startFileEl.outerHTML;\n        log.trace('Using compiled Soy start file for %s:\\n%s', templateNamespace, result);\n\n        return result;\n    });\n};\n\n// The global namespace of the soy template is usually 'templates_ContainerName'. However, it doesn't have to be\n// It is impossible to know the namespace without fetching and parsing the uncompiled soy file, which brings its own\n// problems.\n//\n// This function attempts to guess the namespace before it is evaluated. If no guess is succesful, a container d\n// developer may explicitly define a 'soyNamespace' preference on the item model to tell the widget engine exactly\n// what it should be.\nfunction guessTemplateNamespace(templateName, widgetModel) {\n\n    var attempt;\n\n    function isDefined (namespace) {\n        return typeof window[namespace] !== 'undefined';\n    }\n\n    //try \"templates_ContainerName\"\n    attempt = 'templates_' + templateName;\n    if(isDefined(attempt)) {\n        return attempt;\n    }\n\n    //custom value\n    var soyNamespacePref = widgetModel.preferences.soyNamespace;\n    if(soyNamespacePref && isDefined(soyNamespacePref.value)) {\n        return soyNamespacePref.value;\n    }\n\n    //maybe the view namespace preference works?\n    var viewNamespacePref = widgetModel.preferences.viewNamespace;\n    if(viewNamespacePref) {\n        var viewNamespace = viewNamespacePref.value;\n        var sanitizedViewNamespace = viewNamespace.replace('http://', '').replace(/[\\.\\/]/g, '_');\n\n        //try \"viewNamespace_ContainerName\"\n        attempt = sanitizedViewNamespace + '_' + templateName;\n        if(isDefined(attempt)) {\n            return attempt;\n        }\n\n        //try \"viewNamespace\"\n        attempt = sanitizedViewNamespace;\n        if(isDefined(attempt)) {\n            return attempt;\n        }\n    }\n\n    throw new Error('Could not guess soy template namespace for ' + templateName);\n}\n\n//convert the widgetModel into the format required by the soy template\nfunction createTemplateItemData(widgetModel) {\n\n    var templateData = {};\n\n    templateData.name = widgetModel.name;\n    templateData.children = widgetModel.children || [];\n\n    //preferences\n    templateData.preferences = widgetModel.preferences || {};\n    templateData.children = templateData.children.map(createTemplateItemData);\n\n    return templateData;\n}\n\nmodule.exports = SoyPreprocessor;\n\n},{\"../../../util/logger-factory\":83,\"../../../util/util\":84,\"../../../util/verror\":85,\"../seamless/resource-loader\":73}],73:[function(require,module,exports){\n'use strict';\n\nvar PromiseExt = require('promise-extensions')(Promise);\n\nvar _loaderInstance;\n\nfunction ResourceLoader() {\n    this._initilized = false;\n    this._allLoadingPromises = {};\n}\n\nmodule.exports = function() {\n    if (!_loaderInstance){\n        _loaderInstance = new ResourceLoader();\n    }\n    return _loaderInstance;\n};\n\n/**\n * Lazily initializes an instance of resource loader.\n * As this object relies on existence of <code>document</code> free variable which may not exist at the moment\n * an instance of resource loader is created.\n * @private\n */\nResourceLoader.prototype._init = function() {\n    if (this._initilized) {\n        return;\n    }\n\n    this.head = document.getElementsByTagName('head')[0] || document.documentElement;\n    this.asyncSupported = typeof document.createElement('script').async !== 'undefined';\n\n    this._prepopulateLoadedCache();\n\n    this._initilized = true;\n};\n\nResourceLoader.prototype._prepopulateLoadedCache = function() {\n\n    var self = this;\n\n    var preloadedLinks = Array.prototype.slice.call(document.getElementsByTagName('link'));\n    preloadedLinks.forEach(function(link) {\n        var src = link.getAttribute('href');\n        var isLoadable = link.rel === 'stylesheet' && src;\n\n        if(isLoadable) {\n            self._addToCache(src, src);\n        }\n    });\n\n    var preloadedScripts = Array.prototype.slice.call(document.getElementsByTagName('script'));\n    preloadedScripts.forEach(function(script) {\n        var src = script.getAttribute('src');\n        var isLoadable = !script.innerHTML && src;\n        //a note about async scripts:\n        //if a script that is already on the page is marked async. Its not possible to guarantee here that the script\n        //has completed loading and executing, so it's not added in the loaded script cache. Therefore a script marked\n        //async in the page template is likely to be reloaded, if used again in a widget.\n        if(isLoadable && !script.async && !self._getFromCache(src)) {\n            self._addToCache(src, Promise.resolve(src));\n        }\n    });\n};\n\n/**\n * Normalizes resourceUrl parameter by decoding it, so that encoded and not encoded urls that represent\n * the same resource are considered identical. Also strips off deprecated [BBHOST].\n * @todo : Please remove when support for BBHOST is dropped BACKLOG-16057\n * @param {string} resourceUrl A resource URL (script or style)\n * @returns {string} A normalized URL\n * @private\n */\nResourceLoader.prototype._normalizeKey = function normalizeKey(resourceUrl) {\n    var key = decodeURI(resourceUrl);\n    return key.replace(/(?:features|widgets|containers|pages|templates)\\/\\[BBHOST\\]/gi, 'items');\n};\n\n/**\n * Adds requested resourceUrl to the cache\n * @param {string} resourceUrl A resource URL (script or style)\n * @param {*} value A value to store in the cache\n * @private\n */\nResourceLoader.prototype._addToCache = function addToCache(resourceUrl, value) {\n    if (!resourceUrl) {\n        return;\n    }\n\n    var key = this._normalizeKey(resourceUrl);\n    this._allLoadingPromises[key] = value;\n};\n\n/**\n * Gets the value from the cache by the resourceUrl\n * @param {string} resourceUrl A resource URL (script or style)\n * @returns {*} A value stored in the cache if found, \"undefined\" otherwise\n * @private\n */\nResourceLoader.prototype._getFromCache = function addToCache(resourceUrl) {\n    if (!resourceUrl) {\n        return undefined;\n    }\n\n    var key = this._normalizeKey(resourceUrl);\n    return this._allLoadingPromises[key];\n};\n\nResourceLoader.prototype.loadScripts = function(scripts) {\n\n    if(!(scripts instanceof Array)) {\n        scripts = [ scripts ];\n    }\n\n    this._init();\n    return this.asyncSupported ? this._loadScriptsAsync(scripts) : this._loadScriptsSync(scripts);\n};\n\n//modern approach\nResourceLoader.prototype._loadScriptsAsync = function(scripts) {\n\n    var self = this;\n\n    //this loads all the unloaded scripts asynchronously, but should execute them in order\n    // (by turning async off after assigning the source)\n    var scriptLoadPromises = scripts.map(function(src) {\n\n        var scriptPromise = self._getFromCache(src);\n\n        if (!scriptPromise) {\n            var scriptEl = document.createElement('script');\n            scriptEl.src = src;\n            scriptEl.async = false;\n\n            scriptPromise = self._createScriptPromise(scriptEl);\n            self._addToCache(src, scriptPromise);\n\n            self.head.insertBefore(scriptEl, self.head.firstChild);\n        }\n\n        return scriptPromise;\n    });\n\n    return PromiseExt.settleAll(scriptLoadPromises);\n};\n\n//legacy approach\nResourceLoader.prototype._loadScriptsSync = function(scripts) {\n\n    var self = this;\n\n    // define script element/promise pairs. Script load success/failure will settle\n    // the corresponding promise.\n    var scriptTuples = scripts.map(function (src) {\n        var scriptPromise = self._getFromCache(src);\n        var scriptEl;\n\n        if(!scriptPromise) {\n            scriptEl = document.createElement('script');\n            scriptEl.src = src;\n\n            scriptPromise = self._createScriptPromise(scriptEl);\n            self._addToCache(src, scriptPromise);\n        }\n\n        return {element: scriptEl, promise: scriptPromise};\n    });\n    var scriptPromises = scriptTuples.map(function (tuple) {\n        return tuple.promise;\n    });\n\n    // attaching script element to DOM triggers its load\n    function loadScript (scriptTuple) {\n        if (scriptTuple.element) {\n            self.head.insertBefore(scriptTuple.element, self.head.firstChild);\n        }\n        return scriptTuple.promise;\n    }\n\n    var startOfChainPromise = Promise.resolve(loadScript(scriptTuples[0] || {}));\n\n    // build chain of script loading promises\n    // next script starts loading only after the prev one has loaded/failed\n    var chain = scriptTuples.slice(1).reduce(function (promise, scriptTuple) {\n        var loadNextScript = loadScript.bind(null, scriptTuple);\n        return promise.then(loadNextScript, loadNextScript);\n    }, startOfChainPromise);\n\n    // terminate chain in case the last script failed to load\n    chain.catch(function () {});\n\n    return PromiseExt.settleAll(scriptPromises);\n};\n\nResourceLoader.prototype._createScriptPromise = function(scriptEl) {\n    var src = scriptEl.src;\n    return new Promise(function(resolve, reject) {\n\n        scriptEl.onload = function() {\n            resolve(src);\n        };\n\n        scriptEl.onerror = function() {\n            reject(src);\n        };\n    });\n};\n\nResourceLoader.prototype.loadCss = function(hrefs) {\n\n    if(!(hrefs instanceof Array)) {\n        hrefs = [ hrefs ];\n    }\n\n    this._init();\n\n    var self = this;\n    var head = self.head;\n    var currentBatch = [];\n\n    hrefs.forEach(function(src) {\n\n        var stylePromise = self._getFromCache(src);\n\n        if(stylePromise) {\n            currentBatch.push(stylePromise);\n        } else {\n            var newLinkEl = document.createElement('link');\n            newLinkEl.setAttribute('rel', 'stylesheet');\n            newLinkEl.setAttribute('type', 'text/css');\n            newLinkEl.setAttribute('href', src);\n\n            var promise = Promise.resolve(src);\n\n            self._addToCache(src, promise);\n            currentBatch.push(promise);\n\n            //logic to insert after last stylesheet element in head\n            var sheetLinksEls = Array.prototype.slice.call(head.getElementsByTagName('link')).filter(function(el) {\n                return el.rel === 'stylesheet';\n            });\n            if(sheetLinksEls.length) {\n                var lastLinkEl = sheetLinksEls.pop();\n                lastLinkEl.parentNode.insertBefore(newLinkEl, lastLinkEl.nextSibling);\n            } else {\n                head.insertBefore(newLinkEl, head.firstChild);\n            }\n        }\n    });\n\n    return Promise.all(currentBatch);\n};\n\n},{\"promise-extensions\":145}],74:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar util = require('../../../util/util');\nvar url = require('url');\nvar resourceLoader = require('./resource-loader')();\nvar VError = require('../../../util/verror');\n\nvar pathname;\nif(global.location) {\n    pathname = global.location.pathname;\n}\n\n/**\n *\n * @param documentContext\n * @param parentNode\n * @param opts\n * @constructor\n */\nfunction StartFileProcessor(opts) {\n    opts = opts || {};\n    this.log = opts.log || null;\n    this.documentContext = opts.document;\n    this.configVars = opts.configVars || {};\n    this.startFileSrc = opts.startFileSrc || '';\n\n    //this is needed to differentiate inline scripts for the same widget but different start files.\n    //such as in the cx manager inspector widget. It is only set to a value if client side rendering is\n    //used. The _getScriptKey() function combines the widget id with the this suffix to generate key\n    //unique to a start file\n    this._scriptKeySuffix = '';\n}\n\n/**\n * a. Aggregate external stylesheets from widget head to page head\n * b. Aggregate inline styles from widget head to page head (important not to aggregate from body)\n *    i.e. any style element that is a direct child of the head\n * @returns The provided start file documented with the aggregated/loaded elements removed\n * @private\n */\nStartFileProcessor.prototype.aggregateStylesheets = function(widgetModel, startFileDocument) {\n    var self = this;\n\n    var externalStylesBatch = [];\n    function addToBatch(linkElem) {\n        var href = linkElem.getAttribute('href');\n        var linkUrl = self._normalizeResourceUrl(href, widgetModel);\n        externalStylesBatch.push(linkUrl);\n    }\n    function loadBatch() {\n        //syncronous call, no catch needed\n        resourceLoader.loadCss(externalStylesBatch);\n        externalStylesBatch = [];\n    }\n\n    //this loads all links and styles in their original order from the start files head\n    var styleAndLinkElements = startFileDocument.querySelectorAll(' head > style, head > link[rel=stylesheet]');\n    Array.prototype.slice.call(styleAndLinkElements).forEach(function(elem) {\n        if (elem.tagName.toLowerCase() === 'style') {\n            loadBatch();\n            self.documentContext.head.appendChild(elem);\n        } else if(elem.getAttribute('href')) {\n            addToBatch(elem);\n        }\n    });\n    loadBatch();\n\n    return startFileDocument;\n};\n\n/**\n * Create Invocable script list\n * a. For each script ((i.e any script tags where the type attribute is undefined or equal to text/javascript and that\n *    are direct children of the widget head or widget body)\n * b. Add to list\n * c. Resolve document relative src attribute values\n * d. Replace configuration placeholders ( $(itemRoot), $(contextRoot) etc)\n * e. Remove from widget dom\n * @private\n */\nStartFileProcessor.prototype.collateInvokableScripts = function(widgetModel, startFileDocument) {\n    var self = this;\n    var scriptElements = startFileDocument.getElementsByTagName('script');\n\n    var scripts =  Array.prototype.slice.call(scriptElements).reduce(function(processedScripts, scriptElement) {\n        if(!scriptElement.type || scriptElement.type === 'text/javascript') {\n            var scriptContent = scriptElement.innerHTML;\n            var src = scriptElement.getAttribute('src');\n            if(scriptContent) {\n                processedScripts.push({\n                    content: scriptContent\n                });\n            } else if(src) {\n                processedScripts.push({\n                    src: self._normalizeResourceUrl(src, widgetModel)\n                });\n            }\n            scriptElement.parentNode.removeChild(scriptElement);\n        }\n        return processedScripts;\n    }, []);\n\n    //also add the onload attribute\n    var startFileBody = startFileDocument.getElementsByTagName('body')[0];\n    var onloadAttribute = startFileBody.getAttribute('onload');\n    if(onloadAttribute) {\n        scripts.push({\n            content: onloadAttribute\n        });\n    }\n\n    return scripts;\n};\n\n/**\n * a. Resolve document relative URIs for media elements*: img, video, audio, iframe\n * b. Replace configuration placeholders ( $(itemRoot), $(contextRoot) etc)\n * @param startFileDocument\n * @return {*}\n * @private\n */\nStartFileProcessor.prototype.normalizeMediaUrls = function(widgetModel, startFileDocument) {\n    var self = this;\n    var imageElements = startFileDocument.getElementsByTagName('img');\n    Array.prototype.slice.call(imageElements).forEach(function(imageElement) {\n        var originalSrc = imageElement.getAttribute('src');\n        if(originalSrc) {\n            var src = self._normalizeResourceUrl(originalSrc, widgetModel);\n            if(imageElement.getAttribute('src') !== src) {\n                imageElement.src = src;\n            }\n        }\n    });\n    return startFileDocument;\n};\n\n/**\n * Create root node\n * a. Create a div element\n * b. Set attribute id to be the widget UUID\n * c. Set attribute data-widget to be the widget name\n * d. Copy attributes from widget body to root node (excluding id)\n */\nStartFileProcessor.prototype.createWidgetRootNode = function(widgetModel, startFileDocument) {\n    //create the widget element\n    var widgetNode =  this.documentContext.createElement('div');\n\n    //id and data-widget\n    widgetNode.id = widgetModel.id;\n    widgetNode.setAttribute('data-widget', widgetModel.name);\n\n    //add body attributes to root widget el\n    var startFileBodyElement = startFileDocument.getElementsByTagName('body')[0];\n    for (var i = 0; i < startFileBodyElement.attributes.length; i++) {\n        var bodyAttr = startFileBodyElement.attributes[i];\n        if (bodyAttr.specified && bodyAttr.name !== 'onload' && bodyAttr.name !== 'id') {\n            widgetNode.setAttribute(bodyAttr.name, bodyAttr.value);\n        }\n    }\n\n    widgetNode.innerHTML = startFileBodyElement.innerHTML;\n    \n    return widgetNode;\n};\n\n/**\n * a. If widget.width is a number, set the width of the root node (element.style.width + px)\n * b. If widget.height is a number set the height of the root node (element.style.height +px)\n * @param widgetModel\n * @param widgetEl\n * @return {*}\n * @private\n */\nStartFileProcessor.prototype.setDimensions = function(widgetModel, widgetEl) {\n    var self = this;\n\n    function setDimension(widthOrHeight) {\n        if(widgetModel[widthOrHeight] && !isNaN(parseInt(widgetModel[widthOrHeight]))) {\n            widgetEl.style[widthOrHeight] = parseInt(widgetModel[widthOrHeight]) + 'px';\n            self.log.debug('Widget %s set to %s.', widthOrHeight, widgetEl.style[widthOrHeight]);\n        }\n    }\n    setDimension('width');\n    setDimension('height');\n\n    return widgetEl;\n};\n\n/**\n * Prepare external and inline scripts for invocation\n * a. For each script in script list\n *    i. Append to root node and\n         - For external scripts, set src attribute to data-src\n         - For inline scripts, wrap in widget function wrapper  (see code snippet below)\n * @param widgetModel\n * @param widgetEl\n * @param invokableScripts\n * @private\n */\nStartFileProcessor.prototype.prepareScripts = function(widgetModel, widgetEl, invokableScripts) {\n    var self = this;\n\n    this._scriptKeySuffix = '_' + this.startFileSrc;\n    var scriptKey = this._getScriptKey(widgetModel.id);\n\n    global.cxp = global.cxp || {};\n    global.cxp.scripts = global.cxp.scripts || {};\n    global.cxp.scripts[scriptKey] = [];\n\n    invokableScripts.forEach(function(script) {\n        var scriptEl = self.documentContext.createElement('script');\n        if(script.content) {\n            \n            var scriptStart = 'cxp.scripts[\\'' + scriptKey + '\\'].push(function(widget, __GADGET__,  __WIDGET__) { ';\n            var scriptEnd = ' });';\n            scriptEl.innerHTML = scriptStart + script.content + scriptEnd;\n            scriptEl.setAttribute('data-cxp-script', scriptKey);\n            self.documentContext.body.appendChild(scriptEl);\n        } else {\n            scriptEl.setAttribute('data-src', script.src);\n            widgetEl.appendChild(scriptEl);\n        }\n    });\n    return widgetEl;\n};\n\n/**\n * Remove inline scripts for given widgetId (for destroying)\n * @param widgetModel\n * @param widgetEl\n * @param invokableScripts\n * @private\n */\nStartFileProcessor.prototype.removeInlineScripts = function(widgetId) {\n\n    var scriptKey = this._getScriptKey(widgetId);\n    \n    //remove scripts array from global scripts object for given widgetId\n    global.cxp.scripts = global.cxp.scripts || {};\n    delete global.cxp.scripts.scriptKey;\n\n    //remove inline script elements\n    var scriptElements = this.documentContext.querySelectorAll('script[data-cxp-script=\\'' + scriptKey + '\\']');\n    Array.prototype.slice.call(scriptElements).forEach(function (scriptEl) {\n        scriptEl.parentElement.removeChild(scriptEl);\n    });\n};\n\nStartFileProcessor.prototype.invokeScripts = function(widgetModel, widgetInstance, widgetEl) {\n    var self = this;\n    var log = this.log;\n    var itemName = widgetModel.name;\n\n    var externalScriptElements = widgetEl.querySelectorAll('script[data-src]');\n    var scriptSources = Array.prototype.slice.call(externalScriptElements).filter(function (scriptElement) {\n        // in case of SSR don't pick up scripts from child items\n        return util.ensureElementBelongsToItem(itemName, scriptElement);\n    }).map(function(scriptElement) {\n        var src = scriptElement.getAttribute('data-src');\n        src = self._normalizeResourceUrl(src, widgetModel);\n        return src;\n    });\n\n    return resourceLoader.loadScripts(scriptSources).then(function(inspections) {\n        log.debug('JS resources have loaded.');\n        var failedScripts = [];\n\n        //review external script results\n        if(inspections) {\n            var errorCount = inspections.filter(function(scriptLoadInspection) {\n                var rejected = scriptLoadInspection.isRejected();\n                return rejected && failedScripts.push(scriptLoadInspection.reason);\n            }).length;\n            if(errorCount > 0) {\n                log.warn('%s scripts failed to load:\\n%s', errorCount, failedScripts.join(', '));\n            }\n        }\n\n        //invoke inline scripts\n        var scriptKey = self._getScriptKey(widgetModel.id);\n        if(global.cxp && global.cxp.scripts && Array.isArray(global.cxp.scripts[scriptKey])) {\n            try {\n                global.cxp.scripts[scriptKey].forEach(function (scriptFn) {\n                    if(typeof scriptFn === 'function') {\n                        scriptFn.call(null, widgetInstance, widgetInstance, widgetInstance);\n                    }\n                });\n            } catch(err) {\n                //TODO: better error\n                log.warn('Failed to invoke inline scripts for widget \"%s\".\\n%s', widgetModel.name, err);\n            }\n        }\n    }).catch(function(err) {\n        throw new VError(err, 'Failed to render HTML5 seamless widget');\n    });    \n};\n\n/**\n * Replace path placeholders ( $(contextRoot) etc)\n * @param resourceUrl\n * @param widgetModel\n * @return {String|*}\n * @private\n */\nStartFileProcessor.prototype._normalizeResourceUrl = function(resourceUrl, widgetModel) {\n    resourceUrl = util.replacePathVars(resourceUrl, this.configVars, this.log);\n    \n    //need to make paths site relative.\n    if(util.isUrlDocumentRelative(resourceUrl)) {\n        var startFilePath = widgetModel.content.src;\n        var startFileDir = startFilePath.substring(0, startFilePath.lastIndexOf('/') + 1);\n        if(util.isUrlDocumentRelative(startFilePath)) {\n            var docRoot = pathname.substring(0, pathname.lastIndexOf('/') + 1);\n            startFileDir = url.resolve(docRoot, startFileDir);\n        }\n        resourceUrl = url.resolve(startFileDir, resourceUrl);\n    }\n\n    return resourceUrl;\n};\n\nStartFileProcessor.prototype._getScriptKey = function(widgetId) {\n    return widgetId + this._scriptKeySuffix;\n};\n\nmodule.exports = StartFileProcessor;\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../../../util/util\":84,\"../../../util/verror\":85,\"./resource-loader\":73,\"url\":7}],75:[function(require,module,exports){\n/* global window: false*/\n'use strict';\n\nvar WidgetStorage = require('./web-storage-decorator');\n\nfunction Html5LocalStorage() {\n    WidgetStorage.call(this, window.localStorage);\n}\nHtml5LocalStorage.prototype = Object.create(WidgetStorage.prototype);\n\nmodule.exports = Html5LocalStorage;\n},{\"./web-storage-decorator\":77}],76:[function(require,module,exports){\n'use strict';\nvar util = require('../../util/util');\n\n/**\n * This class implements [StorageEvent](https://developer.mozilla.org/en-US/docs/Web/API/StorageEvent)\n *\n * It would be preferable to use the native StorageEvent class, but doing seemed too difficult; the final argument when\n * calling <code>initStorageEvent</code> must be a valid StorageArea implementation, but I was not able to figure out\n * how to make Firefox think custom storage areas implement the native Storage interface.\n *\n * This event may not work if using it on native EventTarget implementations such as the <code>window</code> object\n *\n * @exports the StorageEvent constructor\n * @type {StorageEvent|exports}\n */\n\n/**\n * Constructor\n * @param type\n * @constructor\n */\nfunction StorageEvent(type) {\n    this.type = type;\n}\n\n/**\n * Initializes the event in a manner analogous to the similarly-named method in the DOM Events interfaces.\n * @param {String} type The name of the event.\n * @param {Boolean} canBubble A boolean indicating whether the event bubbles up through the DOM or not.\n * @param {Boolean} cancellable A boolean indicating whether the event is cancelable.\n * @param {String} key The key whose value is changing as a result of this event.\n * @param {String} oldValue The key's old value.\n * @param {String} newValue The key's new value.\n * @param {String} url\n * @param {Object} storageArea The DOM Storage object representing the storage area on which this event occurred.\n */\nStorageEvent.prototype.initStorageEvent = function(type, canBubble, cancellable, key, oldValue, newValue, url,\n                                                   storageArea) {\n    this.type = type;\n    this.canBubble = canBubble;\n    this.cancellable = cancellable;\n    this.key = key;\n    this.oldValue = oldValue;\n    this.newValue = newValue;\n    this.url = url;\n    this.storageArea = storageArea;\n};\n\nStorageEvent.prototype.toString = function() {\n    return util.format('[object StorageEvent] (key=%s, oldValue=%s, newValue=%s, url=%s)',\n        this.key, this.oldValue, this.newValue, this.url);\n};\n\nmodule.exports = StorageEvent;\n},{\"../../util/util\":84}],77:[function(require,module,exports){\n(function (process){\n'use strict';\n\n/**\n * Use this module to help build new Widget Storage implementations or adapt existing WebStorage implementations\n *\n * The WidgetStorage class provides an <code>init</code> method which initializes the web storage with a set of\n * preferences from a widget's configuration, ensuring readonly preferences are respected\n *\n * When storing widget preferences it will prefix them with the widget's instance id so multiple widgets can\n * share the same storage environment.\n *\n * @example\n *\n * var MyStorageImpl = function() {\n *  var storage = new WebStorageImpl();\n *  WebStorageDecorator.call(this, storage);\n * };\n * MyStorageImpl.prototype = Object.create(WebStorageDecorator.prototype);\n *\n * @exports the WebStorageDecorator constructor\n * @type {WidgetStorage|exports}\n */\n\n//originally adapted from https://gist.github.com/tlrobinson/1334406\nvar loggerFactory = require('../../util/logger-factory');\nvar bunyan = require('browser-bunyan');\nvar WidgetStorage = require('../../core/widget-storage');\nvar VError = require('../../util/verror');\nvar StorageEvent = require('./storage-event');\nvar util = require('../../util/util');\n\n/**\n * WebStorageDecorator constructor for web storage\n * @param {Object} storage A web storage implementation. e.g. sessionStorage\n * @param {Object} [eventTarget] When WebStorage events are generated, they will be dispatched to this object\n * @constructor\n * @implements {WidgetStorage}\n */\nfunction WebStorageDecorator(storage) {\n\n    this.eventTarget = [];\n    this.log = loggerFactory.getLogger();\n\n    this._items = [];\n    this._storage = storage;\n    this._prefix = '';\n    this._eventsEnabled = false; //enable after initialization\n\n    //storage needs a length property\n    var self = this;\n    Object.defineProperty(this, 'length',  {\n        enumerable: false,\n        configurable: false,\n        get: function () {\n            return Object.keys(self._items).length;\n        }\n    });\n}\n\nWebStorageDecorator.prototype = Object.create(WidgetStorage.prototype);\n\n/**\n * Initializes the storage\n * @param {string} widgetInstanceId\n * @param {Array} preferences\n */\nWebStorageDecorator.prototype.init = function(widgetInstanceId, preferences) {\n\n    var self = this;\n    var log = this.log;\n    this._prefix = widgetInstanceId || '';\n\n    log.debug('Initializing preference storage for widget [%s]', widgetInstanceId);\n    log.debug('Using internal storage [%s]', this._storage.toString());\n    if(log.level() <= bunyan.TRACE) {\n        log.trace('Initializing storage with the following preferences:\\n %s', JSON.stringify(preferences));\n    }\n\n    if(preferences) {\n        this._items = Object.keys(preferences).map(function(prefName) {\n            return self.defineItem(preferences[prefName]);\n        });\n    }\n\n    //events are disabled until the storage is initialized\n    this._eventsEnabled = true;\n};\n\n/**\n * Gets an item value from storage\n * @param {string} key\n * @returns {string}\n */\nWebStorageDecorator.prototype.getItem = function(key) {\n\n    //look for personalized value in storage\n    var value = this._storage.getItem(this._prefix + key);\n    if(typeof value === 'undefined' || value === null) {\n        //revert to memory\n        var item = this._getItemDefinition(key) || null;\n        value = item ? item.value : null;\n    }\n    if(typeof value === 'undefined') {\n        //must explicitly return null if the item does not exist\n        value = null;\n    }\n    this.log.trace('Getting preference [%s=%s]', key, value);\n\n    return value;\n};\n\n/**\n * Defines an item, so it is accessible as a property of the storage\n * @param {Object} pref\n */\nWebStorageDecorator.prototype.defineItem = function(pref) {\n\n    var self = this;\n    var key = pref.name;\n\n    this._items.push(pref);\n\n    var propertyDescriptor = {\n        enumerable: true,\n        configurable: true,\n        get: function () {\n            return self.getItem(key);\n        },\n        set: function(val) {\n            return self.setItem(self._prefix + key, val);\n        }\n    };\n    Object.defineProperty(this, key, propertyDescriptor);\n\n    return pref;\n};\n\n/**\n * Sets an item. Setting an item to null will remove it\n * @param {string} key\n * @param {string} value\n * @param {string} [type]\n * @returns {*}\n */\nWebStorageDecorator.prototype.setItem = function(key, value, type) {\n    this._ensureItemWritable(key);\n\n    this.log.debug('Setting preference to storage [%s=%s]', key, value);\n\n    //behavior is that setting an item to null will remove it\n    if(value === null) {\n        return this.removeItem(key);\n    } else {\n        this._notify(key, this.getItem(key), value);\n        return this._storage.setItem(this._prefix + key, value, type);\n    }\n};\n\n/**\n * Clears personalization of an item\n * @param {string} key\n * @returns {string}\n */\nWebStorageDecorator.prototype.removeItem = function(key) {\n\n    this._notify(key, this.getItem(key), null);\n\n    this.log.debug('Removing preference from storage [%s]', key);\n\n    return this._storage.removeItem(this._prefix + key);\n};\n\n/**\n * Clears the storage area\n */\nWebStorageDecorator.prototype.clear = function() {\n\n    var self = this;\n\n    this._notify(null, null, null);\n\n    this.log.debug('Clearing preferences');\n\n    //must disable events so removeItem does not fire events\n    this._eventsEnabled = false;\n    Object.keys(this._storage).filter(function(key) {\n        return key.indexOf(self._prefix) === 0;\n    }).forEach(function(key) {\n        self.removeItem(key.substr(self.prefix.length));\n    });\n    this._eventsEnabled = true;\n};\n\n/**\n * Returns the nth key from the list of preferences\n * @returns {string|null} The key of the preference at the requested index\n */\nWebStorageDecorator.prototype.key = function(n) {\n\n    return this._items[n] ? this._items[n].name : null;\n};\n\n/**\n * Gets an array of they keys stored\n * @deprecated (none standard)\n * @returns {Array}\n */\nWebStorageDecorator.prototype.keys = function() {\n\n    var self = this;\n\n    var keys = Object.keys(this._storage).filter(function(key) {\n        return key.indexOf(self._prefix) === 0;\n    });\n\n    if(keys.length === 0) {\n        return [];\n    }\n\n    return keys.map(function(key) {\n        return key.slice(self._prefix.length);\n    });\n};\n\nWebStorageDecorator.prototype._getItemDefinition = function(key) {\n\n    var pref = this._items.filter(function(item) {\n        return key === item.name;\n    })[0];\n\n    return pref || null;\n};\n\n/**\n * Helper method for internally propagating storage events\n * @private\n * @param {string} key The key whose value is changing as a result of this event.\n * @param {string} oldVal The key's old value.\n * @param {string} newVal The key's new value.\n */\nWebStorageDecorator.prototype._notify = function(key, oldVal, newVal) {\n    if(!this._eventsEnabled) {\n        return;\n    }\n\n    var self = this;\n    var eventTargets = Array.isArray(this.eventTarget) ? this.eventTarget : [this.eventTarget];\n\n    eventTargets.filter(function(target) {\n        return target !== undefined && target !== null;\n    }).forEach(function(eventTarget) {\n        if(typeof eventTarget.dispatchEvent !== 'function') {\n            var message =\n                'Cannot dispatch StorageEvent for preferences. ' +\n                'An event target was provided, but it does not implement the EventTarget interface. [%s, %s, %s]';\n            self.log.warn(message, key, oldVal, newVal);\n            return;\n        }\n\n        //please see notes in the StorageEvent jsdoc about using custom vs native event implementations\n        var storageEvent = new StorageEvent('storage');\n        storageEvent.initStorageEvent('storage', false, false, key, oldVal, newVal, self._prefix, self);\n\n        process.nextTick(function() {\n            if(self.log.level() <= bunyan.DEBUG) {\n                self.log.debug('Sending StorageEvent [%s] ', storageEvent);\n            }\n            eventTarget.dispatchEvent(storageEvent);\n        });\n    });\n};\n\n/**\n * Checks whether an item value can be updated. Throws an error if it's readonly.\n * @param {sring} key The item name\n * @throws {VError}\n * @private\n */\nWebStorageDecorator.prototype._ensureItemWritable = function(key) {\n    //scenarios where setting the preference should fail\n    var itemDefinition = this._getItemDefinition(key);\n    if(itemDefinition && itemDefinition.readonly) {\n        var errorMessage = util.format('Attempted to modify readonly preference [%s]', key);\n        this.log.warn(errorMessage);\n        throw new VError(errorMessage);\n    }\n};\n\nmodule.exports = WebStorageDecorator;\n\n}).call(this,require('_process'))\n},{\"../../core/widget-storage\":43,\"../../util/logger-factory\":83,\"../../util/util\":84,\"../../util/verror\":85,\"./storage-event\":76,\"_process\":2,\"browser-bunyan\":86}],78:[function(require,module,exports){\n(function (global){\n/**\n * Dedupes requests by storing responses in the cache.\n * Decorates Fetch API. Supposed to be used instead of fetch function where response caching is appropriate.\n * @module util/deduping-fetch\n */\n\n'use strict';\n\nvar loggerFactory   = require('./logger-factory');\nvar util            = require('./util');\nvar fetchFile       = require('./fetch-file');\n\nvar EXPIRE_TIMESPAN = 1000;\n\nvar fetchPromiseCache = {};\nvar log;\n\n/**\n * Adds an item to the cache.\n * @private\n * @param {string} key The cache key that is used to reference an item.\n * @param {Promise} item An item to insert into the cache.\n * @param {Number} [ttl] The interval in milliseconds between the time a cached object was added/last\n * accessed and the time at which that object expires. If not specified, an item will stay in the cache indefinitely.\n */\nfunction addToCache(key, item, ttl) {\n    var cacheItem = createCacheItem(item);\n    fetchPromiseCache[key] = cacheItem;\n\n    if (ttl > 0) {\n        cacheItem.timeoutId = removeOnExpire(key, ttl);\n    }\n}\n\n/**\n * Retrieves an item from the cache.\n * @private\n * @param {string} key The cache key that is used to reference an item.\n * @returns {Promise} An item if it's found, undefined otherwise.\n */\nfunction getFromCache(key) {\n    var cacheItem = fetchPromiseCache[key];\n    var value;\n\n    if (cacheItem) {\n        cacheItem.setLastAccessedTime();\n        value = cacheItem.value;\n    }\n\n    return value;\n}\n\n/**\n * Sets a handler that removes an item with sliding expiration policy\n * @private\n * @param {string} key The cache key that is used to reference an item.\n * @param {Number} ttl time-to-live an interval over which an item stays in the cache.\n * @param {Number} [expire] used by recursive calls\n */\nfunction removeOnExpire(key, ttl, expire) {\n    var timeout;\n\n    if (typeof expire === 'undefined') {\n        timeout = ttl;\n        log.debug('setting sliding expire handler to purge item [%s] in %sms', key, timeout);\n    } else {\n        timeout = expire;\n        log.debug('%sms elapsed since last access to item [%s]. Extending expiration time by %sms',\n            ttl - expire, key, timeout);\n    }\n\n    return setTimeout(function () {\n        var cacheItem = fetchPromiseCache[key];\n        if (!cacheItem) {\n            return;\n        }\n\n        var elapsedTime = (new Date()).getTime() - cacheItem.lastAccessed;\n        if (elapsedTime >= ttl) {\n            log.debug('purging expired item [%s]', key);\n            delete fetchPromiseCache[key];\n        } else {\n            cacheItem.timeoutId = removeOnExpire(key, ttl, ttl - elapsedTime);\n        }\n    }, timeout);\n}\n\n/**\n * Sets \"include\" value of \"credentials\" request setting if widgets are loaded from local file system\n * (mobile use scenario) and those widgets make cross-origin requests to a remote server. Sets \"same-origin\"\n * value otherwise.\n * @private\n * @param {Object} [options] fetch request options object\n * @returns {Object}\n */\nfunction setCredentials(options) {\n    var credentials = util.isRunningOnFilesystem() ? 'include' : 'same-origin';\n    var initOptions = options || {};\n\n    if (!initOptions.credentials) {\n        initOptions.credentials = credentials;\n    }\n\n    return initOptions;\n}\n\n/**\n * Removes all items from the cache\n * @private\n */\nfunction clearCache() {\n    // clear remove-on-expire handlers then remove cached item\n    Object.keys(fetchPromiseCache).forEach(function (cacheKey) {\n        var timeoutId = fetchPromiseCache[cacheKey].timeoutId;\n\n        if (typeof timeoutId !== 'undefined') {\n            clearTimeout(timeoutId);\n        }\n\n        delete fetchPromiseCache[cacheKey];\n    });\n}\n\n/**\n * Creates a cache item - an object that wraps a value to store in the cache.\n * @private\n * @param {*} value\n * @returns {Object}\n */\nfunction createCacheItem(value) {\n    var timestamp = (new Date()).getTime();\n    var cacheItem = Object.create(cacheItemProto);\n\n    cacheItem.value = value;\n    cacheItem.created = timestamp;\n    cacheItem.lastAccessed = timestamp;\n\n    return cacheItem;\n}\n\nvar cacheItemProto = {\n    setLastAccessedTime: function() {\n        this.lastAccessed = (new Date()).getTime();\n    }\n};\n\n/**\n * Create a request to a resource and caches a successful response. Delegates to the global fetch function.\n * @param {string|Request} url @see {@link https://developer.mozilla.org/en-US/docs/Web/API/GlobalFetch/fetch|input parameter}\n * @param {Object} [options] @see {@link https://developer.mozilla.org/en-US/docs/Web/API/GlobalFetch/fetch|init parameter}\n * @returns {Promise} A Promise that resolves to a Response object.\n */\nmodule.exports = function dedupingFetch(url, options) {\n    var resourceUrl = typeof url === 'string' ? url : url.url;\n    var key = resourceUrl;\n    var method = url.method || (options && options.method) || 'GET';\n    var putInCache = typeof method === 'string' && method.toUpperCase() === 'GET';\n\n    // init logger lazily until BACKLOG-12206 is done.\n    if (!log) {\n        log = loggerFactory.getLogger();\n    }\n\n    // clear cache if request other than GET (CXP Model API requires this behaviour)\n    if (!putInCache) {\n        clearCache();\n    }\n\n    var responsePromise = getFromCache(key);\n\n    // make a request if promise is not in cache OR we don't want it from cache\n    // (it's possible to have a promise in cache for GET request, but next request to the same URL might have\n    // different method)\n    if (!responsePromise || !putInCache) {\n        // if successfully resolved, re-insert it in the cache with expiration policy\n        // remove from the cache otherwise\n        log.debug('data from [%s] not found in cache. Requesting it from remote resource...', key);\n\n        // set credentials\n        options = setCredentials(options);\n\n        var fetchFunc = util.isUrlForFile(resourceUrl) ? fetchFile : global.fetch;\n        responsePromise = fetchFunc(url, options).then(function (response) {\n            var status = response.status;\n            log.debug('response from [%s] received. Status: [%s]', key, status);\n            \n            if (status < 200 || status > 299) {\n                var error = new Error(response.statusText);\n                error._response = response;\n                throw error;\n            }\n\n            return response;\n        }).then(function (response) {\n            var promise = getFromCache(key);\n\n            if (promise) {\n                log.debug('holding data from [%s] in cache for %sms', key, EXPIRE_TIMESPAN);\n                addToCache(key, promise, EXPIRE_TIMESPAN);\n            }\n\n            return response;\n        }).catch(function (err) {\n            log.debug('removing data for [%s] from cache as the following error occurred: [%s]', key, err.message);\n            delete fetchPromiseCache[key];\n\n            if (err._response) {\n                return err._response;\n            }\n\n            throw err;\n        });\n\n        // cache fetch request until it's settled\n        if (putInCache) {\n            addToCache(key, responsePromise);\n        }\n    } else {\n        log.debug('returning data for [%s] from cache', key);\n    }\n\n    // return cloned response\n    return responsePromise.then(function (response) {\n        return response.clone();\n    });\n};\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./fetch-file\":80,\"./logger-factory\":83,\"./util\":84}],79:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function () {\n    var PREFIX = '@@',\n        EventTarget = {};\n\n    function configure(obj, prop, value) {\n        Object.defineProperty(obj, prop, {\n            enumerable: false,\n            configurable: true,\n            value: value\n        });\n    }\n\n    function on(self, type, listener) {\n        var array;\n        if (EventTarget.hasOwnProperty.call(self, type)) {\n            array = self[type];\n        } else {\n            configure(self, type, array = []);\n        }\n        if (array.indexOf(listener) < 0) {\n            array.push(listener);\n        }\n    }\n\n    function dispatch(self, type, ev) {\n        var array, current, i;\n        if (EventTarget.hasOwnProperty.call(self, type)) {\n            ev.target = self;\n            array = self[type].slice(0);\n            for (i = 0; i < array.length; i++) {\n                current = array[i];\n                if (typeof current === 'function') {\n                    current.call(self, ev);\n                } else if (typeof current.handleEvent === 'function') {\n                    current.handleEvent(ev);\n                }\n            }\n        }\n    }\n\n    function off(self, type, listener) {\n        var array, i;\n        if (EventTarget.hasOwnProperty.call(self, type)) {\n            array = self[type];\n            i = array.indexOf(listener);\n            if (i > -1) {\n                array.splice(i, 1);\n                if (!array.length) {\n                    delete self[type];\n                }\n            }\n        }\n    }\n\n    configure(EventTarget, 'addEventListener', function addEventListener(type, listener) {\n        on(this, PREFIX + type, listener);\n    });\n\n    configure(EventTarget, 'dispatchEvent', function dispatchEvent(ev) {\n        dispatch(this, PREFIX + ev.type, ev);\n    });\n\n    configure(EventTarget, 'removeEventListener', function removeEventListener(type, listener) {\n        off(this, PREFIX + type, listener);\n    });\n\n    return EventTarget;\n}();\n},{}],80:[function(require,module,exports){\n(function (global){\n/**\n * Allows for use of fetch API to request resources from local file system\n * @module util.fetch-file\n */\n'use strict';\n\nmodule.exports = function fetchFile(url) {\n    return new Promise(function(resolve, reject) {\n        var resourceUrl = typeof url === 'string' ? url : url.url;\n        var xhr = new global.XMLHttpRequest();\n        xhr.onload = function() {\n            resolve(new global.Response(xhr.responseText, {\n                status: xhr.status === 0 ? 200 : xhr.status\n            }));\n        };\n        xhr.onerror = function() {\n            reject(new Error('Local request failed for ' + url));\n        };\n        xhr.open('GET', resourceUrl);\n        xhr.send(null);\n    });\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],81:[function(require,module,exports){\n/**\n * The sole purpose of the decorator is to overcome the limitations of formatNumber helper\n * (https://github.com/yahoo/handlebars-intl) that accepts\n * only number as a value despite the fact that Intl.NumberFormat function which the helper uses internally\n * accepts a value of any type.\n * Issue report https://github.com/yahoo/handlebars-intl/issues/84\n */\n\n'use strict';\n\nvar Handlebars = require('handlebars/dist/handlebars.min');\nvar HandlebarsIntl = require('handlebars-intl');\n\nmodule.exports = {\n    registerWith: registerWith\n};\n\nfunction registerWith(hbs) {\n    var mockInstance = Handlebars.create();\n    var helpers = {};\n\n    // substitute registerHelper function to collect helpers\n    mockInstance.registerHelper = function registerHelper(name, helper) {\n        if (typeof name === 'string') {\n            helpers[name] = helper;\n        } else {\n            // name is actually a hash of helpers\n            Object.keys(name).forEach(function (helperName) {\n                helpers[helperName] = name[helperName];\n            });\n        }\n    };\n\n    // collect helpers\n    HandlebarsIntl.registerWith(mockInstance);\n\n    // decorate formatNumber helper\n    if (helpers.formatNumber) {\n        var formatNumberOriginal = helpers.formatNumber;\n        helpers.formatNumber = function formatNumber(num) {\n            // convert 1st argument to number and call original function\n            var args = [].slice.call(arguments);\n            args[0] = Number(num); // this is exactly what Intl.NumberFormat does internally\n\n            return formatNumberOriginal.apply(this, args);\n        };\n    }\n\n    // register helpers\n    hbs.registerHelper(helpers);\n}\n\n},{\"handlebars-intl\":8,\"handlebars/dist/handlebars.min\":88}],82:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar RTL_LOCALES = ['ar', 'iw', 'he', 'dv', 'ha', 'fa', 'ps', 'ur', 'yi', 'ji'];\n\nmodule.exports = {\n    defaultLocale: 'en',\n    \n    intlSupported: typeof global.Intl !== 'undefined',\n\n    /**\n     * Returns direction for the given locale (rtl or ltr)\n     * @param {String} locale\n     * @returns {string}\n     */\n    getDirection: function (locale) {\n        return locale.length >= 2 && RTL_LOCALES.indexOf(locale.substr(0, 2)) >= 0 ? 'rtl' : 'ltr';\n    },\n\n    /**\n     * Returns best matching locale in available locales considering\n     * desired one.\n     * @param {String[]} availableLocales\n     * @param {String} desiredLocale\n     * @returns {String|undefined}\n     */\n    chooseBestLocale: function (availableLocales, desiredLocale) {\n        // 1. Let candidate be locale\n        var candidate = desiredLocale;\n\n        // 2. Repeat\n        while (candidate) {\n            // a. If availableLocales contains an element equal to candidate, then return\n            // candidate.\n            if (Array.prototype.indexOf.call(availableLocales, candidate) > -1) {\n                return candidate;\n            }\n\n            // b. Let pos be the character index of the last occurrence of \"-\"\n            // (U+002D) within candidate. If that character does not occur, return\n            // undefined.\n            var pos = candidate.lastIndexOf('-');\n\n            if (pos < 0) {\n                return;\n            }\n\n            // c. If pos ≥ 2 and the character \"-\" occurs at index pos-2 of candidate,\n            //    then decrease pos by 2.\n            if (pos >= 2 && candidate.charAt(pos - 2) === '-') {\n                pos -= 2;\n            }\n\n            // d. Let candidate be the substring of candidate from position 0, inclusive,\n            //    to position pos, exclusive.\n            candidate = candidate.substring(0, pos);\n        }\n    }\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],83:[function(require,module,exports){\n/**\n * Tne Logger Factory\n * @module util/logger-factory\n * @exports {loggerFactory} The static logger factory\n */\n\n\n'use strict';\n\nvar bunyan = require('browser-bunyan');\nvar util = require('../util/util');\n\nvar loggerMap = {};\nvar lastLogger = null;\n\nvar loggerFactory = {\n    defaultLoggerName: 'logger',\n    defaultLogLevel: 'info'\n};\n\n/**\n * Creates a logger.\n * @static\n * @method\n * @param {Object} opts\n * @param {Object} [opts.parentLog] Specifies a parent logger for a logger to be created as a child logger\n * @param {string} [opts.loggerName] A logger name. If not specified a logger will be given \"<i>logger</i>\" name.\n * @param {string} [opts.logLevel] The default log level. Defaults to 'info'.\n * @param {boolean} [opts.appendId] If true, a unique string will be appended to a logger name. Defaults to <i>false</i>\n * @returns {Object} A new logger object\n */\nloggerFactory.createLogger = function(opts) {\n\n    opts = opts || {};\n\n    var parentLog = opts.parentLog || null;\n    var loggerName = opts.loggerName || this.defaultLoggerName;\n    var logLevel = opts.logLevel || this.defaultLogLevel;\n    var appendId = opts.appendId || false;\n\n    if(appendId) {\n        loggerName += '/' + util.randomId();\n    }\n\n    var logger;\n    if(parentLog) {\n        logger = parentLog.child({ childName: loggerName});\n    } else {\n        logger = bunyan.createLogger({\n            name: loggerName,\n            streams: [\n                {\n                    level: logLevel,\n                    stream: new bunyan.ConsoleFormattedStream(),\n                    type: 'raw'\n                }\n            ],\n            src: bunyan.resolveLevel(logLevel) <= bunyan.DEBUG\n        });\n    }\n\n    loggerMap[loggerName] = logger;\n    lastLogger = logger;\n\n    return logger;\n};\n\n/**\n * Gets a logger, first tries to get a logger with the matching name. If no logger name is given or no matching\n * logger is found, get the last created logger. Falls back to creating a new logger.\n * @static\n * @method\n * @param {String} [loggerName]\n * @returns {*}\n */\nloggerFactory.getLogger = function(loggerName) {\n\n    if(loggerName && loggerMap[loggerName]) {\n        return loggerMap[loggerName];\n    } else if(lastLogger) {\n        return lastLogger;\n    } else {\n        return loggerFactory.createLogger();\n    }\n};\n\nmodule.exports = loggerFactory;\n},{\"../util/util\":84,\"browser-bunyan\":86}],84:[function(require,module,exports){\n(function (global){\n/**\n * Common utilities\n * @module util/util\n */\n\n'use strict';\n\nvar bunyan = require('browser-bunyan');\n\n//super stripped down lodash. Only what we need\nvar _ = {\n    cloneDeep: require('lodash/lang/cloneDeep'),\n    merge: require('lodash/object/merge'),\n    omit: require('lodash/object/omit'),\n    assign: require('lodash/object/assign')\n};\n\n//widget engine utils.\n//If available, delegate a util method in this modele to a lodash one. Only require the specific lodash module required\nvar util = {};\n\n/**\n * <p>Returns true if:\n * <ol>\n *  <li>the value is a boolean and true<br>\n *  <li>the value is a number and not 0<br>\n *  <li>the value is a string and equal to 'true' (after trimming and ignoring case)\n * </ol>\n * @memberOf util\n * @param {*} val The value to parse\n * @return {boolean} A boolean value depending on the parsing result\n */\n/* jshint ignore:start */\nutil.parseBoolean = function (val) {\n\n    //double equals (==) here is deliberate\n    return ((typeof val === 'boolean' || val instanceof Boolean) && val == true) ||\n        ((typeof val === 'string' || val instanceof String) && /^\\s*true\\s*$/i.test(val)) ||\n        ((typeof val === 'number' || val instanceof Number) && val != 0);\n};\n/* jshint ignore:end */\n\n/**\n * Determines if an http(s) url is absolute.\n * @param {string} url\n * @returns {boolean} true if the url is absolute\n */\nutil.isUrlAbsolute = function (url) {\n    var absoluteRegex = /^https?:\\/\\/|file?:\\/\\//i;\n    return absoluteRegex.test(url);\n};\n\n/**\n * Determines if a url is site relative (/path/to/page)\n * @param {string} url\n * @returns {boolean} true if the url is site relative\n */\nutil.isUrlSiteRelative = function (url) {\n    return url.indexOf('/') === 0;\n};\n\n/**\n * Determines if a url is document relative (path/to/page or ../path/to/page)\n * @param {string} url\n * @returns {boolean}\n */\nutil.isUrlDocumentRelative = function (url) {\n    return !(util.isUrlAbsolute(url) || util.isUrlSiteRelative(url));\n};\n\n/**\n * Determines if the widget engine is running on the filesystem\n * @return {boolean}\n */\nutil.isRunningOnFilesystem = function() {\n    return typeof global.location !== 'undefined' && global.location.protocol === 'file:';\n};\n\n\n/**\n * Determines if a url is for a resource on the filesystem\n * @param url\n * @return {boolean}\n */\nutil.isUrlForFile = function(url) {\n    var urlIsAbsoluteForFile = /^file:/.test(url);\n    var urlIsRelativeForFile = util.isRunningOnFilesystem() && util.isUrlDocumentRelative(url);\n    return urlIsAbsoluteForFile || urlIsRelativeForFile;\n};\n\n/**\n * Merges objects\n * @see {@link https://lodash.com/docs#merge}\n */\nutil.merge = _.merge;\n\n/**\n * Assigns object fields\n * @see {@link https://lodash.com/docs#assign}\n */\nutil.assign = _.assign;\n\n/**\n * Omit properties from an object\n * @see {@link https://lodash.com/docs#omit}\n */\nutil.omit = _.omit;\n\n/**\n * Checks if string starts with the given target string.\n * @param {string} string The string to search.\n * @param {string} target The string to search for.\n * @param {number} [position=0] The position to search from.\n * @returns {boolean}\n */\nutil.startsWith = function(string, target, position){\n    position = position || 0;\n    return string.substr(position, target.length) === target;\n};\n\n/**\n * Checks if string ends with the given target string.\n * @param {string} string The string to search.\n * @param {string} target The string to search for.\n * @param {number} [position=string.length] The position to search up to.\n * @returns {boolean}\n */\nutil.endsWith = function(string, target, position) {\n    if(String.prototype.endsWith){\n        return string.endsWith(target, position);\n     } else {\n        var subjectString = string.toString();\n        if (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\n            position = subjectString.length;\n        }\n        position -= target.length;\n        var lastIndex = subjectString.indexOf(target, position);\n        return lastIndex !== -1 && lastIndex === position;\n     }\n };\n\n/**\n * Creates a deep clone of value.\n * @see {@link https://lodash.com/docs#cloneDeep}\n */\nutil.cloneDeep = function () {\n    try {\n        return _.cloneDeep.apply(_, Array.prototype.slice.call(arguments));\n    } catch (e) {\n        console.warn(e);\n        throw e;\n    }\n};\n\n/**\n * Checks if value is classified as an Array object.\n * @see {@link https://lodash.com/docs#isArray}\n */\nutil.isArray = _.isArray;\n\n/**\n * Returns a formatted string using the first argument as a printf-like format.\n * @see {@link https://nodejs.org/api/util.html#util_util_format_format}\n */\nutil.format = function (f) {\n\n    //This code is adapted from node's util.format, with support for objects removed\n    //See https://github.com/joyent/node/blob/master/lib/util.js\n    //\n    //This code exists because at the time of writing, it is the only function from node util that we need and\n    //I'm trying to keep the browserified package size down. PM\n\n    if (f === null) {\n        return 'null';\n    }\n\n    if (typeof f !== 'string') {\n        return f.toString();\n    }\n\n    //ignored by jshint, because i wanted to modify this from the original code as little as possible\n    /* jshint ignore:start */\n\n    var formatRegExp = /%[sdj%]/g;\n\n    var i = 1;\n    var args = arguments;\n    var len = args.length;\n    var str = String(f).replace(formatRegExp, function (x) {\n        if (x === '%%') return '%';\n        if (i >= len) return x;\n        switch (x) {\n            case '%s':\n                return String(args[i++]);\n            case '%d':\n                return Number(args[i++]);\n            case '%j':\n                try {\n                    return JSON.stringify(args[i++]);\n                } catch (_) {\n                    return '[Circular]';\n                }\n            default:\n                return x;\n        }\n    });\n    for (var x = args[i]; i < len; x = args[++i]) {\n        str += ' ' + x;\n    }\n    return str;\n\n    /* jshint ignore:end */\n};\n\n/**\n * Given a locale, returns its descendant parts. E.g\n *\n * @param {string} locale\n * @returns {Array}\n */\nutil.getDescendantLocales = function (locale) {\n\n    //normalize to lowercase\n    locale = locale.toLowerCase();\n\n    var descendantLocales = [];\n    var parts = locale.split('-');\n    var part;\n    while (part = parts.shift()) { // jshint ignore:line\n        var previousDescendant = descendantLocales[descendantLocales.length - 1];\n        descendantLocales.push((previousDescendant ? previousDescendant + '-' : '') + part);\n    }\n\n    return descendantLocales;\n};\n\n/**\n * Generates a random id\n * @returns {string} The generated id\n */\nutil.randomId = function () {\n    return Math.random().toString(36).substring(7);\n};\n\n/**\n * Replaces placeholders in a string using the configVar map.\n * @param   {String} path The path to replace using the config vars\n * @param   {Object} varMap Dictionary object which contains portal data\n * @param   {Object} log Logger instance\n * @returns {String} The updatedp path\n */\nutil.replacePathVars = function (path, varMap, log) {\n    for (var urlVar in varMap) {\n        if (varMap.hasOwnProperty(urlVar)) {\n            var varRegexp = new RegExp('\\\\$\\\\(' + urlVar + '\\\\)', 'g');\n\n            if (log && log.level() <= bunyan.DEBUG && varRegexp.test(path)) {\n                log.debug('Updating resource url. Replacing %s for %s in [%s]', varRegexp, varMap[urlVar], path);\n            }\n\n            path = path.replace(varRegexp, varMap[urlVar]);\n        }\n    }\n\n    return path;\n};\n\n/**\n * Given a Response object, returns the JSON or HTML body. Throws an error if the content type was unknown, or\n * undefined and the content type could not be guessed\n * @param response\n * @return {*|Promise|Promise.<TResult>}\n */\nutil.getContentBodyAndTypeFromResponse = function (response) {\n\n    return response.text().then(function(text) {\n        text = text.trim();\n        var contentType = response.headers.get('content-type');\n        var type = null, err = null;\n        \n        if(contentType && contentType.indexOf('/json') !== -1) {\n            //json\n            type = 'json';\n        } else if(contentType && contentType.indexOf('text/html') !== -1) {\n            //html\n            type = 'html';\n        } else if(typeof contentType === 'string' && contentType.length > 0) {\n            //unknown\n            err = new Error('Content type not supported for rendering: ' + contentType);\n        } else if (text && util.startsWith(text, '{')) {\n            //guess json\n            type = 'json';\n        } else if (text && util.startsWith(text, '<')) {\n            //guess html\n            type = 'html';\n        } else {\n            //couldn't guess\n            err = new Error('Undefined content type for response.');\n        }\n        \n        if(err) { \n            throw err;\n        }\n        \n        return {\n            type: type,\n            body: type === 'json' ? JSON.parse(text) : text\n        };\n    });\n};\n\n/**\n * Determines whether an element passed as the second argument belongs to an item (widget, container).\n * It takes the closest ancestor element that represents an item body (an element with data-widget attribute)\n * and compares a value of the attribute with the value passed as the first argument.\n * @param {string} itemName The name of an item\n * @param {Element} descendantEl An element within item's body\n * @returns {boolean} true if an element belongs to the item and false if it belongs to item's child/descendant item\n */\nutil.ensureElementBelongsToItem = function (itemName, descendantEl) {\n    if (!itemName || !descendantEl) {\n        return false;\n    }\n\n    var parentEl = descendantEl;\n    var itemNameFromParentEl;\n\n    while (parentEl) {\n       itemNameFromParentEl = parentEl.getAttribute ? parentEl.getAttribute('data-widget') : null;\n\n        if (itemNameFromParentEl) {\n            // return false if element belongs to another item\n            return itemNameFromParentEl === itemName;\n        }\n\n        parentEl = parentEl.parentNode;\n    }\n\n    return false;\n};\n\nmodule.exports = util;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"browser-bunyan\":86,\"lodash/lang/cloneDeep\":130,\"lodash/object/assign\":139,\"lodash/object/merge\":142,\"lodash/object/omit\":143}],85:[function(require,module,exports){\n// This code is a modification of the VError (https://github.com/davepacheco/node-verror)\n// It contains the following simplifications to be optimized for the browser\n// * no printf style arguments, instead multiple arguments after the wrapped error are joined into one string\n\n/* jshint ignore:start */\n/*\n * VError([cause], fmt[, arg...]): Like JavaScript's built-in Error class, but\n * supports a \"cause\" argument (another error) and a printf-style message.  The\n * cause argument can be null or omitted entirely.\n *\n * Examples:\n *\n * CODE                                    MESSAGE\n * new VError('something bad happened')    \"something bad happened\"\n * new VError('missing file: \"%s\"', file)  \"missing file: \"/etc/passwd\"\n *   with file = '/etc/passwd'\n * new VError(err, 'open failed')          \"open failed: file not found\"\n *   with err.message = 'file not found'\n */\nfunction VError(options)\n{\n    var args, obj, causedBy, ctor, tailmsg;\n\n    /*\n     * This is a regrettable pattern, but JavaScript's built-in Error class\n     * is defined to work this way, so we allow the constructor to be called\n     * without \"new\".\n     */\n    if (!(this instanceof VError)) {\n        args = Array.prototype.slice.call(arguments, 0);\n        obj = Object.create(VError.prototype);\n        VError.apply(obj, arguments);\n        return (obj);\n    }\n\n    if (options instanceof Error || typeof (options) === 'object') {\n        args = Array.prototype.slice.call(arguments, 1);\n    } else {\n        args = Array.prototype.slice.call(arguments, 0);\n        options = undefined;\n    }\n\n    /*\n     * extsprintf (which we invoke here with our caller's arguments in order\n     * to construct this Error's message) is strict in its interpretation of\n     * values to be processed by the \"%s\" specifier.  The value passed to\n     * extsprintf must actually be a string or something convertible to a\n     * String using .toString().  Passing other values (notably \"null\" and\n     * \"undefined\") is considered a programmer error.  The assumption is\n     * that if you actually want to print the string \"null\" or \"undefined\",\n     * then that's easy to do that when you're calling extsprintf; on the\n     * other hand, if you did NOT want that (i.e., there's actually a bug\n     * where the program assumes some variable is non-null and tries to\n     * print it, which might happen when constructing a packet or file in\n     * some specific format), then it's better to stop immediately than\n     * produce bogus output.\n     *\n     * However, sometimes the bug is only in the code calling VError, and a\n     * programmer might prefer to have the error message contain \"null\" or\n     * \"undefined\" rather than have the bug in the error path crash the\n     * program (making the first bug harder to identify).  For that reason,\n     * by default VError converts \"null\" or \"undefined\" arguments to their\n     * string representations and passes those to extsprintf.  Programmers\n     * desiring the strict behavior can use the SError class or pass the\n     * \"strict\" option to the VError constructor.\n     */\n    if (!options || !options.strict) {\n        args = args.map(function (a) {\n            return (a === null ? 'null' :\n                    a === undefined ? 'undefined' : a);\n        });\n    }\n\n    tailmsg = args.length > 0 ?\n        args.join('; ') : '';\n    this.jse_shortmsg = tailmsg;\n    this.jse_summary = tailmsg;\n\n    if (options) {\n        causedBy = options.cause;\n\n        if (!causedBy || !(options.cause instanceof Error))\n            causedBy = options;\n\n        if (causedBy && (causedBy instanceof Error)) {\n            this.jse_cause = causedBy;\n            this.jse_summary += ': ' + causedBy.message;\n        }\n    }\n\n    this.message = this.jse_summary;\n    Error.call(this, this.jse_summary);\n\n    if (Error.captureStackTrace) {\n        ctor = options ? options.constructorOpt : undefined;\n        ctor = ctor || arguments.callee;\n        Error.captureStackTrace(this, ctor);\n    }\n\n    return (this);\n}\n\nVError.prototype = Error.prototype;\nVError.prototype.name = 'Widget Error';\n\nVError.prototype.toString = function ve_toString()\n{\n    var str = (this.hasOwnProperty('name') && this.name ||\n        this.constructor.name || this.constructor.prototype.name);\n    if (this.message)\n        str += ': ' + this.message;\n\n    return (str);\n};\n\nVError.prototype.cause = function ve_cause()\n{\n    return (this.jse_cause);\n};\n\n/**\n * Checks whether an error or one of its possible causes has a code provided.\n * @method\n * @param {Array|String} code(s) to look for.\n * @returns {Boolean} True if one of codes provided has been found, false otherwise.\n */\nVError.prototype.hasCode = function ve_hasCode(code) {\n    if (!code) return false;\n\n    var codes = Object.prototype.toString.call(code) !== '[object Array]'\n        ? [code] : code;\n\n    if (codes.length === 0) return false;\n\n    var error = this;\n    var found = false;\n\n    while(error) {\n        if (error.code && codes.indexOf(error.code) > -1) {\n             found = true;\n            break;\n        }\n\n        error = error.cause();\n    }\n\n    return found;\n};\n\nmodule.exports = VError;\n\n/* jshint ignore:end */\n\n\n},{}],86:[function(require,module,exports){\n/**\n * !This is a stripped down version of Bunyan targeted specifically for the browser\n *\n * -------------------------------------------------------------------------------\n *\n * Copyright (c) 2014 Trent Mick. All rights reserved.\n * Copyright (c) 2014 Joyent Inc. All rights reserved.\n *\n * The bunyan logging library for node.js.\n *\n * -*- mode: js -*-\n * vim: expandtab:ts=4:sw=4\n */\n    \n'use strict';\n\nvar VERSION = '0.2.3';\n\n// Bunyan log format version. This becomes the 'v' field on all log records.\n// `0` is until I release a version '1.0.0' of node-bunyan. Thereafter,\n// starting with `1`, this will be incremented if there is any backward\n// incompatible change to the log record format. Details will be in\n// 'CHANGES.md' (the change log).\nvar LOG_VERSION = 0;\n\n//---- Internal support stuff\n\nvar CALL_STACK_ERROR = 'call-stack-error';\n\n/**\n * A shallow copy of an object. Bunyan logging attempts to never cause\n * exceptions, so this function attempts to handle non-objects gracefully.\n */\nfunction objCopy(obj) {\n    if (typeof obj === 'undefined' || obj === null) {  // null or undefined\n        return obj;\n    } else if (Array.isArray(obj)) {\n        return obj.slice();\n    } else if (typeof (obj) === 'object') {\n        var copy = {};\n        Object.keys(obj).forEach(function (k) {\n            copy[k] = obj[k];\n        });\n        return copy;\n    } else {\n        return obj;\n    }\n}\n\nvar format = function(f) {\n\n    if(f === null) {\n        return 'null';\n    }\n\n    if(typeof f !== 'string') {\n        return f.toString();\n    }\n    var formatRegExp = /%[sdj%]/g;\n\n    var i = 1;\n    var args = arguments;\n    var len = args.length;\n    var str = String(f).replace(formatRegExp, function(x) {\n        if (x === '%%') {\n            return '%';\n        }\n        if (i >= len) {\n            return x;\n        }\n        switch (x) {\n            case '%s': return String(args[i++]);\n            case '%d': return Number(args[i++]);\n            case '%j':\n                try {\n                    return JSON.stringify(args[i++]);\n                } catch (_) {\n                    return '[Circular]';\n                }\n                break;\n            default:\n                return x;\n        }\n    });\n    for (var x = args[i]; i < len; x = args[++i]) {\n        str += ' ' + x;\n    }\n    return str;\n};\n\nfunction extractSrcFromStacktrace(stack, level) {\n\n    var stackLines = stack.split('\\n');\n\n    //chrome starts with error\n    if(stackLines[0] && stackLines[0].indexOf(CALL_STACK_ERROR) >= 0) {\n        stackLines.shift();\n    }\n\n    //the line of the stacktrace\n    var targetLine = stackLines[level];\n    var lineInfo = null;\n    if(targetLine) {\n        var execResult = /^\\s*(at|.*@)\\s*(.+)?$/.exec(targetLine);\n        if(Array.isArray(execResult) && execResult[2]) {\n            lineInfo = execResult[2];\n        } else {\n            lineInfo = targetLine;    \n        }\n    }\n    return lineInfo;\n}\n\nfunction _indent(s, indent) {\n    if (!indent) {\n        indent = '    ';\n    }\n    var lines = s.split(/\\r?\\n/g);\n    return indent + lines.join('\\n' + indent);\n}\n\n\n/**\n * Warn about an bunyan processing error.\n *\n * @param msg {String} Message with which to warn.\n * @param dedupKey {String} Optional. A short string key for this warning to\n *      have its warning only printed once.\n */\nfunction _warn(msg, dedupKey) {\n    if (dedupKey) {\n        if (_warned[dedupKey]) {\n            return;\n        }\n        _warned[dedupKey] = true;\n    }\n    console.error(msg + '\\n');\n}\nfunction _haveWarned(dedupKey) {\n    return _warned[dedupKey];\n}\nvar _warned = {};\n\n\nfunction ConsoleRawStream() {\n}\nConsoleRawStream.prototype.write = function (rec) {\n    if (rec.level < INFO) {\n        console.log(rec);\n    } else if (rec.level < WARN) {\n        console.info(rec);\n    } else if (rec.level < ERROR) {\n        console.warn(rec);\n    } else {\n        console.error(rec);\n    }\n\n    if(rec.err && rec.err.stack) {\n        console.error(rec.err.stack);\n    }\n};\n\nfunction ConsoleFormattedStream() {}\nConsoleFormattedStream.prototype.write = function (rec) {\n\n    var levelCss,\n        defaultCss = 'color: DimGray',\n        msgCss = 'color: SteelBlue',\n        srcCss = 'color: DimGray; font-style: italic; font-size: 0.9em';\n\n    if (rec.level < DEBUG) {\n        levelCss = 'color: DeepPink';\n    } else if (rec.level < INFO) {\n        levelCss = 'color: GoldenRod';\n    } else if (rec.level < WARN) {\n        levelCss = 'color: DarkTurquoise';\n    } else if (rec.level < ERROR) {\n        levelCss = 'color: Purple';\n    } else if (rec.level < FATAL) {\n        levelCss = 'color: Crimson';\n    } else {\n        levelCss = 'color: Black';\n    }\n\n    var loggerName = rec.childName ? rec.name + '/' + rec.childName : rec.name;\n\n    //get level name and pad start with spacs\n    var levelName = nameFromLevel[rec.level].toUpperCase();\n    levelName = Array(6 - levelName.length).join(' ') + levelName;\n\n    function padZeros(number, len) {\n        return Array((len + 1) - (number + '').length).join('0') + number;\n    }\n\n    console.log('[%s:%s:%s:%s] %c%s%c: %s: %c%s %c%s',\n        padZeros(rec.time.getHours(), 2), padZeros(rec.time.getMinutes(), 2),\n        padZeros(rec.time.getSeconds(), 2), padZeros(rec.time.getMilliseconds(), 4),\n        levelCss, levelName,\n        defaultCss, loggerName,\n        msgCss, rec.msg,\n        srcCss, rec.src || '');\n    if(rec.err && rec.err.stack) {\n        console.log('%c%s,', levelCss, rec.err.stack);\n    }\n};\n\n//---- Levels\n\nvar TRACE = 10;\nvar DEBUG = 20;\nvar INFO = 30;\nvar WARN = 40;\nvar ERROR = 50;\nvar FATAL = 60;\n\nvar levelFromName = {\n    'trace': TRACE,\n    'debug': DEBUG,\n    'info': INFO,\n    'warn': WARN,\n    'error': ERROR,\n    'fatal': FATAL\n};\nvar nameFromLevel = {};\nObject.keys(levelFromName).forEach(function (name) {\n    nameFromLevel[levelFromName[name]] = name;\n});\n\n/**\n * Resolve a level number, name (upper or lowercase) to a level number value.\n *\n * @api public\n */\nfunction resolveLevel(nameOrNum) {\n    var level = (typeof (nameOrNum) === 'string' ? levelFromName[nameOrNum.toLowerCase()] : nameOrNum);\n    return level;\n}\n\n//---- Logger class\n\n/**\n * Create a Logger instance.\n *\n * @param options {Object} See documentation for full details. At minimum\n *    this must include a 'name' string key. Configuration keys:\n *      - `streams`: specify the logger output streams. This is an array of\n *        objects with these fields:\n *          - `type`: The stream type. See README.md for full details.\n *            Often this is implied by the other fields. Examples are\n *            'file', 'stream' and \"raw\".\n *          - `level`: Defaults to 'info'.\n *          - `path` or `stream`: The specify the file path or writeable\n *            stream to which log records are written. E.g.\n *            `stream: process.stdout`.\n *          - `closeOnExit` (boolean): Optional. Default is true for a\n *            'file' stream when `path` is given, false otherwise.\n *        See README.md for full details.\n *      - `level`: set the level for a single output stream (cannot be used\n *        with `streams`)\n *      - `stream`: the output stream for a logger with just one, e.g.\n *        `process.stdout` (cannot be used with `streams`)\n *      - `serializers`: object mapping log record field names to\n *        serializing functions. See README.md for details.\n *      - `src`: Boolean (default false). Set true to enable 'src' automatic\n *        field with log call source info.\n *    All other keys are log record fields.\n *\n * An alternative *internal* call signature is used for creating a child:\n *    new Logger(<parent logger>, <child options>[, <child opts are simple>]);\n *\n * @param _childSimple (Boolean) An assertion that the given `_childOptions`\n *    (a) only add fields (no config) and (b) no serialization handling is\n *    required for them. IOW, this is a fast path for frequent child\n *    creation.\n */\nfunction Logger(options, _childOptions, _childSimple) {\n    if (!(this instanceof Logger)) {\n        return new Logger(options, _childOptions);\n    }\n\n    // Input arg validation.\n    var parent;\n    if (_childOptions !== undefined) {\n        parent = options;\n        options = _childOptions;\n        if (!(parent instanceof Logger)) {\n            throw new TypeError(\n                'invalid Logger creation: do not pass a second arg');\n        }\n    }\n    if (!options) {\n        throw new TypeError('options (object) is required');\n    }\n    if (!parent) {\n        if (!options.name) {\n            throw new TypeError('options.name (string) is required');\n        }\n    } else {\n        if (options.name) {\n            throw new TypeError(\n                'invalid options.name: child cannot set logger name');\n        }\n    }\n    if (options.stream && options.streams) {\n        throw new TypeError('cannot mix \"streams\" and \"stream\" options');\n    }\n    if (options.streams && !Array.isArray(options.streams)) {\n        throw new TypeError('invalid options.streams: must be an array');\n    }\n    if (options.serializers && (typeof (options.serializers) !== 'object' || Array.isArray(options.serializers))) {\n        throw new TypeError('invalid options.serializers: must be an object');\n    }\n\n    var fields, name, i;\n\n    // Fast path for simple child creation.\n    if (parent && _childSimple) {\n        // `_isSimpleChild` is a signal to stream close handling that this child\n        // owns none of its streams.\n        this._isSimpleChild = true;\n\n        this._level = parent._level;\n        this.streams = parent.streams;\n        this.serializers = parent.serializers;\n        this.src = parent.src;\n        fields = this.fields = {};\n        var parentFieldNames = Object.keys(parent.fields);\n        for (i = 0; i < parentFieldNames.length; i++) {\n            name = parentFieldNames[i];\n            fields[name] = parent.fields[name];\n        }\n        var names = Object.keys(options);\n        for (i = 0; i < names.length; i++) {\n            name = names[i];\n            fields[name] = options[name];\n        }\n        return;\n    }\n\n    // Null values.\n    var self = this;\n    if (parent) {\n        this._level = parent._level;\n        this.streams = [];\n        for (i = 0; i < parent.streams.length; i++) {\n            var s = objCopy(parent.streams[i]);\n            s.closeOnExit = false; // Don't own parent stream.\n            this.streams.push(s);\n        }\n        this.serializers = objCopy(parent.serializers);\n        this.src = parent.src;\n        this.fields = objCopy(parent.fields);\n        if (options.level) {\n            this.level(options.level);\n        }\n    } else {\n        this._level = Number.POSITIVE_INFINITY;\n        this.streams = [];\n        this.serializers = null;\n        this.src = false;\n        this.fields = {};\n    }\n\n    // Handle *config* options (i.e. options that are not just plain data\n    // for log records).\n    if (options.stream) {\n        self.addStream({\n            type: 'stream',\n            stream: options.stream,\n            closeOnExit: false,\n            level: options.level\n        });\n    } else if (options.streams) {\n        options.streams.forEach(function (s) {\n            self.addStream(s, options.level);\n        });\n    } else if (parent && options.level) {\n        this.level(options.level);\n    } else if (!parent) {\n\n        /*\n         * In the browser we'll be emitting to console.log by default.\n         * Any console.log worth its salt these days can nicely render\n         * and introspect objects (e.g. the Firefox and Chrome console)\n         * so let's emit the raw log record. Are there browsers for which\n         * that breaks things?\n         */\n        self.addStream({\n            type: 'raw',\n            stream: new ConsoleRawStream(),\n            closeOnExit: false,\n            level: options.level\n        });\n\n    }\n    if (options.serializers) {\n        self.addSerializers(options.serializers);\n    }\n    if (options.src) {\n        this.src = true;\n    }\n\n    // Fields.\n    // These are the default fields for log records (minus the attributes\n    // removed in this constructor). To allow storing raw log records\n    // (unrendered), `this.fields` must never be mutated. Create a copy for\n    // any changes.\n    fields = objCopy(options);\n    delete fields.stream;\n    delete fields.level;\n    delete fields.streams;\n    delete fields.serializers;\n    delete fields.src;\n    if (this.serializers) {\n        this._applySerializers(fields);\n    }\n    Object.keys(fields).forEach(function (k) {\n        self.fields[k] = fields[k];\n    });\n}\n\n/**\n * Add a stream\n *\n * @param stream {Object}. Object with these fields:\n *    - `type`: The stream type. See README.md for full details.\n *      Often this is implied by the other fields. Examples are\n *      'file', 'stream' and \"raw\".\n *    - `path` or `stream`: The specify the file path or writeable\n *      stream to which log records are written. E.g.\n *      `stream: process.stdout`.\n *    - `level`: Optional. Falls back to `defaultLevel`.\n *    - `closeOnExit` (boolean): Optional. Default is true for a\n *      'file' stream when `path` is given, false otherwise.\n *    See README.md for full details.\n * @param defaultLevel {Number|String} Optional. A level to use if\n *      `stream.level` is not set. If neither is given, this defaults to INFO.\n */\nLogger.prototype.addStream = function addStream(s, defaultLevel) {\n    var self = this;\n    if (defaultLevel === null || defaultLevel === undefined) {\n        defaultLevel = INFO;\n    }\n\n    s = objCopy(s);\n\n    // Implicit 'type' from other args.\n    if (!s.type && s.stream) {\n        s.type = 'raw';\n    }\n    s.raw = (s.type === 'raw');  // PERF: Allow for faster check in `_emit`.\n\n    if (s.level) {\n        s.level = resolveLevel(s.level);\n    } else {\n        s.level = resolveLevel(defaultLevel);\n    }\n    if (s.level < self._level) {\n        self._level = s.level;\n    }\n\n    switch (s.type) {\n        case 'stream':\n            if (!s.closeOnExit) {\n                s.closeOnExit = false;\n            }\n            break;\n        case 'raw':\n            if (!s.closeOnExit) {\n                s.closeOnExit = false;\n            }\n            break;\n        default:\n            throw new TypeError('unknown stream type \"' + s.type + '\"');\n    }\n\n    self.streams.push(s);\n    delete self.haveNonRawStreams;  // reset\n};\n\n\n/**\n * Add serializers\n *\n * @param serializers {Object} Optional. Object mapping log record field names\n *    to serializing functions. See README.md for details.\n */\nLogger.prototype.addSerializers = function addSerializers(serializers) {\n    var self = this;\n\n    if (!self.serializers) {\n        self.serializers = {};\n    }\n    Object.keys(serializers).forEach(function (field) {\n        var serializer = serializers[field];\n        if (typeof (serializer) !== 'function') {\n            throw new TypeError(format(\n                'invalid serializer for \"%s\" field: must be a function',\n                field));\n        } else {\n            self.serializers[field] = serializer;\n        }\n    });\n};\n\n\n/**\n * Create a child logger, typically to add a few log record fields.\n *\n * This can be useful when passing a logger to a sub-component, e.g. a\n * 'wuzzle' component of your service:\n *\n *    var wuzzleLog = log.child({component: 'wuzzle'})\n *    var wuzzle = new Wuzzle({..., log: wuzzleLog})\n *\n * Then log records from the wuzzle code will have the same structure as\n * the app log, *plus the component='wuzzle' field*.\n *\n * @param options {Object} Optional. Set of options to apply to the child.\n *    All of the same options for a new Logger apply here. Notes:\n *      - The parent's streams are inherited and cannot be removed in this\n *        call. Any given `streams` are *added* to the set inherited from\n *        the parent.\n *      - The parent's serializers are inherited, though can effectively be\n *        overwritten by using duplicate keys.\n *      - Can use `level` to set the level of the streams inherited from\n *        the parent. The level for the parent is NOT affected.\n * @param simple {Boolean} Optional. Set to true to assert that `options`\n *    (a) only add fields (no config) and (b) no serialization handling is\n *    required for them. IOW, this is a fast path for frequent child\n *    creation. See 'tools/timechild.js' for numbers.\n */\nLogger.prototype.child = function (options, simple) {\n    return new (this.constructor)(this, options || {}, simple);\n};\n\n/**\n * Get/set the level of all streams on this logger.\n *\n * Get Usage:\n *    // Returns the current log level (lowest level of all its streams).\n *    log.level() -> INFO\n *\n * Set Usage:\n *    log.level(INFO)       // set all streams to level INFO\n *    log.level('info')     // can use 'info' et al aliases\n */\nLogger.prototype.level = function level(value) {\n    if (value === undefined) {\n        return this._level;\n    }\n    var newLevel = resolveLevel(value);\n    var len = this.streams.length;\n    for (var i = 0; i < len; i++) {\n        this.streams[i].level = newLevel;\n    }\n    this._level = newLevel;\n};\n\n\n/**\n * Get/set the level of a particular stream on this logger.\n *\n * Get Usage:\n *    // Returns an array of the levels of each stream.\n *    log.levels() -> [TRACE, INFO]\n *\n *    // Returns a level of the identified stream.\n *    log.levels(0) -> TRACE      // level of stream at index 0\n *    log.levels('foo')           // level of stream with name 'foo'\n *\n * Set Usage:\n *    log.levels(0, INFO)         // set level of stream 0 to INFO\n *    log.levels(0, 'info')       // can use 'info' et al aliases\n *    log.levels('foo', WARN)     // set stream named 'foo' to WARN\n *\n * Stream names: When streams are defined, they can optionally be given\n * a name. For example,\n *       log = new Logger({\n *         streams: [\n *           {\n *             name: 'foo',\n *             path: '/var/log/my-service/foo.log'\n *             level: 'trace'\n *           },\n *         ...\n *\n * @param name {String|Number} The stream index or name.\n * @param value {Number|String} The level value (INFO) or alias ('info').\n *    If not given, this is a 'get' operation.\n * @throws {Error} If there is no stream with the given name.\n */\nLogger.prototype.levels = function levels(name, value) {\n    if (name === undefined) {\n        return this.streams.map(\n            function (s) {\n                return s.level;\n            });\n    }\n    var stream;\n    if (typeof (name) === 'number') {\n        stream = this.streams[name];\n        if (stream === undefined) {\n            throw new Error('invalid stream index: ' + name);\n        }\n    } else {\n        var len = this.streams.length;\n        for (var i = 0; i < len; i++) {\n            var s = this.streams[i];\n            if (s.name === name) {\n                stream = s;\n                break;\n            }\n        }\n        if (!stream) {\n            throw new Error(format('no stream with name \"%s\"', name));\n        }\n    }\n    if (value === undefined) {\n        return stream.level;\n    } else {\n        var newLevel = resolveLevel(value);\n        stream.level = newLevel;\n        if (newLevel < this._level) {\n            this._level = newLevel;\n        }\n    }\n};\n\n\n/**\n * Apply registered serializers to the appropriate keys in the given fields.\n *\n * Pre-condition: This is only called if there is at least one serializer.\n *\n * @param fields (Object) The log record fields.\n * @param excludeFields (Object) Optional mapping of keys to `true` for\n *    keys to NOT apply a serializer.\n */\nLogger.prototype._applySerializers = function (fields, excludeFields) {\n    var self = this;\n\n    // Check each serializer against these (presuming number of serializers\n    // is typically less than number of fields).\n    Object.keys(this.serializers).forEach(function (name) {\n        if (fields[name] === undefined ||\n            (excludeFields && excludeFields[name])) {\n            return;\n        }\n        try {\n            fields[name] = self.serializers[name](fields[name]);\n        } catch (err) {\n            _warn(format('bunyan: ERROR: Exception thrown from the \"%s\" ' +\n                    'Bunyan serializer. This should never happen. This is a bug' +\n                    'in that serializer function.\\n%s',\n                name, err.stack || err));\n            fields[name] = format('(Error in Bunyan log \"%s\" serializer broke field. See stderr for details.)', name);\n        }\n    });\n};\n\n\n/**\n * Emit a log record.\n *\n * @param rec {log record}\n * @param noemit {Boolean} Optional. Set to true to skip emission\n *      and just return the JSON string.\n */\nLogger.prototype._emit = function (rec, noemit) {\n    var i;\n\n    // Lazily determine if this Logger has non-'raw' streams. If there are\n    // any, then we need to stringify the log record.\n    if (this.haveNonRawStreams === undefined) {\n        this.haveNonRawStreams = false;\n        for (i = 0; i < this.streams.length; i++) {\n            if (!this.streams[i].raw) {\n                this.haveNonRawStreams = true;\n                break;\n            }\n        }\n    }\n\n    // Stringify the object. Attempt to warn/recover on error.\n    var str;\n    if (noemit || this.haveNonRawStreams) {\n        try {\n            str = JSON.stringify(rec, safeCycles()) + '\\n';\n        } catch (e) {\n            var dedupKey = e.stack.split(/\\n/g, 2).join('\\n');\n            _warn('bunyan: ERROR: Exception in ' +\n                    '`JSON.stringify(rec)`. You can install the ' +\n                    '\"safe-json-stringify\" module to have Bunyan fallback ' +\n                    'to safer stringification. Record:\\n' +\n                    _indent(format('%s\\n%s', rec, e.stack)),\n                dedupKey);\n            str = format('(Exception in JSON.stringify(rec): %j. See stderr for details.)\\n', e.message);\n\n        }\n    }\n\n    if (noemit) {\n        return str;\n    }\n\n\n    var level = rec.level;\n    for (i = 0; i < this.streams.length; i++) {\n        var s = this.streams[i];\n        if (s.level <= level) {\n            s.stream.write(s.raw ? rec : str);\n        }\n    }\n\n    return str;\n};\n\n\n/**\n * Build a log emitter function for level minLevel. I.e. this is the\n * creator of `log.info`, `log.error`, etc.\n */\nfunction mkLogEmitter(minLevel) {\n    return function () {\n        var log = this;\n\n        function mkRecord(args) {\n            var excludeFields;\n            if (args[0] instanceof Error) {\n                // `log.<level>(err, ...)`\n                fields = {\n                    // Use this Logger's err serializer, if defined.\n                    err: (log.serializers && log.serializers.err ? log.serializers.err(args[0]) : Logger.stdSerializers.err(args[0]))\n                };\n                excludeFields = {err: true};\n                if (args.length === 1) {\n                    msgArgs = [fields.err.message];\n                } else {\n                    msgArgs = Array.prototype.slice.call(args, 1);\n                }\n            } else if (typeof (args[0]) !== 'object' && args[0] !== null ||\n                Array.isArray(args[0])) {\n                // `log.<level>(msg, ...)`\n                fields = null;\n                msgArgs = Array.prototype.slice.call(args);\n            } else {  // `log.<level>(fields, msg, ...)`\n                fields = args[0];\n                msgArgs = Array.prototype.slice.call(args, 1);\n            }\n\n            // Build up the record object.\n            var rec = objCopy(log.fields);\n            rec.level = minLevel;\n            var recFields = (fields ? objCopy(fields) : null);\n            if (recFields) {\n                if (log.serializers) {\n                    log._applySerializers(recFields, excludeFields);\n                }\n                Object.keys(recFields).forEach(function (k) {\n                    rec[k] = recFields[k];\n                });\n            }\n            rec.levelName = nameFromLevel[minLevel];\n            rec.msg = format.apply(log, msgArgs);\n            if (!rec.time) {\n                rec.time = (new Date());\n            }\n            // Get call source info\n            if (log.src && !rec.src) {\n                try {\n                    //need to throw the error so there is a stack in IE\t\t \t\n                    throw new Error(CALL_STACK_ERROR);\n                } catch(err) {\n                    var src = extractSrcFromStacktrace(err.stack, 2);\n                    if(!src && !_haveWarned('src')) {\n                        _warn('Unable to determine src line info', 'src');    \n                    }\n                    rec.src = src || '';\n                }\n            }\n            rec.v = LOG_VERSION;\n            return rec;\n        }\n\n        var fields = null;\n        var msgArgs = arguments;\n        var rec = null;\n        if (arguments.length === 0) {   // `log.<level>()`\n            return (this._level <= minLevel);\n        } else if (this._level > minLevel) {\n            /* pass through */\n        } else {\n            rec = mkRecord(msgArgs);\n            this._emit(rec);\n        }\n    };\n}\n\n\n/**\n * The functions below log a record at a specific level.\n *\n * Usages:\n *    log.<level>()  -> boolean is-trace-enabled\n *    log.<level>(<Error> err, [<string> msg, ...])\n *    log.<level>(<string> msg, ...)\n *    log.<level>(<object> fields, <string> msg, ...)\n *\n * where <level> is the lowercase version of the log level. E.g.:\n *\n *    log.info()\n *\n * @params fields {Object} Optional set of additional fields to log.\n * @params msg {String} Log message. This can be followed by additional\n *    arguments that are handled like\n *    [util.format](http://nodejs.org/docs/latest/api/all.html#util.format).\n */\nLogger.prototype.trace = mkLogEmitter(TRACE);\nLogger.prototype.debug = mkLogEmitter(DEBUG);\nLogger.prototype.info = mkLogEmitter(INFO);\nLogger.prototype.warn = mkLogEmitter(WARN);\nLogger.prototype.error = mkLogEmitter(ERROR);\nLogger.prototype.fatal = mkLogEmitter(FATAL);\n\n\n//---- Standard serializers\n// A serializer is a function that serializes a JavaScript object to a\n// JSON representation for logging. There is a standard set of presumed\n// interesting objects in node.js-land.\n\nLogger.stdSerializers = {};\n\n/*\n * This function dumps long stack traces for exceptions having a cause()\n * method. The error classes from\n * [verror](https://github.com/davepacheco/node-verror) and\n * [restify v2.0](https://github.com/mcavage/node-restify) are examples.\n *\n * Based on `dumpException` in\n * https://github.com/davepacheco/node-extsprintf/blob/master/lib/extsprintf.js\n */\nfunction getFullErrorStack(ex) {\n    var ret = ex.stack || ex.toString();\n    if (ex.cause && typeof (ex.cause) === 'function') {\n        var cex = ex.cause();\n        if (cex) {\n            ret += '\\nCaused by: ' + getFullErrorStack(cex);\n        }\n    }\n    return (ret);\n}\n\n// Serialize an Error object\n// (Core error properties are enumerable in node 0.4, not in 0.6).\nLogger.stdSerializers.err = function(err) {\n    if (!err || !err.stack) {\n        return err;\n    }\n\n    var obj = {\n        message: err.message,\n        name: err.name,\n        stack: getFullErrorStack(err),\n        code: err.code,\n        signal: err.signal\n    };\n    return obj;\n};\n\n\n// A JSON stringifier that handles cycles safely.\n// Usage: JSON.stringify(obj, safeCycles())\nfunction safeCycles() {\n    var seen = [];\n    return function (key, val) {\n        if (!val || typeof (val) !== 'object') {\n            return val;\n        }\n        if (seen.indexOf(val) !== -1) {\n            return '[Circular]';\n        }\n        seen.push(val);\n        return val;\n    };\n}\n\n//---- Exports\n\nmodule.exports = Logger;\n\nmodule.exports.TRACE = TRACE;\nmodule.exports.DEBUG = DEBUG;\nmodule.exports.INFO = INFO;\nmodule.exports.WARN = WARN;\nmodule.exports.ERROR = ERROR;\nmodule.exports.FATAL = FATAL;\nmodule.exports.resolveLevel = resolveLevel;\nmodule.exports.levelFromName = levelFromName;\nmodule.exports.nameFromLevel = nameFromLevel;\n\nmodule.exports.VERSION = VERSION;\nmodule.exports.LOG_VERSION = LOG_VERSION;\n\nmodule.exports.createLogger = function createLogger(options) {\n    return new Logger(options);\n};\n\n// Useful for custom `type == 'raw'` streams that may do JSON stringification\n// of log records themselves. Usage:\n//    var str = JSON.stringify(rec, bunyan.safeCycles());\nmodule.exports.safeCycles = safeCycles;\n\n//streams\nmodule.exports.ConsoleFormattedStream = ConsoleFormattedStream;\nmodule.exports.ConsoleRawStream = ConsoleRawStream;\n\n},{}],87:[function(require,module,exports){\n'use strict';\n\nvar Handlebars = require('handlebars/dist/handlebars.min');\n\n//TODO: once handlebars-helpers is refactored into the widget engine, make this enum common\nvar securityProfiles = {\n    /**Read, Write, Create, Delete, Admin update rights = 16*/\n    ADMIN: 16,\n    /**Read, Write, Create, Delete = 8*/\n    CREATOR: 8,\n    /**Read, Write, Create = 4*/\n    COLLABORATOR: 4,\n    /**Read, Write = 2*/\n    CONTRIBUTOR: 2,\n    /**Read = 1*/\n    CONSUMER: 1,\n    /**No rights*/\n    NONE: 0\n};\n\n/**\n * Loop through a range of two integers inclusive\n * {{#range 1 10}}\n *   <li>Number: {{@index}}</li>\n * {{/range}}\n * @param {number} from An integer to loop from\n * @param {number} to An integer to loop to\n */\nfunction range (from, to, options) {\n    /* jshint validthis: true */\n    var accum = '';\n    from = parseInt(from, 10);\n    to = parseInt(to, 10);\n\n    if(isNaN(from) || isNaN(to)) {\n        return '';\n    }\n\n    var data;\n    var sign = from > to ? -1 : 1;\n    var rangeLength = Math.abs(to - from) + 1;\n\n    if (options.data) {\n        data = Handlebars.createFrame(options.data);\n    }\n\n    for (var i = 0; i < rangeLength; i++) {\n        if (data) {\n            data.index = from + (i * sign);\n            data.from = from;\n            data.to = to;\n        }\n\n        accum += options.fn(this, { data: data });\n    }\n    return accum;\n}\n\n/**\n * @deprecated Use preferences.name instead\n */\nfunction withPreference(name, options) {\n    /* jshint validthis: true */\n    if (this.preferences) {\n        return options.fn(this.preferences[name]);\n    }\n}\n\n /**\n * @deprecated Use preferences.name.value instead\n */\nfunction getPreferenceValue (name) {\n    /* jshint validthis: true */\n    if(this.preferences) {\n        var pref = this.preferences[name];\n        return pref ? pref.value : null;\n    }\n    return null;\n}\n\n/**\n * Divides one value by another. Returns the largest integer less or equal to the result\n *  `{{divide 25 5 }}` == 5\n * @param {{number}} v1\n * @param {{number}} v2\n * @returns {number}\n */\nfunction divide (v1, v2) {\n    return Math.floor(parseFloat(v1) / parseFloat(v2));\n}\n\n/**\n * Checks whether both parameters are identical (strictly equal)\n * @param {{any}} v1\n * @param {{any}} v2\n * @returns {Boolean}\n */\nfunction equal (v1, v2) {\n    /* jshint eqeqeq: false */\n    return v1 == v2; //type coersion ok here\n}\n\n/**\n * Checks if the given one or more view hints exists in the property\n * @deprecated Use getViewHint instead\n * @param {Array} viewHints Array of view hints\n * @param {String} name Name parameter can be more than one\n */\nfunction hasViewHint () {\n    /* jshint validthis: true */\n    var args = Array.prototype.slice.call(arguments);\n    var options = args[args.length - 1];\n    var names = args.slice(0, args.length - 1);\n\n    for (var i = 0; i < names.length; i++) {\n        if (this.viewhints && this.viewhints.indexOf(names[i]) >= 0) {\n            return options.fn(this);\n        }\n    }\n\n    return options.inverse(this);\n}\n\n/**\n* Gets viewhint value of given type\n* @param {String} viewhint type\n*/\nfunction getViewHint (viewHintType) {\n    /* jshint validthis: true */\n    //TODO: this code is temporarily duplicated in cxp-web-apis as a static function of the model helpers.\n    //This code and the code in the cxp-web-apis should be consolidated to the widget engine as part of BACKLOG-12205\n\n    var viewHintsMap = {\n        designmode: ['designModeOnly'],\n        role: ['admin', 'manager', 'user', 'none'],\n        input: ['text-input', 'checkbox', 'select-one'],\n        order: [],\n        options: []\n    };\n\n    var viewhints = this.viewhints;\n    if(!viewhints || !viewhints.length || !viewHintsMap[viewHintType]) {\n        return undefined;\n    }\n\n    //TODO: consider use of memoization as the helper tends to be called multiple times\n    // with the same argument\n    //look for matching value\n    var viewHintTypeLength = viewHintType.length;\n    var matchedViewHint = viewhints.filter(function(viewHint) {\n        return viewHintsMap[viewHintType].indexOf(viewHint) !== -1 ||\n            viewHint.slice(0, viewHintTypeLength) === viewHintType;\n    })[0];\n\n    // get unprefixed value\n    if (matchedViewHint && matchedViewHint.slice(0, viewHintTypeLength) === viewHintType) {\n        var separator = matchedViewHint.slice(viewHintTypeLength, viewHintTypeLength + 1);\n\n        // support both '-' (for backwards compatibility) and '=' separator chars for order only\n        if (viewHintType === 'order' && (separator === '-' || separator === '=')) {\n            var order = matchedViewHint.slice(viewHintTypeLength + 1);\n            var parsedOrder = parseFloat(order);\n\n            if (!isNaN(parsedOrder)) {\n                order = parsedOrder;\n            }\n            matchedViewHint = order;\n        } else if (separator === '=') {\n            matchedViewHint = matchedViewHint.slice(viewHintTypeLength + 1);\n        } else {\n            // unsupported prefix\n            matchedViewHint = undefined;\n        }\n    }\n\n    //convert to boolean if it's designmode view hint\n    if(viewHintType === 'designmode') {\n        matchedViewHint = !!matchedViewHint;\n    }\n\n    return matchedViewHint;\n}\n\n/**\n* Finds an option set in a message bundle and loops through values in the set.\n* A message bundle should have \"options\" property which is a map of option sets.\n* @param {String} [optionName] option set name. If not specified, the helper assumes that the current context is\n* a preference and tries to get option name fron its \"options\" view hint.\n*/\nfunction eachOption (optionName, hbOptions) {\n    /* jshint validthis: true */\n    var result = '';\n\n    if(optionName && typeof optionName === 'object') {\n        hbOptions = optionName;\n        optionName = null;\n    }\n\n    // if option name is not provided then we assume that we are in context of a preference\n    if (!optionName) {\n        optionName = getViewHint.call(this, 'options');\n        if (!optionName) {\n            return result;\n        }\n    }\n\n    var intl = (hbOptions.data && hbOptions.data.intl) || {};\n    var selectOptions = intl.options || {};\n    var context = selectOptions[optionName];\n\n    if (!Array.isArray(context)) {\n        return result;\n    }\n\n    var last = context.length - 1;\n    return context.reduce(function(acc, item, index) {\n        var data = Handlebars.createFrame(hbOptions.data || {});\n        data.key = item;\n        data.index = index;\n        data.first = index === 0;\n        data.last = index === last;\n\n        return acc += hbOptions.fn({key : item}, { data: data });\n    }, '');\n}\n\n/**\n * Tests whether any of arguments passed have truthy value\n * @returns {Boolean} true if one of arguments is truthy, false otherwise.\n */\nfunction or () {\n    return Array.prototype.slice.call(arguments, 0, arguments.length - 1).some(function (val) {\n        return !!val;\n    });\n}\n\n/**\n * Tests whether every argument passed has truthy value\n * @returns {Boolean} true if all arguments are truthy, false otherwise.\n */\nfunction and () {\n    return Array.prototype.slice.call(arguments, 0, arguments.length - 1).every(function (val) {\n        return !!val;\n    });\n}\n\n/**\n * Coerces argument to boolean type and inverts it\n * @param {*} value\n * @returns {boolean}\n */\nfunction not (value) {\n    return !value;\n}\n\n/**\n * Returns a configuration option value\n * @param {String} name configuration option\n * @returns {*}\n */\nfunction getConfig (name, options) {\n    var data = options.data;\n    return data.cxpConfig ? data.cxpConfig[name] : undefined;\n}\n\n/**\n * Determines if an item has a given view mode\n * @param {string} viewmode A view mode to check for\n * @returns {boolean}\n */\nfunction hasViewmode (viewmode) {\n    /* jshint validthis: true */\n    var viewmodes = this.viewmodes || [];\n    var givenViewmode = viewmode ? viewmode.toLowerCase() : '';\n\n    return viewmodes.indexOf(givenViewmode) > -1;\n}\n\n/**\n * Gets current (the first in the list) view mode of an item\n * @returns {String} Current view mode (if any) or \"none\" otherwise\n */\nfunction currentViewmode () {\n    /* jshint validthis: true */\n    return this.viewmodes && this.viewmodes.length ? this.viewmodes[0] : 'none';\n}\n\n/**\n * Runs then block if any of the preferences has viewhints\n */\nfunction allowEdit (options) {\n    /* jshint validthis: true */\n    var preferences = this.preferences;\n\n    var allowEdit =\n        //has preferences\n        Object.keys(preferences).length > 0 &&\n\n        //has permissions:\n        (this.securityProfile && securityProfiles[this.securityProfile] >= securityProfiles.CONTRIBUTOR) &&\n\n        //view hints enable editing\n        //TODO: this will need updating to use preferences as map AND check if for input viewhints\n        Object.keys(preferences).some(function(prefName) {\n            return preferences[prefName].viewhints && preferences[prefName].viewhints.length > 0;\n        });\n\n    if(allowEdit) {\n        return options.fn(this);\n    } else {\n        return options.inverse(this);\n    }\n}\n\n/**\n * Splits a string by given separator\n * @param {string} string A string to be splitted\n * @param {string} [separator=/\\s*,+\\s*|\\s+/g] A separator for splitting\n * @returns {Array} Array of splitted values\n */\nfunction split (string, separator) {\n    if(typeof string !== 'string') {\n        return [];\n    }\n    var regex = new RegExp(separator);\n\n    //defaults to comma or spaces separation\n    if(typeof separator !== 'string') {\n        regex = /\\s*,+\\s*|\\s+/g;\n    }\n    return string.trim().split(regex);\n}\n\nmodule.exports = {\n    range               : range,\n    withPreference      : withPreference,\n    getPreferenceValue  : getPreferenceValue,\n    divide              : divide,\n    equal               : equal,\n    hasViewHint         : hasViewHint,\n    getViewHint         : getViewHint,\n    eachOption          : eachOption,\n    or                  : or,\n    and                 : and,\n    not                 : not,\n    getConfig           : getConfig,\n    hasViewmode         : hasViewmode,\n    currentViewmode     : currentViewmode,\n    allowEdit           : allowEdit,\n    split               : split\n};\n\n},{\"handlebars/dist/handlebars.min\":88}],88:[function(require,module,exports){\n/*!\n\n handlebars v4.0.5\n\nCopyright (C) 2011-2015 by Yehuda Katz\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n@license\n*/\n!function(a,b){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=b():\"function\"==typeof define&&define.amd?define([],b):\"object\"==typeof exports?exports.Handlebars=b():a.Handlebars=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p=\"\",b(0)}([function(a,b,c){\"use strict\";function d(){var a=r();return a.compile=function(b,c){return k.compile(b,c,a)},a.precompile=function(b,c){return k.precompile(b,c,a)},a.AST=i[\"default\"],a.Compiler=k.Compiler,a.JavaScriptCompiler=m[\"default\"],a.Parser=j.parser,a.parse=j.parse,a}var e=c(1)[\"default\"];b.__esModule=!0;var f=c(2),g=e(f),h=c(21),i=e(h),j=c(22),k=c(27),l=c(28),m=e(l),n=c(25),o=e(n),p=c(20),q=e(p),r=g[\"default\"].create,s=d();s.create=d,q[\"default\"](s),s.Visitor=o[\"default\"],s[\"default\"]=s,b[\"default\"]=s,a.exports=b[\"default\"]},function(a,b){\"use strict\";b[\"default\"]=function(a){return a&&a.__esModule?a:{\"default\":a}},b.__esModule=!0},function(a,b,c){\"use strict\";function d(){var a=new h.HandlebarsEnvironment;return n.extend(a,h),a.SafeString=j[\"default\"],a.Exception=l[\"default\"],a.Utils=n,a.escapeExpression=n.escapeExpression,a.VM=p,a.template=function(b){return p.template(b,a)},a}var e=c(3)[\"default\"],f=c(1)[\"default\"];b.__esModule=!0;var g=c(4),h=e(g),i=c(18),j=f(i),k=c(6),l=f(k),m=c(5),n=e(m),o=c(19),p=e(o),q=c(20),r=f(q),s=d();s.create=d,r[\"default\"](s),s[\"default\"]=s,b[\"default\"]=s,a.exports=b[\"default\"]},function(a,b){\"use strict\";b[\"default\"]=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b[\"default\"]=a,b},b.__esModule=!0},function(a,b,c){\"use strict\";function d(a,b,c){this.helpers=a||{},this.partials=b||{},this.decorators=c||{},i.registerDefaultHelpers(this),j.registerDefaultDecorators(this)}var e=c(1)[\"default\"];b.__esModule=!0,b.HandlebarsEnvironment=d;var f=c(5),g=c(6),h=e(g),i=c(7),j=c(15),k=c(17),l=e(k),m=\"4.0.5\";b.VERSION=m;var n=7;b.COMPILER_REVISION=n;var o={1:\"<= 1.0.rc.2\",2:\"== 1.0.0-rc.3\",3:\"== 1.0.0-rc.4\",4:\"== 1.x.x\",5:\"== 2.0.0-alpha.x\",6:\">= 2.0.0-beta.1\",7:\">= 4.0.0\"};b.REVISION_CHANGES=o;var p=\"[object Object]\";d.prototype={constructor:d,logger:l[\"default\"],log:l[\"default\"].log,registerHelper:function(a,b){if(f.toString.call(a)===p){if(b)throw new h[\"default\"](\"Arg not supported with multiple helpers\");f.extend(this.helpers,a)}else this.helpers[a]=b},unregisterHelper:function(a){delete this.helpers[a]},registerPartial:function(a,b){if(f.toString.call(a)===p)f.extend(this.partials,a);else{if(\"undefined\"==typeof b)throw new h[\"default\"]('Attempting to register a partial called \"'+a+'\" as undefined');this.partials[a]=b}},unregisterPartial:function(a){delete this.partials[a]},registerDecorator:function(a,b){if(f.toString.call(a)===p){if(b)throw new h[\"default\"](\"Arg not supported with multiple decorators\");f.extend(this.decorators,a)}else this.decorators[a]=b},unregisterDecorator:function(a){delete this.decorators[a]}};var q=l[\"default\"].log;b.log=q,b.createFrame=f.createFrame,b.logger=l[\"default\"]},function(a,b){\"use strict\";function c(a){return k[a]}function d(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],c)&&(a[c]=arguments[b][c]);return a}function e(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1}function f(a){if(\"string\"!=typeof a){if(a&&a.toHTML)return a.toHTML();if(null==a)return\"\";if(!a)return a+\"\";a=\"\"+a}return m.test(a)?a.replace(l,c):a}function g(a){return a||0===a?p(a)&&0===a.length?!0:!1:!0}function h(a){var b=d({},a);return b._parent=a,b}function i(a,b){return a.path=b,a}function j(a,b){return(a?a+\".\":\"\")+b}b.__esModule=!0,b.extend=d,b.indexOf=e,b.escapeExpression=f,b.isEmpty=g,b.createFrame=h,b.blockParams=i,b.appendContextPath=j;var k={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#x27;\",\"`\":\"&#x60;\",\"=\":\"&#x3D;\"},l=/[&<>\"'`=]/g,m=/[&<>\"'`=]/,n=Object.prototype.toString;b.toString=n;var o=function(a){return\"function\"==typeof a};o(/x/)&&(b.isFunction=o=function(a){return\"function\"==typeof a&&\"[object Function]\"===n.call(a)}),b.isFunction=o;var p=Array.isArray||function(a){return a&&\"object\"==typeof a?\"[object Array]\"===n.call(a):!1};b.isArray=p},function(a,b){\"use strict\";function c(a,b){var e=b&&b.loc,f=void 0,g=void 0;e&&(f=e.start.line,g=e.start.column,a+=\" - \"+f+\":\"+g);for(var h=Error.prototype.constructor.call(this,a),i=0;i<d.length;i++)this[d[i]]=h[d[i]];Error.captureStackTrace&&Error.captureStackTrace(this,c),e&&(this.lineNumber=f,this.column=g)}b.__esModule=!0;var d=[\"description\",\"fileName\",\"lineNumber\",\"message\",\"name\",\"number\",\"stack\"];c.prototype=new Error,b[\"default\"]=c,a.exports=b[\"default\"]},function(a,b,c){\"use strict\";function d(a){g[\"default\"](a),i[\"default\"](a),k[\"default\"](a),m[\"default\"](a),o[\"default\"](a),q[\"default\"](a),s[\"default\"](a)}var e=c(1)[\"default\"];b.__esModule=!0,b.registerDefaultHelpers=d;var f=c(8),g=e(f),h=c(9),i=e(h),j=c(10),k=e(j),l=c(11),m=e(l),n=c(12),o=e(n),p=c(13),q=e(p),r=c(14),s=e(r)},function(a,b,c){\"use strict\";b.__esModule=!0;var d=c(5);b[\"default\"]=function(a){a.registerHelper(\"blockHelperMissing\",function(b,c){var e=c.inverse,f=c.fn;if(b===!0)return f(this);if(b===!1||null==b)return e(this);if(d.isArray(b))return b.length>0?(c.ids&&(c.ids=[c.name]),a.helpers.each(b,c)):e(this);if(c.data&&c.ids){var g=d.createFrame(c.data);g.contextPath=d.appendContextPath(c.data.contextPath,c.name),c={data:g}}return f(b,c)})},a.exports=b[\"default\"]},function(a,b,c){\"use strict\";var d=c(1)[\"default\"];b.__esModule=!0;var e=c(5),f=c(6),g=d(f);b[\"default\"]=function(a){a.registerHelper(\"each\",function(a,b){function c(b,c,f){j&&(j.key=b,j.index=c,j.first=0===c,j.last=!!f,k&&(j.contextPath=k+b)),i+=d(a[b],{data:j,blockParams:e.blockParams([a[b],b],[k+b,null])})}if(!b)throw new g[\"default\"](\"Must pass iterator to #each\");var d=b.fn,f=b.inverse,h=0,i=\"\",j=void 0,k=void 0;if(b.data&&b.ids&&(k=e.appendContextPath(b.data.contextPath,b.ids[0])+\".\"),e.isFunction(a)&&(a=a.call(this)),b.data&&(j=e.createFrame(b.data)),a&&\"object\"==typeof a)if(e.isArray(a))for(var l=a.length;l>h;h++)h in a&&c(h,h,h===a.length-1);else{var m=void 0;for(var n in a)a.hasOwnProperty(n)&&(void 0!==m&&c(m,h-1),m=n,h++);void 0!==m&&c(m,h-1,!0)}return 0===h&&(i=f(this)),i})},a.exports=b[\"default\"]},function(a,b,c){\"use strict\";var d=c(1)[\"default\"];b.__esModule=!0;var e=c(6),f=d(e);b[\"default\"]=function(a){a.registerHelper(\"helperMissing\",function(){if(1!==arguments.length)throw new f[\"default\"]('Missing helper: \"'+arguments[arguments.length-1].name+'\"')})},a.exports=b[\"default\"]},function(a,b,c){\"use strict\";b.__esModule=!0;var d=c(5);b[\"default\"]=function(a){a.registerHelper(\"if\",function(a,b){return d.isFunction(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||d.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper(\"unless\",function(b,c){return a.helpers[\"if\"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})})},a.exports=b[\"default\"]},function(a,b){\"use strict\";b.__esModule=!0,b[\"default\"]=function(a){a.registerHelper(\"log\",function(){for(var b=[void 0],c=arguments[arguments.length-1],d=0;d<arguments.length-1;d++)b.push(arguments[d]);var e=1;null!=c.hash.level?e=c.hash.level:c.data&&null!=c.data.level&&(e=c.data.level),b[0]=e,a.log.apply(a,b)})},a.exports=b[\"default\"]},function(a,b){\"use strict\";b.__esModule=!0,b[\"default\"]=function(a){a.registerHelper(\"lookup\",function(a,b){return a&&a[b]})},a.exports=b[\"default\"]},function(a,b,c){\"use strict\";b.__esModule=!0;var d=c(5);b[\"default\"]=function(a){a.registerHelper(\"with\",function(a,b){d.isFunction(a)&&(a=a.call(this));var c=b.fn;if(d.isEmpty(a))return b.inverse(this);var e=b.data;return b.data&&b.ids&&(e=d.createFrame(b.data),e.contextPath=d.appendContextPath(b.data.contextPath,b.ids[0])),c(a,{data:e,blockParams:d.blockParams([a],[e&&e.contextPath])})})},a.exports=b[\"default\"]},function(a,b,c){\"use strict\";function d(a){g[\"default\"](a)}var e=c(1)[\"default\"];b.__esModule=!0,b.registerDefaultDecorators=d;var f=c(16),g=e(f)},function(a,b,c){\"use strict\";b.__esModule=!0;var d=c(5);b[\"default\"]=function(a){a.registerDecorator(\"inline\",function(a,b,c,e){var f=a;return b.partials||(b.partials={},f=function(e,f){var g=c.partials;c.partials=d.extend({},g,b.partials);var h=a(e,f);return c.partials=g,h}),b.partials[e.args[0]]=e.fn,f})},a.exports=b[\"default\"]},function(a,b,c){\"use strict\";b.__esModule=!0;var d=c(5),e={methodMap:[\"debug\",\"info\",\"warn\",\"error\"],level:\"info\",lookupLevel:function(a){if(\"string\"==typeof a){var b=d.indexOf(e.methodMap,a.toLowerCase());a=b>=0?b:parseInt(a,10)}return a},log:function(a){if(a=e.lookupLevel(a),\"undefined\"!=typeof console&&e.lookupLevel(e.level)<=a){var b=e.methodMap[a];console[b]||(b=\"log\");for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;c>f;f++)d[f-1]=arguments[f];console[b].apply(console,d)}}};b[\"default\"]=e,a.exports=b[\"default\"]},function(a,b){\"use strict\";function c(a){this.string=a}b.__esModule=!0,c.prototype.toString=c.prototype.toHTML=function(){return\"\"+this.string},b[\"default\"]=c,a.exports=b[\"default\"]},function(a,b,c){\"use strict\";function d(a){var b=a&&a[0]||1,c=r.COMPILER_REVISION;if(b!==c){if(c>b){var d=r.REVISION_CHANGES[c],e=r.REVISION_CHANGES[b];throw new q[\"default\"](\"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version (\"+d+\") or downgrade your runtime to an older version (\"+e+\").\")}throw new q[\"default\"](\"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version (\"+a[1]+\").\")}}function e(a,b){function c(c,d,e){e.hash&&(d=o.extend({},d,e.hash),e.ids&&(e.ids[0]=!0)),c=b.VM.resolvePartial.call(this,c,d,e);var f=b.VM.invokePartial.call(this,c,d,e);if(null==f&&b.compile&&(e.partials[e.name]=b.compile(c,a.compilerOptions,b),f=e.partials[e.name](d,e)),null!=f){if(e.indent){for(var g=f.split(\"\\n\"),h=0,i=g.length;i>h&&(g[h]||h+1!==i);h++)g[h]=e.indent+g[h];f=g.join(\"\\n\")}return f}throw new q[\"default\"](\"The partial \"+e.name+\" could not be compiled when running in runtime-only mode\")}function d(b){function c(b){return\"\"+a.main(e,b,e.helpers,e.partials,g,i,h)}var f=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],g=f.data;d._setup(f),!f.partial&&a.useData&&(g=j(b,g));var h=void 0,i=a.useBlockParams?[]:void 0;return a.useDepths&&(h=f.depths?b!==f.depths[0]?[b].concat(f.depths):f.depths:[b]),(c=k(a.main,c,e,f.depths||[],g,i))(b,f)}if(!b)throw new q[\"default\"](\"No environment passed to template\");if(!a||!a.main)throw new q[\"default\"](\"Unknown template object: \"+typeof a);a.main.decorator=a.main_d,b.VM.checkRevision(a.compiler);var e={strict:function(a,b){if(!(b in a))throw new q[\"default\"]('\"'+b+'\" not defined in '+a);return a[b]},lookup:function(a,b){for(var c=a.length,d=0;c>d;d++)if(a[d]&&null!=a[d][b])return a[d][b]},lambda:function(a,b){return\"function\"==typeof a?a.call(b):a},escapeExpression:o.escapeExpression,invokePartial:c,fn:function(b){var c=a[b];return c.decorator=a[b+\"_d\"],c},programs:[],program:function(a,b,c,d,e){var g=this.programs[a],h=this.fn(a);return b||e||d||c?g=f(this,a,h,b,c,d,e):g||(g=this.programs[a]=f(this,a,h)),g},data:function(a,b){for(;a&&b--;)a=a._parent;return a},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c=o.extend({},b,a)),c},noop:b.VM.noop,compilerInfo:a.compiler};return d.isTop=!0,d._setup=function(c){c.partial?(e.helpers=c.helpers,e.partials=c.partials,e.decorators=c.decorators):(e.helpers=e.merge(c.helpers,b.helpers),a.usePartial&&(e.partials=e.merge(c.partials,b.partials)),(a.usePartial||a.useDecorators)&&(e.decorators=e.merge(c.decorators,b.decorators)))},d._child=function(b,c,d,g){if(a.useBlockParams&&!d)throw new q[\"default\"](\"must pass block params\");if(a.useDepths&&!g)throw new q[\"default\"](\"must pass parent depths\");return f(e,b,a[b],c,0,d,g)},d}function f(a,b,c,d,e,f,g){function h(b){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],h=g;return g&&b!==g[0]&&(h=[b].concat(g)),c(a,b,a.helpers,a.partials,e.data||d,f&&[e.blockParams].concat(f),h)}return h=k(c,h,a,g,d,f),h.program=b,h.depth=g?g.length:0,h.blockParams=e||0,h}function g(a,b,c){return a?a.call||c.name||(c.name=a,a=c.partials[a]):a=\"@partial-block\"===c.name?c.data[\"partial-block\"]:c.partials[c.name],a}function h(a,b,c){c.partial=!0,c.ids&&(c.data.contextPath=c.ids[0]||c.data.contextPath);var d=void 0;if(c.fn&&c.fn!==i&&(c.data=r.createFrame(c.data),d=c.data[\"partial-block\"]=c.fn,d.partials&&(c.partials=o.extend({},c.partials,d.partials))),void 0===a&&d&&(a=d),void 0===a)throw new q[\"default\"](\"The partial \"+c.name+\" could not be found\");return a instanceof Function?a(b,c):void 0}function i(){return\"\"}function j(a,b){return b&&\"root\"in b||(b=b?r.createFrame(b):{},b.root=a),b}function k(a,b,c,d,e,f){if(a.decorator){var g={};b=a.decorator(b,g,c,d&&d[0],e,f,d),o.extend(b,g)}return b}var l=c(3)[\"default\"],m=c(1)[\"default\"];b.__esModule=!0,b.checkRevision=d,b.template=e,b.wrapProgram=f,b.resolvePartial=g,b.invokePartial=h,b.noop=i;var n=c(5),o=l(n),p=c(6),q=m(p),r=c(4)},function(a,b){(function(c){\"use strict\";b.__esModule=!0,b[\"default\"]=function(a){var b=\"undefined\"!=typeof c?c:window,d=b.Handlebars;a.noConflict=function(){return b.Handlebars===a&&(b.Handlebars=d),a}},a.exports=b[\"default\"]}).call(b,function(){return this}())},function(a,b){\"use strict\";b.__esModule=!0;var c={helpers:{helperExpression:function(a){return\"SubExpression\"===a.type||(\"MustacheStatement\"===a.type||\"BlockStatement\"===a.type)&&!!(a.params&&a.params.length||a.hash)},scopedId:function(a){return/^\\.|this\\b/.test(a.original)},simpleId:function(a){return 1===a.parts.length&&!c.helpers.scopedId(a)&&!a.depth}}};b[\"default\"]=c,a.exports=b[\"default\"]},function(a,b,c){\"use strict\";function d(a,b){if(\"Program\"===a.type)return a;h[\"default\"].yy=n,n.locInfo=function(a){return new n.SourceLocation(b&&b.srcName,a)};var c=new j[\"default\"](b);return c.accept(h[\"default\"].parse(a))}var e=c(1)[\"default\"],f=c(3)[\"default\"];b.__esModule=!0,b.parse=d;var g=c(23),h=e(g),i=c(24),j=e(i),k=c(26),l=f(k),m=c(5);b.parser=h[\"default\"];var n={};m.extend(n,l)},function(a,b){\"use strict\";var c=function(){function a(){this.yy={}}var b={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:\"error\",5:\"EOF\",14:\"COMMENT\",15:\"CONTENT\",18:\"END_RAW_BLOCK\",19:\"OPEN_RAW_BLOCK\",23:\"CLOSE_RAW_BLOCK\",29:\"OPEN_BLOCK\",33:\"CLOSE\",34:\"OPEN_INVERSE\",39:\"OPEN_INVERSE_CHAIN\",44:\"INVERSE\",47:\"OPEN_ENDBLOCK\",48:\"OPEN\",51:\"OPEN_UNESCAPED\",54:\"CLOSE_UNESCAPED\",55:\"OPEN_PARTIAL\",60:\"OPEN_PARTIAL_BLOCK\",65:\"OPEN_SEXPR\",68:\"CLOSE_SEXPR\",72:\"ID\",73:\"EQUALS\",75:\"OPEN_BLOCK_PARAMS\",77:\"CLOSE_BLOCK_PARAMS\",80:\"STRING\",81:\"NUMBER\",82:\"BOOLEAN\",83:\"UNDEFINED\",84:\"NULL\",85:\"DATA\",87:\"SEP\"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(a,b,c,d,e,f,g){var h=f.length-1;switch(e){case 1:return f[h-1];case 2:this.$=d.prepareProgram(f[h]);break;case 3:this.$=f[h];break;case 4:this.$=f[h];break;case 5:this.$=f[h];break;case 6:this.$=f[h];break;case 7:this.$=f[h];break;case 8:this.$=f[h];break;case 9:this.$={type:\"CommentStatement\",value:d.stripComment(f[h]),strip:d.stripFlags(f[h],f[h]),loc:d.locInfo(this._$)};break;case 10:this.$={type:\"ContentStatement\",original:f[h],value:f[h],loc:d.locInfo(this._$)};break;case 11:this.$=d.prepareRawBlock(f[h-2],f[h-1],f[h],this._$);break;case 12:this.$={path:f[h-3],params:f[h-2],hash:f[h-1]};break;case 13:this.$=d.prepareBlock(f[h-3],f[h-2],f[h-1],f[h],!1,this._$);break;case 14:this.$=d.prepareBlock(f[h-3],f[h-2],f[h-1],f[h],!0,this._$);break;case 15:this.$={open:f[h-5],path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 16:this.$={path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 17:this.$={path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 18:this.$={strip:d.stripFlags(f[h-1],f[h-1]),program:f[h]};break;case 19:var i=d.prepareBlock(f[h-2],f[h-1],f[h],f[h],!1,this._$),j=d.prepareProgram([i],f[h-1].loc);j.chained=!0,this.$={strip:f[h-2].strip,program:j,chain:!0};break;case 20:this.$=f[h];break;case 21:this.$={path:f[h-1],strip:d.stripFlags(f[h-2],f[h])};break;case 22:this.$=d.prepareMustache(f[h-3],f[h-2],f[h-1],f[h-4],d.stripFlags(f[h-4],f[h]),this._$);break;case 23:this.$=d.prepareMustache(f[h-3],f[h-2],f[h-1],f[h-4],d.stripFlags(f[h-4],f[h]),this._$);break;case 24:this.$={type:\"PartialStatement\",name:f[h-3],params:f[h-2],hash:f[h-1],indent:\"\",strip:d.stripFlags(f[h-4],f[h]),loc:d.locInfo(this._$)};break;case 25:this.$=d.preparePartialBlock(f[h-2],f[h-1],f[h],this._$);break;case 26:this.$={path:f[h-3],params:f[h-2],hash:f[h-1],strip:d.stripFlags(f[h-4],f[h])};break;case 27:this.$=f[h];break;case 28:this.$=f[h];break;case 29:this.$={type:\"SubExpression\",path:f[h-3],params:f[h-2],hash:f[h-1],loc:d.locInfo(this._$)};break;case 30:this.$={type:\"Hash\",pairs:f[h],loc:d.locInfo(this._$)};break;case 31:this.$={type:\"HashPair\",key:d.id(f[h-2]),value:f[h],loc:d.locInfo(this._$)};break;case 32:this.$=d.id(f[h-1]);break;case 33:this.$=f[h];break;case 34:this.$=f[h];break;case 35:this.$={type:\"StringLiteral\",value:f[h],original:f[h],loc:d.locInfo(this._$)};break;case 36:this.$={type:\"NumberLiteral\",value:Number(f[h]),original:Number(f[h]),loc:d.locInfo(this._$)};break;case 37:this.$={type:\"BooleanLiteral\",value:\"true\"===f[h],original:\"true\"===f[h],loc:d.locInfo(this._$)};break;case 38:this.$={type:\"UndefinedLiteral\",original:void 0,value:void 0,loc:d.locInfo(this._$)};break;case 39:this.$={type:\"NullLiteral\",original:null,value:null,loc:d.locInfo(this._$)};break;case 40:this.$=f[h];break;case 41:this.$=f[h];break;case 42:this.$=d.preparePath(!0,f[h],this._$);break;case 43:this.$=d.preparePath(!1,f[h],this._$);break;case 44:f[h-2].push({part:d.id(f[h]),original:f[h],separator:f[h-1]}),this.$=f[h-2];break;case 45:this.$=[{part:d.id(f[h]),original:f[h]}];break;case 46:this.$=[];break;case 47:f[h-1].push(f[h]);break;case 48:this.$=[f[h]];break;case 49:f[h-1].push(f[h]);break;case 50:this.$=[];break;case 51:f[h-1].push(f[h]);break;case 58:this.$=[];break;case 59:f[h-1].push(f[h]);break;case 64:this.$=[];break;case 65:f[h-1].push(f[h]);break;case 70:this.$=[];break;case 71:f[h-1].push(f[h]);break;case 78:this.$=[];break;case 79:f[h-1].push(f[h]);break;case 82:this.$=[];break;case 83:f[h-1].push(f[h]);break;case 86:this.$=[];break;case 87:f[h-1].push(f[h]);break;case 90:this.$=[];break;case 91:f[h-1].push(f[h]);break;case 94:this.$=[];break;case 95:f[h-1].push(f[h]);break;case 98:this.$=[f[h]];break;case 99:f[h-1].push(f[h]);break;case 100:this.$=[f[h]];break;case 101:f[h-1].push(f[h])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],\n48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(a,b){throw new Error(a)},parse:function(a){function b(){var a;return a=c.lexer.lex()||1,\"number\"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h=\"\",i=0,j=0,k=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,\"undefined\"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var l=this.lexer.yylloc;f.push(l);var m=this.lexer.options&&this.lexer.options.ranges;\"function\"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var n,o,p,q,r,s,t,u,v,w={};;){if(p=d[d.length-1],this.defaultActions[p]?q=this.defaultActions[p]:((null===n||\"undefined\"==typeof n)&&(n=b()),q=g[p]&&g[p][n]),\"undefined\"==typeof q||!q.length||!q[0]){var x=\"\";if(!k){v=[];for(s in g[p])this.terminals_[s]&&s>2&&v.push(\"'\"+this.terminals_[s]+\"'\");x=this.lexer.showPosition?\"Parse error on line \"+(i+1)+\":\\n\"+this.lexer.showPosition()+\"\\nExpecting \"+v.join(\", \")+\", got '\"+(this.terminals_[n]||n)+\"'\":\"Parse error on line \"+(i+1)+\": Unexpected \"+(1==n?\"end of input\":\"'\"+(this.terminals_[n]||n)+\"'\"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[n]||n,line:this.lexer.yylineno,loc:l,expected:v})}}if(q[0]instanceof Array&&q.length>1)throw new Error(\"Parse Error: multiple actions possible at state: \"+p+\", token: \"+n);switch(q[0]){case 1:d.push(n),e.push(this.lexer.yytext),f.push(this.lexer.yylloc),d.push(q[1]),n=null,o?(n=o,o=null):(j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,l=this.lexer.yylloc,k>0&&k--);break;case 2:if(t=this.productions_[q[1]][1],w.$=e[e.length-t],w._$={first_line:f[f.length-(t||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(t||1)].first_column,last_column:f[f.length-1].last_column},m&&(w._$.range=[f[f.length-(t||1)].range[0],f[f.length-1].range[1]]),r=this.performAction.call(w,h,j,i,this.yy,q[1],e,f),\"undefined\"!=typeof r)return r;t&&(d=d.slice(0,-1*t*2),e=e.slice(0,-1*t),f=f.slice(0,-1*t)),d.push(this.productions_[q[1]][0]),e.push(w.$),f.push(w._$),u=g[d[d.length-2]][d[d.length-1]],d.push(u);break;case 3:return!0}}return!0}},c=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match=\"\",this.conditionStack=[\"INITIAL\"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var b=a.match(/(?:\\r\\n?|\\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\\r\\n?|\\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\\r\\n?|\\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?\"...\":\"\")+a.substr(-20).replace(/\\n/g,\"\")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?\"...\":\"\")).replace(/\\n/g,\"\")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join(\"-\");return a+this.upcomingInput()+\"\\n\"+b+\"^\"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d,e;this._more||(this.yytext=\"\",this.match=\"\");for(var f=this._currentRules(),g=0;g<f.length&&(c=this._input.match(this.rules[f[g]]),!c||b&&!(c[0].length>b[0].length)||(b=c,d=g,this.options.flex));g++);return b?(e=b[0].match(/(?:\\r\\n?|\\n).*/g),e&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\\r?\\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a?a:void 0):\"\"===this._input?this.EOF:this.parseError(\"Lexical error on line \"+(this.yylineno+1)+\". Unrecognized text.\\n\"+this.showPosition(),{text:\"\",token:null,line:this.yylineno})},lex:function(){var a=this.next();return\"undefined\"!=typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,b,c,d){function e(a,c){return b.yytext=b.yytext.substr(a,b.yyleng-c)}switch(c){case 0:if(\"\\\\\\\\\"===b.yytext.slice(-2)?(e(0,1),this.begin(\"mu\")):\"\\\\\"===b.yytext.slice(-1)?(e(0,1),this.begin(\"emu\")):this.begin(\"mu\"),b.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin(\"raw\"),15;case 4:return this.popState(),\"raw\"===this.conditionStack[this.conditionStack.length-1]?15:(b.yytext=b.yytext.substr(5,b.yyleng-9),\"END_RAW_BLOCK\");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin(\"raw\"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(b.yytext),this.popState(),this.begin(\"com\");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return b.yytext=e(1,2).replace(/\\\\\"/g,'\"'),80;case 32:return b.yytext=e(1,2).replace(/\\\\'/g,\"'\"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return b.yytext=b.yytext.replace(/\\\\([\\\\\\]])/g,\"$1\"),72;case 43:return\"INVALID\";case 44:return 5}},a.rules=[/^(?:[^\\x00]*?(?=(\\{\\{)))/,/^(?:[^\\x00]+)/,/^(?:[^\\x00]{2,}?(?=(\\{\\{|\\\\\\{\\{|\\\\\\\\\\{\\{|$)))/,/^(?:\\{\\{\\{\\{(?=[^\\/]))/,/^(?:\\{\\{\\{\\{\\/[^\\s!\"#%-,\\.\\/;->@\\[-\\^`\\{-~]+(?=[=}\\s\\/.])\\}\\}\\}\\})/,/^(?:[^\\x00]*?(?=(\\{\\{\\{\\{)))/,/^(?:[\\s\\S]*?--(~)?\\}\\})/,/^(?:\\()/,/^(?:\\))/,/^(?:\\{\\{\\{\\{)/,/^(?:\\}\\}\\}\\})/,/^(?:\\{\\{(~)?>)/,/^(?:\\{\\{(~)?#>)/,/^(?:\\{\\{(~)?#\\*?)/,/^(?:\\{\\{(~)?\\/)/,/^(?:\\{\\{(~)?\\^\\s*(~)?\\}\\})/,/^(?:\\{\\{(~)?\\s*else\\s*(~)?\\}\\})/,/^(?:\\{\\{(~)?\\^)/,/^(?:\\{\\{(~)?\\s*else\\b)/,/^(?:\\{\\{(~)?\\{)/,/^(?:\\{\\{(~)?&)/,/^(?:\\{\\{(~)?!--)/,/^(?:\\{\\{(~)?![\\s\\S]*?\\}\\})/,/^(?:\\{\\{(~)?\\*?)/,/^(?:=)/,/^(?:\\.\\.)/,/^(?:\\.(?=([=~}\\s\\/.)|])))/,/^(?:[\\/.])/,/^(?:\\s+)/,/^(?:\\}(~)?\\}\\})/,/^(?:(~)?\\}\\})/,/^(?:\"(\\\\[\"]|[^\"])*\")/,/^(?:'(\\\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\\s)])))/,/^(?:false(?=([~}\\s)])))/,/^(?:undefined(?=([~}\\s)])))/,/^(?:null(?=([~}\\s)])))/,/^(?:-?[0-9]+(?:\\.[0-9]+)?(?=([~}\\s)])))/,/^(?:as\\s+\\|)/,/^(?:\\|)/,/^(?:([^\\s!\"#%-,\\.\\/;->@\\[-\\^`\\{-~]+(?=([=~}\\s\\/.)|]))))/,/^(?:\\[(\\\\\\]|[^\\]])*\\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},a}();return b.lexer=c,a.prototype=b,b.Parser=a,new a}();b.__esModule=!0,b[\"default\"]=c},function(a,b,c){\"use strict\";function d(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=a}function e(a,b,c){void 0===b&&(b=a.length);var d=a[b-1],e=a[b-2];return d?\"ContentStatement\"===d.type?(e||!c?/\\r?\\n\\s*?$/:/(^|\\r?\\n)\\s*?$/).test(d.original):void 0:c}function f(a,b,c){void 0===b&&(b=-1);var d=a[b+1],e=a[b+2];return d?\"ContentStatement\"===d.type?(e||!c?/^\\s*?\\r?\\n/:/^\\s*?(\\r?\\n|$)/).test(d.original):void 0:c}function g(a,b,c){var d=a[null==b?0:b+1];if(d&&\"ContentStatement\"===d.type&&(c||!d.rightStripped)){var e=d.value;d.value=d.value.replace(c?/^\\s+/:/^[ \\t]*\\r?\\n?/,\"\"),d.rightStripped=d.value!==e}}function h(a,b,c){var d=a[null==b?a.length-1:b-1];if(d&&\"ContentStatement\"===d.type&&(c||!d.leftStripped)){var e=d.value;return d.value=d.value.replace(c?/\\s+$/:/[ \\t]+$/,\"\"),d.leftStripped=d.value!==e,d.leftStripped}}var i=c(1)[\"default\"];b.__esModule=!0;var j=c(25),k=i(j);d.prototype=new k[\"default\"],d.prototype.Program=function(a){var b=!this.options.ignoreStandalone,c=!this.isRootSeen;this.isRootSeen=!0;for(var d=a.body,i=0,j=d.length;j>i;i++){var k=d[i],l=this.accept(k);if(l){var m=e(d,i,c),n=f(d,i,c),o=l.openStandalone&&m,p=l.closeStandalone&&n,q=l.inlineStandalone&&m&&n;l.close&&g(d,i,!0),l.open&&h(d,i,!0),b&&q&&(g(d,i),h(d,i)&&\"PartialStatement\"===k.type&&(k.indent=/([ \\t]+$)/.exec(d[i-1].original)[1])),b&&o&&(g((k.program||k.inverse).body),h(d,i)),b&&p&&(g(d,i),h((k.inverse||k.program).body))}}return a},d.prototype.BlockStatement=d.prototype.DecoratorBlock=d.prototype.PartialBlockStatement=function(a){this.accept(a.program),this.accept(a.inverse);var b=a.program||a.inverse,c=a.program&&a.inverse,d=c,i=c;if(c&&c.chained)for(d=c.body[0].program;i.chained;)i=i.body[i.body.length-1].program;var j={open:a.openStrip.open,close:a.closeStrip.close,openStandalone:f(b.body),closeStandalone:e((d||b).body)};if(a.openStrip.close&&g(b.body,null,!0),c){var k=a.inverseStrip;k.open&&h(b.body,null,!0),k.close&&g(d.body,null,!0),a.closeStrip.open&&h(i.body,null,!0),!this.options.ignoreStandalone&&e(b.body)&&f(d.body)&&(h(b.body),g(d.body))}else a.closeStrip.open&&h(b.body,null,!0);return j},d.prototype.Decorator=d.prototype.MustacheStatement=function(a){return a.strip},d.prototype.PartialStatement=d.prototype.CommentStatement=function(a){var b=a.strip||{};return{inlineStandalone:!0,open:b.open,close:b.close}},b[\"default\"]=d,a.exports=b[\"default\"]},function(a,b,c){\"use strict\";function d(){this.parents=[]}function e(a){this.acceptRequired(a,\"path\"),this.acceptArray(a.params),this.acceptKey(a,\"hash\")}function f(a){e.call(this,a),this.acceptKey(a,\"program\"),this.acceptKey(a,\"inverse\")}function g(a){this.acceptRequired(a,\"name\"),this.acceptArray(a.params),this.acceptKey(a,\"hash\")}var h=c(1)[\"default\"];b.__esModule=!0;var i=c(6),j=h(i);d.prototype={constructor:d,mutating:!1,acceptKey:function(a,b){var c=this.accept(a[b]);if(this.mutating){if(c&&!d.prototype[c.type])throw new j[\"default\"]('Unexpected node type \"'+c.type+'\" found when accepting '+b+\" on \"+a.type);a[b]=c}},acceptRequired:function(a,b){if(this.acceptKey(a,b),!a[b])throw new j[\"default\"](a.type+\" requires \"+b)},acceptArray:function(a){for(var b=0,c=a.length;c>b;b++)this.acceptKey(a,b),a[b]||(a.splice(b,1),b--,c--)},accept:function(a){if(a){if(!this[a.type])throw new j[\"default\"](\"Unknown type: \"+a.type,a);this.current&&this.parents.unshift(this.current),this.current=a;var b=this[a.type](a);return this.current=this.parents.shift(),!this.mutating||b?b:b!==!1?a:void 0}},Program:function(a){this.acceptArray(a.body)},MustacheStatement:e,Decorator:e,BlockStatement:f,DecoratorBlock:f,PartialStatement:g,PartialBlockStatement:function(a){g.call(this,a),this.acceptKey(a,\"program\")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:e,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(a){this.acceptArray(a.pairs)},HashPair:function(a){this.acceptRequired(a,\"value\")}},b[\"default\"]=d,a.exports=b[\"default\"]},function(a,b,c){\"use strict\";function d(a,b){if(b=b.path?b.path.original:b,a.path.original!==b){var c={loc:a.path.loc};throw new q[\"default\"](a.path.original+\" doesn't match \"+b,c)}}function e(a,b){this.source=a,this.start={line:b.first_line,column:b.first_column},this.end={line:b.last_line,column:b.last_column}}function f(a){return/^\\[.*\\]$/.test(a)?a.substr(1,a.length-2):a}function g(a,b){return{open:\"~\"===a.charAt(2),close:\"~\"===b.charAt(b.length-3)}}function h(a){return a.replace(/^\\{\\{~?\\!-?-?/,\"\").replace(/-?-?~?\\}\\}$/,\"\")}function i(a,b,c){c=this.locInfo(c);for(var d=a?\"@\":\"\",e=[],f=0,g=\"\",h=0,i=b.length;i>h;h++){var j=b[h].part,k=b[h].original!==j;if(d+=(b[h].separator||\"\")+j,k||\"..\"!==j&&\".\"!==j&&\"this\"!==j)e.push(j);else{if(e.length>0)throw new q[\"default\"](\"Invalid path: \"+d,{loc:c});\"..\"===j&&(f++,g+=\"../\")}}return{type:\"PathExpression\",data:a,depth:f,parts:e,original:d,loc:c}}function j(a,b,c,d,e,f){var g=d.charAt(3)||d.charAt(2),h=\"{\"!==g&&\"&\"!==g,i=/\\*/.test(d);return{type:i?\"Decorator\":\"MustacheStatement\",path:a,params:b,hash:c,escaped:h,strip:e,loc:this.locInfo(f)}}function k(a,b,c,e){d(a,c),e=this.locInfo(e);var f={type:\"Program\",body:b,strip:{},loc:e};return{type:\"BlockStatement\",path:a.path,params:a.params,hash:a.hash,program:f,openStrip:{},inverseStrip:{},closeStrip:{},loc:e}}function l(a,b,c,e,f,g){e&&e.path&&d(a,e);var h=/\\*/.test(a.open);b.blockParams=a.blockParams;var i=void 0,j=void 0;if(c){if(h)throw new q[\"default\"](\"Unexpected inverse block on decorator\",c);c.chain&&(c.program.body[0].closeStrip=e.strip),j=c.strip,i=c.program}return f&&(f=i,i=b,b=f),{type:h?\"DecoratorBlock\":\"BlockStatement\",path:a.path,params:a.params,hash:a.hash,program:b,inverse:i,openStrip:a.strip,inverseStrip:j,closeStrip:e&&e.strip,loc:this.locInfo(g)}}function m(a,b){if(!b&&a.length){var c=a[0].loc,d=a[a.length-1].loc;c&&d&&(b={source:c.source,start:{line:c.start.line,column:c.start.column},end:{line:d.end.line,column:d.end.column}})}return{type:\"Program\",body:a,strip:{},loc:b}}function n(a,b,c,e){return d(a,c),{type:\"PartialBlockStatement\",name:a.path,params:a.params,hash:a.hash,program:b,openStrip:a.strip,closeStrip:c&&c.strip,loc:this.locInfo(e)}}var o=c(1)[\"default\"];b.__esModule=!0,b.SourceLocation=e,b.id=f,b.stripFlags=g,b.stripComment=h,b.preparePath=i,b.prepareMustache=j,b.prepareRawBlock=k,b.prepareBlock=l,b.prepareProgram=m,b.preparePartialBlock=n;var p=c(6),q=o(p)},function(a,b,c){\"use strict\";function d(){}function e(a,b,c){if(null==a||\"string\"!=typeof a&&\"Program\"!==a.type)throw new k[\"default\"](\"You must pass a string or Handlebars AST to Handlebars.precompile. You passed \"+a);b=b||{},\"data\"in b||(b.data=!0),b.compat&&(b.useDepths=!0);var d=c.parse(a,b),e=(new c.Compiler).compile(d,b);return(new c.JavaScriptCompiler).compile(e,b)}function f(a,b,c){function d(){var d=c.parse(a,b),e=(new c.Compiler).compile(d,b),f=(new c.JavaScriptCompiler).compile(e,b,void 0,!0);return c.template(f)}function e(a,b){return f||(f=d()),f.call(this,a,b)}if(void 0===b&&(b={}),null==a||\"string\"!=typeof a&&\"Program\"!==a.type)throw new k[\"default\"](\"You must pass a string or Handlebars AST to Handlebars.compile. You passed \"+a);\"data\"in b||(b.data=!0),b.compat&&(b.useDepths=!0);var f=void 0;return e._setup=function(a){return f||(f=d()),f._setup(a)},e._child=function(a,b,c,e){return f||(f=d()),f._child(a,b,c,e)},e}function g(a,b){if(a===b)return!0;if(l.isArray(a)&&l.isArray(b)&&a.length===b.length){for(var c=0;c<a.length;c++)if(!g(a[c],b[c]))return!1;return!0}}function h(a){if(!a.path.parts){var b=a.path;a.path={type:\"PathExpression\",data:!1,depth:0,parts:[b.original+\"\"],original:b.original+\"\",loc:b.loc}}}var i=c(1)[\"default\"];b.__esModule=!0,b.Compiler=d,b.precompile=e,b.compile=f;var j=c(6),k=i(j),l=c(5),m=c(21),n=i(m),o=[].slice;d.prototype={compiler:d,equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;b>c;c++){var d=this.opcodes[c],e=a.opcodes[c];if(d.opcode!==e.opcode||!g(d.args,e.args))return!1}b=this.children.length;for(var c=0;b>c;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=b,this.stringParams=b.stringParams,this.trackIds=b.trackIds,b.blockParams=b.blockParams||[];var c=b.knownHelpers;if(b.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,\"if\":!0,unless:!0,\"with\":!0,log:!0,lookup:!0},c)for(var d in c)d in c&&(b.knownHelpers[d]=c[d]);return this.accept(a)},compileProgram:function(a){var b=new this.compiler,c=b.compile(a,this.options),d=this.guid++;return this.usePartial=this.usePartial||c.usePartial,this.children[d]=c,this.useDepths=this.useDepths||c.useDepths,d},accept:function(a){if(!this[a.type])throw new k[\"default\"](\"Unknown type: \"+a.type,a);this.sourceNode.unshift(a);var b=this[a.type](a);return this.sourceNode.shift(),b},Program:function(a){this.options.blockParams.unshift(a.blockParams);for(var b=a.body,c=b.length,d=0;c>d;d++)this.accept(b[d]);return this.options.blockParams.shift(),this.isSimple=1===c,this.blockParams=a.blockParams?a.blockParams.length:0,this},BlockStatement:function(a){h(a);var b=a.program,c=a.inverse;b=b&&this.compileProgram(b),c=c&&this.compileProgram(c);var d=this.classifySexpr(a);\"helper\"===d?this.helperSexpr(a,b,c):\"simple\"===d?(this.simpleSexpr(a),this.opcode(\"pushProgram\",b),this.opcode(\"pushProgram\",c),this.opcode(\"emptyHash\"),this.opcode(\"blockValue\",a.path.original)):(this.ambiguousSexpr(a,b,c),this.opcode(\"pushProgram\",b),this.opcode(\"pushProgram\",c),this.opcode(\"emptyHash\"),this.opcode(\"ambiguousBlockValue\")),this.opcode(\"append\")},DecoratorBlock:function(a){var b=a.program&&this.compileProgram(a.program),c=this.setupFullMustacheParams(a,b,void 0),d=a.path;this.useDecorators=!0,this.opcode(\"registerDecorator\",c.length,d.original)},PartialStatement:function(a){this.usePartial=!0;var b=a.program;b&&(b=this.compileProgram(a.program));var c=a.params;if(c.length>1)throw new k[\"default\"](\"Unsupported number of partial arguments: \"+c.length,a);c.length||(this.options.explicitPartialContext?this.opcode(\"pushLiteral\",\"undefined\"):c.push({type:\"PathExpression\",parts:[],depth:0}));var d=a.name.original,e=\"SubExpression\"===a.name.type;e&&this.accept(a.name),this.setupFullMustacheParams(a,b,void 0,!0);var f=a.indent||\"\";this.options.preventIndent&&f&&(this.opcode(\"appendContent\",f),f=\"\"),this.opcode(\"invokePartial\",e,d,f),this.opcode(\"append\")},PartialBlockStatement:function(a){this.PartialStatement(a)},MustacheStatement:function(a){this.SubExpression(a),a.escaped&&!this.options.noEscape?this.opcode(\"appendEscaped\"):this.opcode(\"append\")},Decorator:function(a){this.DecoratorBlock(a)},ContentStatement:function(a){a.value&&this.opcode(\"appendContent\",a.value)},CommentStatement:function(){},SubExpression:function(a){h(a);var b=this.classifySexpr(a);\"simple\"===b?this.simpleSexpr(a):\"helper\"===b?this.helperSexpr(a):this.ambiguousSexpr(a)},ambiguousSexpr:function(a,b,c){var d=a.path,e=d.parts[0],f=null!=b||null!=c;this.opcode(\"getContext\",d.depth),this.opcode(\"pushProgram\",b),this.opcode(\"pushProgram\",c),d.strict=!0,this.accept(d),this.opcode(\"invokeAmbiguous\",e,f)},simpleSexpr:function(a){var b=a.path;b.strict=!0,this.accept(b),this.opcode(\"resolvePossibleLambda\")},helperSexpr:function(a,b,c){var d=this.setupFullMustacheParams(a,b,c),e=a.path,f=e.parts[0];if(this.options.knownHelpers[f])this.opcode(\"invokeKnownHelper\",d.length,f);else{if(this.options.knownHelpersOnly)throw new k[\"default\"](\"You specified knownHelpersOnly, but used the unknown helper \"+f,a);e.strict=!0,e.falsy=!0,this.accept(e),this.opcode(\"invokeHelper\",d.length,e.original,n[\"default\"].helpers.simpleId(e))}},PathExpression:function(a){this.addDepth(a.depth),this.opcode(\"getContext\",a.depth);var b=a.parts[0],c=n[\"default\"].helpers.scopedId(a),d=!a.depth&&!c&&this.blockParamIndex(b);d?this.opcode(\"lookupBlockParam\",d,a.parts):b?a.data?(this.options.data=!0,this.opcode(\"lookupData\",a.depth,a.parts,a.strict)):this.opcode(\"lookupOnContext\",a.parts,a.falsy,a.strict,c):this.opcode(\"pushContext\")},StringLiteral:function(a){this.opcode(\"pushString\",a.value)},NumberLiteral:function(a){this.opcode(\"pushLiteral\",a.value)},BooleanLiteral:function(a){this.opcode(\"pushLiteral\",a.value)},UndefinedLiteral:function(){this.opcode(\"pushLiteral\",\"undefined\")},NullLiteral:function(){this.opcode(\"pushLiteral\",\"null\")},Hash:function(a){var b=a.pairs,c=0,d=b.length;for(this.opcode(\"pushHash\");d>c;c++)this.pushParam(b[c].value);for(;c--;)this.opcode(\"assignToHash\",b[c].key);this.opcode(\"popHash\")},opcode:function(a){this.opcodes.push({opcode:a,args:o.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(a){a&&(this.useDepths=!0)},classifySexpr:function(a){var b=n[\"default\"].helpers.simpleId(a.path),c=b&&!!this.blockParamIndex(a.path.parts[0]),d=!c&&n[\"default\"].helpers.helperExpression(a),e=!c&&(d||b);if(e&&!d){var f=a.path.parts[0],g=this.options;g.knownHelpers[f]?d=!0:g.knownHelpersOnly&&(e=!1)}return d?\"helper\":e?\"ambiguous\":\"simple\"},pushParams:function(a){for(var b=0,c=a.length;c>b;b++)this.pushParam(a[b])},pushParam:function(a){var b=null!=a.value?a.value:a.original||\"\";if(this.stringParams)b.replace&&(b=b.replace(/^(\\.?\\.\\/)*/g,\"\").replace(/\\//g,\".\")),a.depth&&this.addDepth(a.depth),this.opcode(\"getContext\",a.depth||0),this.opcode(\"pushStringParam\",b,a.type),\"SubExpression\"===a.type&&this.accept(a);else{if(this.trackIds){var c=void 0;if(!a.parts||n[\"default\"].helpers.scopedId(a)||a.depth||(c=this.blockParamIndex(a.parts[0])),c){var d=a.parts.slice(1).join(\".\");this.opcode(\"pushId\",\"BlockParam\",c,d)}else b=a.original||b,b.replace&&(b=b.replace(/^this(?:\\.|$)/,\"\").replace(/^\\.\\//,\"\").replace(/^\\.$/,\"\")),this.opcode(\"pushId\",a.type,b)}this.accept(a)}},setupFullMustacheParams:function(a,b,c,d){var e=a.params;return this.pushParams(e),this.opcode(\"pushProgram\",b),this.opcode(\"pushProgram\",c),a.hash?this.accept(a.hash):this.opcode(\"emptyHash\",d),e},blockParamIndex:function(a){for(var b=0,c=this.options.blockParams.length;c>b;b++){var d=this.options.blockParams[b],e=d&&l.indexOf(d,a);if(d&&e>=0)return[b,e]}}}},function(a,b,c){\"use strict\";function d(a){this.value=a}function e(){}function f(a,b,c,d){var e=b.popStack(),f=0,g=c.length;for(a&&g--;g>f;f++)e=b.nameLookup(e,c[f],d);return a?[b.aliasable(\"container.strict\"),\"(\",e,\", \",b.quotedString(c[f]),\")\"]:e}var g=c(1)[\"default\"];b.__esModule=!0;var h=c(4),i=c(6),j=g(i),k=c(5),l=c(29),m=g(l);e.prototype={nameLookup:function(a,b){return e.isValidJavaScriptVariableName(b)?[a,\".\",b]:[a,\"[\",JSON.stringify(b),\"]\"]},depthedLookup:function(a){return[this.aliasable(\"container.lookup\"),'(depths, \"',a,'\")']},compilerInfo:function(){var a=h.COMPILER_REVISION,b=h.REVISION_CHANGES[a];return[a,b]},appendToBuffer:function(a,b,c){return k.isArray(a)||(a=[a]),a=this.source.wrap(a,b),this.environment.isSimple?[\"return \",a,\";\"]:c?[\"buffer += \",a,\";\"]:(a.appendToBuffer=!0,a)},initializeBuffer:function(){return this.quotedString(\"\")},compile:function(a,b,c,d){this.environment=a,this.options=b,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!d,this.name=this.environment.name,this.isChild=!!c,this.context=c||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(a,b),this.useDepths=this.useDepths||a.useDepths||a.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||a.useBlockParams;var e=a.opcodes,f=void 0,g=void 0,h=void 0,i=void 0;for(h=0,i=e.length;i>h;h++)f=e[h],this.source.currentLocation=f.loc,g=g||f.loc,this[f.opcode].apply(this,f.args);if(this.source.currentLocation=g,this.pushSource(\"\"),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new j[\"default\"](\"Compile completed with content left on stack\");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(\"var decorators = container.decorators;\\n\"),this.decorators.push(\"return fn;\"),d?this.decorators=Function.apply(this,[\"fn\",\"props\",\"container\",\"depth0\",\"data\",\"blockParams\",\"depths\",this.decorators.merge()]):(this.decorators.prepend(\"function(fn, props, container, depth0, data, blockParams, depths) {\\n\"),this.decorators.push(\"}\\n\"),this.decorators=this.decorators.merge()));var k=this.createFunctionContext(d);if(this.isChild)return k;var l={compiler:this.compilerInfo(),main:k};this.decorators&&(l.main_d=this.decorators,l.useDecorators=!0);var m=this.context,n=m.programs,o=m.decorators;for(h=0,i=n.length;i>h;h++)n[h]&&(l[h]=n[h],o[h]&&(l[h+\"_d\"]=o[h],l.useDecorators=!0));return this.environment.usePartial&&(l.usePartial=!0),this.options.data&&(l.useData=!0),this.useDepths&&(l.useDepths=!0),this.useBlockParams&&(l.useBlockParams=!0),this.options.compat&&(l.compat=!0),d?l.compilerOptions=this.options:(l.compiler=JSON.stringify(l.compiler),this.source.currentLocation={start:{line:1,column:0}},l=this.objectLiteral(l),b.srcName?(l=l.toStringWithSourceMap({file:b.destName}),l.map=l.map&&l.map.toString()):l=l.toString()),l},preamble:function(){this.lastContext=0,this.source=new m[\"default\"](this.options.srcName),this.decorators=new m[\"default\"](this.options.srcName)},createFunctionContext:function(a){var b=\"\",c=this.stackVars.concat(this.registers.list);c.length>0&&(b+=\", \"+c.join(\", \"));var d=0;for(var e in this.aliases){var f=this.aliases[e];this.aliases.hasOwnProperty(e)&&f.children&&f.referenceCount>1&&(b+=\", alias\"+ ++d+\"=\"+e,f.children[0]=\"alias\"+d)}var g=[\"container\",\"depth0\",\"helpers\",\"partials\",\"data\"];(this.useBlockParams||this.useDepths)&&g.push(\"blockParams\"),this.useDepths&&g.push(\"depths\");var h=this.mergeSource(b);return a?(g.push(h),Function.apply(this,g)):this.source.wrap([\"function(\",g.join(\",\"),\") {\\n  \",h,\"}\"])},mergeSource:function(a){var b=this.environment.isSimple,c=!this.forceBuffer,d=void 0,e=void 0,f=void 0,g=void 0;return this.source.each(function(a){a.appendToBuffer?(f?a.prepend(\"  + \"):f=a,g=a):(f&&(e?f.prepend(\"buffer += \"):d=!0,g.add(\";\"),f=g=void 0),e=!0,b||(c=!1))}),c?f?(f.prepend(\"return \"),g.add(\";\")):e||this.source.push('return \"\";'):(a+=\", buffer = \"+(d?\"\":this.initializeBuffer()),f?(f.prepend(\"return buffer + \"),g.add(\";\")):this.source.push(\"return buffer;\")),a&&this.source.prepend(\"var \"+a.substring(2)+(d?\"\":\";\\n\")),this.source.merge()},blockValue:function(a){var b=this.aliasable(\"helpers.blockHelperMissing\"),c=[this.contextName(0)];this.setupHelperArgs(a,0,c);var d=this.popStack();c.splice(1,0,d),this.push(this.source.functionCall(b,\"call\",c))},ambiguousBlockValue:function(){var a=this.aliasable(\"helpers.blockHelperMissing\"),b=[this.contextName(0)];this.setupHelperArgs(\"\",0,b,!0),this.flushInline();var c=this.topStack();b.splice(1,0,c),this.pushSource([\"if (!\",this.lastHelper,\") { \",c,\" = \",this.source.functionCall(a,\"call\",b),\"}\"])},appendContent:function(a){this.pendingContent?a=this.pendingContent+a:this.pendingLocation=this.source.currentLocation,this.pendingContent=a},append:function(){if(this.isInline())this.replaceStack(function(a){return[\" != null ? \",a,' : \"\"']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var a=this.popStack();this.pushSource([\"if (\",a,\" != null) { \",this.appendToBuffer(a,void 0,!0),\" }\"]),this.environment.isSimple&&this.pushSource([\"else { \",this.appendToBuffer(\"''\",void 0,!0),\" }\"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable(\"container.escapeExpression\"),\"(\",this.popStack(),\")\"]))},getContext:function(a){this.lastContext=a},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(a,b,c,d){var e=0;d||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(a[e++])),this.resolvePath(\"context\",a,e,b,c)},lookupBlockParam:function(a,b){this.useBlockParams=!0,this.push([\"blockParams[\",a[0],\"][\",a[1],\"]\"]),this.resolvePath(\"context\",b,1)},lookupData:function(a,b,c){a?this.pushStackLiteral(\"container.data(data, \"+a+\")\"):this.pushStackLiteral(\"data\"),this.resolvePath(\"data\",b,0,!0,c)},resolvePath:function(a,b,c,d,e){var g=this;if(this.options.strict||this.options.assumeObjects)return void this.push(f(this.options.strict&&e,this,b,a));for(var h=b.length;h>c;c++)this.replaceStack(function(e){var f=g.nameLookup(e,b[c],a);return d?[\" && \",f]:[\" != null ? \",f,\" : \",e]})},resolvePossibleLambda:function(){this.push([this.aliasable(\"container.lambda\"),\"(\",this.popStack(),\", \",this.contextName(0),\")\"])},pushStringParam:function(a,b){this.pushContext(),this.pushString(b),\"SubExpression\"!==b&&(\"string\"==typeof a?this.pushString(a):this.pushStackLiteral(a))},emptyHash:function(a){this.trackIds&&this.push(\"{}\"),this.stringParams&&(this.push(\"{}\"),this.push(\"{}\")),this.pushStackLiteral(a?\"undefined\":\"{}\")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var a=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(a.ids)),this.stringParams&&(this.push(this.objectLiteral(a.contexts)),this.push(this.objectLiteral(a.types))),this.push(this.objectLiteral(a.values))},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},registerDecorator:function(a,b){var c=this.nameLookup(\"decorators\",b,\"decorator\"),d=this.setupHelperArgs(b,a);this.decorators.push([\"fn = \",this.decorators.functionCall(c,\"\",[\"fn\",\"props\",\"container\",d]),\" || fn;\"])},invokeHelper:function(a,b,c){var d=this.popStack(),e=this.setupHelper(a,b),f=c?[e.name,\" || \"]:\"\",g=[\"(\"].concat(f,d);this.options.strict||g.push(\" || \",this.aliasable(\"helpers.helperMissing\")),g.push(\")\"),this.push(this.source.functionCall(g,\"call\",e.callParams))},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(this.source.functionCall(c.name,\"call\",c.callParams))},invokeAmbiguous:function(a,b){this.useRegister(\"helper\");var c=this.popStack();this.emptyHash();var d=this.setupHelper(0,a,b),e=this.lastHelper=this.nameLookup(\"helpers\",a,\"helper\"),f=[\"(\",\"(helper = \",e,\" || \",c,\")\"];this.options.strict||(f[0]=\"(helper = \",f.push(\" != null ? helper : \",this.aliasable(\"helpers.helperMissing\"))),this.push([\"(\",f,d.paramsInit?[\"),(\",d.paramsInit]:[],\"),\",\"(typeof helper === \",this.aliasable('\"function\"'),\" ? \",this.source.functionCall(\"helper\",\"call\",d.callParams),\" : helper))\"])},invokePartial:function(a,b,c){var d=[],e=this.setupParams(b,1,d);a&&(b=this.popStack(),delete e.name),c&&(e.indent=JSON.stringify(c)),e.helpers=\"helpers\",e.partials=\"partials\",e.decorators=\"container.decorators\",a?d.unshift(b):d.unshift(this.nameLookup(\"partials\",b,\"partial\")),this.options.compat&&(e.depths=\"depths\"),e=this.objectLiteral(e),\nd.push(e),this.push(this.source.functionCall(\"container.invokePartial\",\"\",d))},assignToHash:function(a){var b=this.popStack(),c=void 0,d=void 0,e=void 0;this.trackIds&&(e=this.popStack()),this.stringParams&&(d=this.popStack(),c=this.popStack());var f=this.hash;c&&(f.contexts[a]=c),d&&(f.types[a]=d),e&&(f.ids[a]=e),f.values[a]=b},pushId:function(a,b,c){\"BlockParam\"===a?this.pushStackLiteral(\"blockParams[\"+b[0]+\"].path[\"+b[1]+\"]\"+(c?\" + \"+JSON.stringify(\".\"+c):\"\")):\"PathExpression\"===a?this.pushString(b):\"SubExpression\"===a?this.pushStackLiteral(\"true\"):this.pushStackLiteral(\"null\")},compiler:e,compileChildren:function(a,b){for(var c=a.children,d=void 0,e=void 0,f=0,g=c.length;g>f;f++){d=c[f],e=new this.compiler;var h=this.matchExistingProgram(d);null==h?(this.context.programs.push(\"\"),h=this.context.programs.length,d.index=h,d.name=\"program\"+h,this.context.programs[h]=e.compile(d,b,this.context,!this.precompile),this.context.decorators[h]=e.decorators,this.context.environments[h]=d,this.useDepths=this.useDepths||e.useDepths,this.useBlockParams=this.useBlockParams||e.useBlockParams):(d.index=h,d.name=\"program\"+h,this.useDepths=this.useDepths||d.useDepths,this.useBlockParams=this.useBlockParams||d.useBlockParams)}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;c>b;b++){var d=this.context.environments[b];if(d&&d.equals(a))return b}},programExpression:function(a){var b=this.environment.children[a],c=[b.index,\"data\",b.blockParams];return(this.useBlockParams||this.useDepths)&&c.push(\"blockParams\"),this.useDepths&&c.push(\"depths\"),\"container.program(\"+c.join(\", \")+\")\"},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},push:function(a){return a instanceof d||(a=this.source.wrap(a)),this.inlineStack.push(a),a},pushStackLiteral:function(a){this.push(new d(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),a&&this.source.push(a)},replaceStack:function(a){var b=[\"(\"],c=void 0,e=void 0,f=void 0;if(!this.isInline())throw new j[\"default\"](\"replaceStack on non-inline\");var g=this.popStack(!0);if(g instanceof d)c=[g.value],b=[\"(\",c],f=!0;else{e=!0;var h=this.incrStack();b=[\"((\",this.push(h),\" = \",g,\")\"],c=this.topStack()}var i=a.call(this,c);f||this.popStack(),e&&this.stackSlot--,this.push(b.concat(i,\")\"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push(\"stack\"+this.stackSlot),this.topStackName()},topStackName:function(){return\"stack\"+this.stackSlot},flushInline:function(){var a=this.inlineStack;this.inlineStack=[];for(var b=0,c=a.length;c>b;b++){var e=a[b];if(e instanceof d)this.compileStack.push(e);else{var f=this.incrStack();this.pushSource([f,\" = \",e,\";\"]),this.compileStack.push(f)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),c=(b?this.inlineStack:this.compileStack).pop();if(!a&&c instanceof d)return c.value;if(!b){if(!this.stackSlot)throw new j[\"default\"](\"Invalid stack pop\");this.stackSlot--}return c},topStack:function(){var a=this.isInline()?this.inlineStack:this.compileStack,b=a[a.length-1];return b instanceof d?b.value:b},contextName:function(a){return this.useDepths&&a?\"depths[\"+a+\"]\":\"depth\"+a},quotedString:function(a){return this.source.quotedString(a)},objectLiteral:function(a){return this.source.objectLiteral(a)},aliasable:function(a){var b=this.aliases[a];return b?(b.referenceCount++,b):(b=this.aliases[a]=this.source.wrap(a),b.aliasable=!0,b.referenceCount=1,b)},setupHelper:function(a,b,c){var d=[],e=this.setupHelperArgs(b,a,d,c),f=this.nameLookup(\"helpers\",b,\"helper\"),g=this.aliasable(this.contextName(0)+\" != null ? \"+this.contextName(0)+\" : {}\");return{params:d,paramsInit:e,name:f,callParams:[g].concat(d)}},setupParams:function(a,b,c){var d={},e=[],f=[],g=[],h=!c,i=void 0;h&&(c=[]),d.name=this.quotedString(a),d.hash=this.popStack(),this.trackIds&&(d.hashIds=this.popStack()),this.stringParams&&(d.hashTypes=this.popStack(),d.hashContexts=this.popStack());var j=this.popStack(),k=this.popStack();(k||j)&&(d.fn=k||\"container.noop\",d.inverse=j||\"container.noop\");for(var l=b;l--;)i=this.popStack(),c[l]=i,this.trackIds&&(g[l]=this.popStack()),this.stringParams&&(f[l]=this.popStack(),e[l]=this.popStack());return h&&(d.args=this.source.generateArray(c)),this.trackIds&&(d.ids=this.source.generateArray(g)),this.stringParams&&(d.types=this.source.generateArray(f),d.contexts=this.source.generateArray(e)),this.options.data&&(d.data=\"data\"),this.useBlockParams&&(d.blockParams=\"blockParams\"),d},setupHelperArgs:function(a,b,c,d){var e=this.setupParams(a,b,c);return e=this.objectLiteral(e),d?(this.useRegister(\"options\"),c.push(\"options\"),[\"options=\",e]):c?(c.push(e),\"\"):e}},function(){for(var a=\"break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false\".split(\" \"),b=e.RESERVED_WORDS={},c=0,d=a.length;d>c;c++)b[a[c]]=!0}(),e.isValidJavaScriptVariableName=function(a){return!e.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a)},b[\"default\"]=e,a.exports=b[\"default\"]},function(a,b,c){\"use strict\";function d(a,b,c){if(f.isArray(a)){for(var d=[],e=0,g=a.length;g>e;e++)d.push(b.wrap(a[e],c));return d}return\"boolean\"==typeof a||\"number\"==typeof a?a+\"\":a}function e(a){this.srcFile=a,this.source=[]}b.__esModule=!0;var f=c(5),g=void 0;try{}catch(h){}g||(g=function(a,b,c,d){this.src=\"\",d&&this.add(d)},g.prototype={add:function(a){f.isArray(a)&&(a=a.join(\"\")),this.src+=a},prepend:function(a){f.isArray(a)&&(a=a.join(\"\")),this.src=a+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),e.prototype={isEmpty:function(){return!this.source.length},prepend:function(a,b){this.source.unshift(this.wrap(a,b))},push:function(a,b){this.source.push(this.wrap(a,b))},merge:function(){var a=this.empty();return this.each(function(b){a.add([\"  \",b,\"\\n\"])}),a},each:function(a){for(var b=0,c=this.source.length;c>b;b++)a(this.source[b])},empty:function(){var a=this.currentLocation||{start:{}};return new g(a.start.line,a.start.column,this.srcFile)},wrap:function(a){var b=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return a instanceof g?a:(a=d(a,this,b),new g(b.start.line,b.start.column,this.srcFile,a))},functionCall:function(a,b,c){return c=this.generateList(c),this.wrap([a,b?\".\"+b+\"(\":\"(\",c,\")\"])},quotedString:function(a){return'\"'+(a+\"\").replace(/\\\\/g,\"\\\\\\\\\").replace(/\"/g,'\\\\\"').replace(/\\n/g,\"\\\\n\").replace(/\\r/g,\"\\\\r\").replace(/\\u2028/g,\"\\\\u2028\").replace(/\\u2029/g,\"\\\\u2029\")+'\"'},objectLiteral:function(a){var b=[];for(var c in a)if(a.hasOwnProperty(c)){var e=d(a[c],this);\"undefined\"!==e&&b.push([this.quotedString(c),\":\",e])}var f=this.generateList(b);return f.prepend(\"{\"),f.add(\"}\"),f},generateList:function(a){for(var b=this.empty(),c=0,e=a.length;e>c;c++)c&&b.add(\",\"),b.add(d(a[c],this));return b},generateArray:function(a){var b=this.generateList(a);return b.prepend(\"[\"),b.add(\"]\"),b}},b[\"default\"]=e,a.exports=b[\"default\"]}])});\n},{}],89:[function(require,module,exports){\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates a function that invokes `func` with the `this` binding of the\n * created function and arguments from `start` and beyond provided as an array.\n *\n * **Note:** This method is based on the [rest parameter](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters).\n *\n * @static\n * @memberOf _\n * @category Function\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n * @example\n *\n * var say = _.restParam(function(what, names) {\n *   return what + ' ' + _.initial(names).join(', ') +\n *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n * });\n *\n * say('hello', 'fred', 'barney', 'pebbles');\n * // => 'hello fred, barney, & pebbles'\n */\nfunction restParam(func, start) {\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  start = nativeMax(start === undefined ? (func.length - 1) : (+start || 0), 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        rest = Array(length);\n\n    while (++index < length) {\n      rest[index] = args[start + index];\n    }\n    switch (start) {\n      case 0: return func.call(this, rest);\n      case 1: return func.call(this, args[0], rest);\n      case 2: return func.call(this, args[0], args[1], rest);\n    }\n    var otherArgs = Array(start + 1);\n    index = -1;\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = rest;\n    return func.apply(this, otherArgs);\n  };\n}\n\nmodule.exports = restParam;\n\n},{}],90:[function(require,module,exports){\n(function (global){\nvar cachePush = require('./cachePush'),\n    getNative = require('./getNative');\n\n/** Native method references. */\nvar Set = getNative(global, 'Set');\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeCreate = getNative(Object, 'create');\n\n/**\n *\n * Creates a cache object to store unique values.\n *\n * @private\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var length = values ? values.length : 0;\n\n  this.data = { 'hash': nativeCreate(null), 'set': new Set };\n  while (length--) {\n    this.push(values[length]);\n  }\n}\n\n// Add functions to the `Set` cache.\nSetCache.prototype.push = cachePush;\n\nmodule.exports = SetCache;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./cachePush\":111,\"./getNative\":116}],91:[function(require,module,exports){\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction arrayCopy(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayCopy;\n\n},{}],92:[function(require,module,exports){\n/**\n * A specialized version of `_.forEach` for arrays without support for callback\n * shorthands and `this` binding.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n\n},{}],93:[function(require,module,exports){\n/**\n * A specialized version of `_.map` for arrays without support for callback\n * shorthands and `this` binding.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n\n},{}],94:[function(require,module,exports){\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n\n},{}],95:[function(require,module,exports){\nvar keys = require('../object/keys');\n\n/**\n * A specialized version of `_.assign` for customizing assigned values without\n * support for argument juggling, multiple sources, and `this` binding `customizer`\n * functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {Function} customizer The function to customize assigned values.\n * @returns {Object} Returns `object`.\n */\nfunction assignWith(object, source, customizer) {\n  var index = -1,\n      props = keys(source),\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index],\n        value = object[key],\n        result = customizer(value, source[key], key, object, source);\n\n    if ((result === result ? (result !== value) : (value === value)) ||\n        (value === undefined && !(key in object))) {\n      object[key] = result;\n    }\n  }\n  return object;\n}\n\nmodule.exports = assignWith;\n\n},{\"../object/keys\":140}],96:[function(require,module,exports){\nvar baseCopy = require('./baseCopy'),\n    keys = require('../object/keys');\n\n/**\n * The base implementation of `_.assign` without support for argument juggling,\n * multiple sources, and `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return source == null\n    ? object\n    : baseCopy(source, keys(source), object);\n}\n\nmodule.exports = baseAssign;\n\n},{\"../object/keys\":140,\"./baseCopy\":98}],97:[function(require,module,exports){\nvar arrayCopy = require('./arrayCopy'),\n    arrayEach = require('./arrayEach'),\n    baseAssign = require('./baseAssign'),\n    baseForOwn = require('./baseForOwn'),\n    initCloneArray = require('./initCloneArray'),\n    initCloneByTag = require('./initCloneByTag'),\n    initCloneObject = require('./initCloneObject'),\n    isArray = require('../lang/isArray'),\n    isObject = require('../lang/isObject');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[boolTag] =\ncloneableTags[dateTag] = cloneableTags[float32Tag] =\ncloneableTags[float64Tag] = cloneableTags[int8Tag] =\ncloneableTags[int16Tag] = cloneableTags[int32Tag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[stringTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[mapTag] = cloneableTags[setTag] =\ncloneableTags[weakMapTag] = false;\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/**\n * The base implementation of `_.clone` without support for argument juggling\n * and `this` binding `customizer` functions.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @param {Function} [customizer] The function to customize cloning values.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The object `value` belongs to.\n * @param {Array} [stackA=[]] Tracks traversed source objects.\n * @param {Array} [stackB=[]] Associates clones with source counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, isDeep, customizer, key, object, stackA, stackB) {\n  var result;\n  if (customizer) {\n    result = object ? customizer(value, key, object) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return arrayCopy(value, result);\n    }\n  } else {\n    var tag = objToString.call(value),\n        isFunc = tag == funcTag;\n\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      result = initCloneObject(isFunc ? {} : value);\n      if (!isDeep) {\n        return baseAssign(result, value);\n      }\n    } else {\n      return cloneableTags[tag]\n        ? initCloneByTag(value, tag, isDeep)\n        : (object ? value : {});\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stackA || (stackA = []);\n  stackB || (stackB = []);\n\n  var length = stackA.length;\n  while (length--) {\n    if (stackA[length] == value) {\n      return stackB[length];\n    }\n  }\n  // Add the source value to the stack of traversed objects and associate it with its clone.\n  stackA.push(value);\n  stackB.push(result);\n\n  // Recursively populate clone (susceptible to call stack limits).\n  (isArr ? arrayEach : baseForOwn)(value, function(subValue, key) {\n    result[key] = baseClone(subValue, isDeep, customizer, key, value, stackA, stackB);\n  });\n  return result;\n}\n\nmodule.exports = baseClone;\n\n},{\"../lang/isArray\":132,\"../lang/isObject\":135,\"./arrayCopy\":91,\"./arrayEach\":92,\"./baseAssign\":96,\"./baseForOwn\":103,\"./initCloneArray\":118,\"./initCloneByTag\":119,\"./initCloneObject\":120}],98:[function(require,module,exports){\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property names to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @returns {Object} Returns `object`.\n */\nfunction baseCopy(source, props, object) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n    object[key] = source[key];\n  }\n  return object;\n}\n\nmodule.exports = baseCopy;\n\n},{}],99:[function(require,module,exports){\nvar baseIndexOf = require('./baseIndexOf'),\n    cacheIndexOf = require('./cacheIndexOf'),\n    createCache = require('./createCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.difference` which accepts a single array\n * of values to exclude.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values) {\n  var length = array ? array.length : 0,\n      result = [];\n\n  if (!length) {\n    return result;\n  }\n  var index = -1,\n      indexOf = baseIndexOf,\n      isCommon = true,\n      cache = (isCommon && values.length >= LARGE_ARRAY_SIZE) ? createCache(values) : null,\n      valuesLength = values.length;\n\n  if (cache) {\n    indexOf = cacheIndexOf;\n    isCommon = false;\n    values = cache;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index];\n\n    if (isCommon && value === value) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === value) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (indexOf(values, value, 0) < 0) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseDifference;\n\n},{\"./baseIndexOf\":104,\"./cacheIndexOf\":110,\"./createCache\":114}],100:[function(require,module,exports){\nvar arrayPush = require('./arrayPush'),\n    isArguments = require('../lang/isArguments'),\n    isArray = require('../lang/isArray'),\n    isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.flatten` with added support for restricting\n * flattening and specifying the start index.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {boolean} [isDeep] Specify a deep flatten.\n * @param {boolean} [isStrict] Restrict flattening to arrays-like objects.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, isDeep, isStrict, result) {\n  result || (result = []);\n\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    if (isObjectLike(value) && isArrayLike(value) &&\n        (isStrict || isArray(value) || isArguments(value))) {\n      if (isDeep) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, isDeep, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n\n},{\"../lang/isArguments\":131,\"../lang/isArray\":132,\"./arrayPush\":94,\"./isArrayLike\":121,\"./isObjectLike\":125}],101:[function(require,module,exports){\nvar createBaseFor = require('./createBaseFor');\n\n/**\n * The base implementation of `baseForIn` and `baseForOwn` which iterates\n * over `object` properties returned by `keysFunc` invoking `iteratee` for\n * each property. Iteratee functions may exit iteration early by explicitly\n * returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n\n},{\"./createBaseFor\":113}],102:[function(require,module,exports){\nvar baseFor = require('./baseFor'),\n    keysIn = require('../object/keysIn');\n\n/**\n * The base implementation of `_.forIn` without support for callback\n * shorthands and `this` binding.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForIn(object, iteratee) {\n  return baseFor(object, iteratee, keysIn);\n}\n\nmodule.exports = baseForIn;\n\n},{\"../object/keysIn\":141,\"./baseFor\":101}],103:[function(require,module,exports){\nvar baseFor = require('./baseFor'),\n    keys = require('../object/keys');\n\n/**\n * The base implementation of `_.forOwn` without support for callback\n * shorthands and `this` binding.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n\n},{\"../object/keys\":140,\"./baseFor\":101}],104:[function(require,module,exports){\nvar indexOfNaN = require('./indexOfNaN');\n\n/**\n * The base implementation of `_.indexOf` without support for binary searches.\n *\n * @private\n * @param {Array} array The array to search.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  if (value !== value) {\n    return indexOfNaN(array, fromIndex);\n  }\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseIndexOf;\n\n},{\"./indexOfNaN\":117}],105:[function(require,module,exports){\nvar arrayEach = require('./arrayEach'),\n    baseMergeDeep = require('./baseMergeDeep'),\n    isArray = require('../lang/isArray'),\n    isArrayLike = require('./isArrayLike'),\n    isObject = require('../lang/isObject'),\n    isObjectLike = require('./isObjectLike'),\n    isTypedArray = require('../lang/isTypedArray'),\n    keys = require('../object/keys');\n\n/**\n * The base implementation of `_.merge` without support for argument juggling,\n * multiple sources, and `this` binding `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Array} [stackA=[]] Tracks traversed source objects.\n * @param {Array} [stackB=[]] Associates values with source counterparts.\n * @returns {Object} Returns `object`.\n */\nfunction baseMerge(object, source, customizer, stackA, stackB) {\n  if (!isObject(object)) {\n    return object;\n  }\n  var isSrcArr = isArrayLike(source) && (isArray(source) || isTypedArray(source)),\n      props = isSrcArr ? undefined : keys(source);\n\n  arrayEach(props || source, function(srcValue, key) {\n    if (props) {\n      key = srcValue;\n      srcValue = source[key];\n    }\n    if (isObjectLike(srcValue)) {\n      stackA || (stackA = []);\n      stackB || (stackB = []);\n      baseMergeDeep(object, source, key, baseMerge, customizer, stackA, stackB);\n    }\n    else {\n      var value = object[key],\n          result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n          isCommon = result === undefined;\n\n      if (isCommon) {\n        result = srcValue;\n      }\n      if ((result !== undefined || (isSrcArr && !(key in object))) &&\n          (isCommon || (result === result ? (result !== value) : (value === value)))) {\n        object[key] = result;\n      }\n    }\n  });\n  return object;\n}\n\nmodule.exports = baseMerge;\n\n},{\"../lang/isArray\":132,\"../lang/isObject\":135,\"../lang/isTypedArray\":137,\"../object/keys\":140,\"./arrayEach\":92,\"./baseMergeDeep\":106,\"./isArrayLike\":121,\"./isObjectLike\":125}],106:[function(require,module,exports){\nvar arrayCopy = require('./arrayCopy'),\n    isArguments = require('../lang/isArguments'),\n    isArray = require('../lang/isArray'),\n    isArrayLike = require('./isArrayLike'),\n    isPlainObject = require('../lang/isPlainObject'),\n    isTypedArray = require('../lang/isTypedArray'),\n    toPlainObject = require('../lang/toPlainObject');\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Array} [stackA=[]] Tracks traversed source objects.\n * @param {Array} [stackB=[]] Associates values with source counterparts.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseMergeDeep(object, source, key, mergeFunc, customizer, stackA, stackB) {\n  var length = stackA.length,\n      srcValue = source[key];\n\n  while (length--) {\n    if (stackA[length] == srcValue) {\n      object[key] = stackB[length];\n      return;\n    }\n  }\n  var value = object[key],\n      result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n      isCommon = result === undefined;\n\n  if (isCommon) {\n    result = srcValue;\n    if (isArrayLike(srcValue) && (isArray(srcValue) || isTypedArray(srcValue))) {\n      result = isArray(value)\n        ? value\n        : (isArrayLike(value) ? arrayCopy(value) : []);\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      result = isArguments(value)\n        ? toPlainObject(value)\n        : (isPlainObject(value) ? value : {});\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  // Add the source value to the stack of traversed objects and associate\n  // it with its merged value.\n  stackA.push(srcValue);\n  stackB.push(result);\n\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    object[key] = mergeFunc(result, srcValue, customizer, stackA, stackB);\n  } else if (result === result ? (result !== value) : (value === value)) {\n    object[key] = result;\n  }\n}\n\nmodule.exports = baseMergeDeep;\n\n},{\"../lang/isArguments\":131,\"../lang/isArray\":132,\"../lang/isPlainObject\":136,\"../lang/isTypedArray\":137,\"../lang/toPlainObject\":138,\"./arrayCopy\":91,\"./isArrayLike\":121}],107:[function(require,module,exports){\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n\n},{}],108:[function(require,module,exports){\nvar identity = require('../utility/identity');\n\n/**\n * A specialized version of `baseCallback` which only supports `this` binding\n * and specifying the number of arguments to provide to `func`.\n *\n * @private\n * @param {Function} func The function to bind.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {number} [argCount] The number of arguments to provide to `func`.\n * @returns {Function} Returns the callback.\n */\nfunction bindCallback(func, thisArg, argCount) {\n  if (typeof func != 'function') {\n    return identity;\n  }\n  if (thisArg === undefined) {\n    return func;\n  }\n  switch (argCount) {\n    case 1: return function(value) {\n      return func.call(thisArg, value);\n    };\n    case 3: return function(value, index, collection) {\n      return func.call(thisArg, value, index, collection);\n    };\n    case 4: return function(accumulator, value, index, collection) {\n      return func.call(thisArg, accumulator, value, index, collection);\n    };\n    case 5: return function(value, other, key, object, source) {\n      return func.call(thisArg, value, other, key, object, source);\n    };\n  }\n  return function() {\n    return func.apply(thisArg, arguments);\n  };\n}\n\nmodule.exports = bindCallback;\n\n},{\"../utility/identity\":144}],109:[function(require,module,exports){\n(function (global){\n/** Native method references. */\nvar ArrayBuffer = global.ArrayBuffer,\n    Uint8Array = global.Uint8Array;\n\n/**\n * Creates a clone of the given array buffer.\n *\n * @private\n * @param {ArrayBuffer} buffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction bufferClone(buffer) {\n  var result = new ArrayBuffer(buffer.byteLength),\n      view = new Uint8Array(result);\n\n  view.set(new Uint8Array(buffer));\n  return result;\n}\n\nmodule.exports = bufferClone;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],110:[function(require,module,exports){\nvar isObject = require('../lang/isObject');\n\n/**\n * Checks if `value` is in `cache` mimicking the return signature of\n * `_.indexOf` by returning `0` if the value is found, else `-1`.\n *\n * @private\n * @param {Object} cache The cache to search.\n * @param {*} value The value to search for.\n * @returns {number} Returns `0` if `value` is found, else `-1`.\n */\nfunction cacheIndexOf(cache, value) {\n  var data = cache.data,\n      result = (typeof value == 'string' || isObject(value)) ? data.set.has(value) : data.hash[value];\n\n  return result ? 0 : -1;\n}\n\nmodule.exports = cacheIndexOf;\n\n},{\"../lang/isObject\":135}],111:[function(require,module,exports){\nvar isObject = require('../lang/isObject');\n\n/**\n * Adds `value` to the cache.\n *\n * @private\n * @name push\n * @memberOf SetCache\n * @param {*} value The value to cache.\n */\nfunction cachePush(value) {\n  var data = this.data;\n  if (typeof value == 'string' || isObject(value)) {\n    data.set.add(value);\n  } else {\n    data.hash[value] = true;\n  }\n}\n\nmodule.exports = cachePush;\n\n},{\"../lang/isObject\":135}],112:[function(require,module,exports){\nvar bindCallback = require('./bindCallback'),\n    isIterateeCall = require('./isIterateeCall'),\n    restParam = require('../function/restParam');\n\n/**\n * Creates a `_.assign`, `_.defaults`, or `_.merge` function.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return restParam(function(object, sources) {\n    var index = -1,\n        length = object == null ? 0 : sources.length,\n        customizer = length > 2 ? sources[length - 2] : undefined,\n        guard = length > 2 ? sources[2] : undefined,\n        thisArg = length > 1 ? sources[length - 1] : undefined;\n\n    if (typeof customizer == 'function') {\n      customizer = bindCallback(customizer, thisArg, 5);\n      length -= 2;\n    } else {\n      customizer = typeof thisArg == 'function' ? thisArg : undefined;\n      length -= (customizer ? 1 : 0);\n    }\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n\n},{\"../function/restParam\":89,\"./bindCallback\":108,\"./isIterateeCall\":123}],113:[function(require,module,exports){\nvar toObject = require('./toObject');\n\n/**\n * Creates a base function for `_.forIn` or `_.forInRight`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var iterable = toObject(object),\n        props = keysFunc(object),\n        length = props.length,\n        index = fromRight ? length : -1;\n\n    while ((fromRight ? index-- : ++index < length)) {\n      var key = props[index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n\n},{\"./toObject\":129}],114:[function(require,module,exports){\n(function (global){\nvar SetCache = require('./SetCache'),\n    getNative = require('./getNative');\n\n/** Native method references. */\nvar Set = getNative(global, 'Set');\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeCreate = getNative(Object, 'create');\n\n/**\n * Creates a `Set` cache object to optimize linear searches of large arrays.\n *\n * @private\n * @param {Array} [values] The values to cache.\n * @returns {null|Object} Returns the new cache object if `Set` is supported, else `null`.\n */\nfunction createCache(values) {\n  return (nativeCreate && Set) ? new SetCache(values) : null;\n}\n\nmodule.exports = createCache;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./SetCache\":90,\"./getNative\":116}],115:[function(require,module,exports){\nvar baseProperty = require('./baseProperty');\n\n/**\n * Gets the \"length\" property value of `object`.\n *\n * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n * that affects Safari on at least iOS 8.1-8.3 ARM64.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {*} Returns the \"length\" value.\n */\nvar getLength = baseProperty('length');\n\nmodule.exports = getLength;\n\n},{\"./baseProperty\":107}],116:[function(require,module,exports){\nvar isNative = require('../lang/isNative');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = object == null ? undefined : object[key];\n  return isNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n\n},{\"../lang/isNative\":134}],117:[function(require,module,exports){\n/**\n * Gets the index at which the first occurrence of `NaN` is found in `array`.\n *\n * @private\n * @param {Array} array The array to search.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched `NaN`, else `-1`.\n */\nfunction indexOfNaN(array, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 0 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    var other = array[index];\n    if (other !== other) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = indexOfNaN;\n\n},{}],118:[function(require,module,exports){\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = new array.constructor(length);\n\n  // Add array properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\nmodule.exports = initCloneArray;\n\n},{}],119:[function(require,module,exports){\nvar bufferClone = require('./bufferClone');\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    stringTag = '[object String]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return bufferClone(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      var buffer = object.buffer;\n      return new Ctor(isDeep ? bufferClone(buffer) : buffer, object.byteOffset, object.length);\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      var result = new Ctor(object.source, reFlags.exec(object));\n      result.lastIndex = object.lastIndex;\n  }\n  return result;\n}\n\nmodule.exports = initCloneByTag;\n\n},{\"./bufferClone\":109}],120:[function(require,module,exports){\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  var Ctor = object.constructor;\n  if (!(typeof Ctor == 'function' && Ctor instanceof Ctor)) {\n    Ctor = Object;\n  }\n  return new Ctor;\n}\n\nmodule.exports = initCloneObject;\n\n},{}],121:[function(require,module,exports){\nvar getLength = require('./getLength'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(getLength(value));\n}\n\nmodule.exports = isArrayLike;\n\n},{\"./getLength\":115,\"./isLength\":124}],122:[function(require,module,exports){\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^\\d+$/;\n\n/**\n * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  value = (typeof value == 'number' || reIsUint.test(value)) ? +value : -1;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return value > -1 && value % 1 == 0 && value < length;\n}\n\nmodule.exports = isIndex;\n\n},{}],123:[function(require,module,exports){\nvar isArrayLike = require('./isArrayLike'),\n    isIndex = require('./isIndex'),\n    isObject = require('../lang/isObject');\n\n/**\n * Checks if the provided arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call, else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n      ? (isArrayLike(object) && isIndex(index, object.length))\n      : (type == 'string' && index in object)) {\n    var other = object[index];\n    return value === value ? (value === other) : (other !== other);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n\n},{\"../lang/isObject\":135,\"./isArrayLike\":121,\"./isIndex\":122}],124:[function(require,module,exports){\n/**\n * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n\n},{}],125:[function(require,module,exports){\n/**\n * Checks if `value` is object-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n\n},{}],126:[function(require,module,exports){\nvar toObject = require('./toObject');\n\n/**\n * A specialized version of `_.pick` which picks `object` properties specified\n * by `props`.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} props The property names to pick.\n * @returns {Object} Returns the new object.\n */\nfunction pickByArray(object, props) {\n  object = toObject(object);\n\n  var index = -1,\n      length = props.length,\n      result = {};\n\n  while (++index < length) {\n    var key = props[index];\n    if (key in object) {\n      result[key] = object[key];\n    }\n  }\n  return result;\n}\n\nmodule.exports = pickByArray;\n\n},{\"./toObject\":129}],127:[function(require,module,exports){\nvar baseForIn = require('./baseForIn');\n\n/**\n * A specialized version of `_.pick` which picks `object` properties `predicate`\n * returns truthy for.\n *\n * @private\n * @param {Object} object The source object.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Object} Returns the new object.\n */\nfunction pickByCallback(object, predicate) {\n  var result = {};\n  baseForIn(object, function(value, key, object) {\n    if (predicate(value, key, object)) {\n      result[key] = value;\n    }\n  });\n  return result;\n}\n\nmodule.exports = pickByCallback;\n\n},{\"./baseForIn\":102}],128:[function(require,module,exports){\nvar isArguments = require('../lang/isArguments'),\n    isArray = require('../lang/isArray'),\n    isIndex = require('./isIndex'),\n    isLength = require('./isLength'),\n    keysIn = require('../object/keysIn');\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A fallback implementation of `Object.keys` which creates an array of the\n * own enumerable property names of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction shimKeys(object) {\n  var props = keysIn(object),\n      propsLength = props.length,\n      length = propsLength && object.length;\n\n  var allowIndexes = !!length && isLength(length) &&\n    (isArray(object) || isArguments(object));\n\n  var index = -1,\n      result = [];\n\n  while (++index < propsLength) {\n    var key = props[index];\n    if ((allowIndexes && isIndex(key, length)) || hasOwnProperty.call(object, key)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = shimKeys;\n\n},{\"../lang/isArguments\":131,\"../lang/isArray\":132,\"../object/keysIn\":141,\"./isIndex\":122,\"./isLength\":124}],129:[function(require,module,exports){\nvar isObject = require('../lang/isObject');\n\n/**\n * Converts `value` to an object if it's not one.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {Object} Returns the object.\n */\nfunction toObject(value) {\n  return isObject(value) ? value : Object(value);\n}\n\nmodule.exports = toObject;\n\n},{\"../lang/isObject\":135}],130:[function(require,module,exports){\nvar baseClone = require('../internal/baseClone'),\n    bindCallback = require('../internal/bindCallback');\n\n/**\n * Creates a deep clone of `value`. If `customizer` is provided it is invoked\n * to produce the cloned values. If `customizer` returns `undefined` cloning\n * is handled by the method instead. The `customizer` is bound to `thisArg`\n * and invoked with two argument; (value [, index|key, object]).\n *\n * **Note:** This method is loosely based on the\n * [structured clone algorithm](http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm).\n * The enumerable properties of `arguments` objects and objects created by\n * constructors other than `Object` are cloned to plain `Object` objects. An\n * empty object is returned for uncloneable values such as functions, DOM nodes,\n * Maps, Sets, and WeakMaps.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to deep clone.\n * @param {Function} [customizer] The function to customize cloning values.\n * @param {*} [thisArg] The `this` binding of `customizer`.\n * @returns {*} Returns the deep cloned value.\n * @example\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * var deep = _.cloneDeep(users);\n * deep[0] === users[0];\n * // => false\n *\n * // using a customizer callback\n * var el = _.cloneDeep(document.body, function(value) {\n *   if (_.isElement(value)) {\n *     return value.cloneNode(true);\n *   }\n * });\n *\n * el === document.body\n * // => false\n * el.nodeName\n * // => BODY\n * el.childNodes.length;\n * // => 20\n */\nfunction cloneDeep(value, customizer, thisArg) {\n  return typeof customizer == 'function'\n    ? baseClone(value, true, bindCallback(customizer, thisArg, 1))\n    : baseClone(value, true);\n}\n\nmodule.exports = cloneDeep;\n\n},{\"../internal/baseClone\":97,\"../internal/bindCallback\":108}],131:[function(require,module,exports){\nvar isArrayLike = require('../internal/isArrayLike'),\n    isObjectLike = require('../internal/isObjectLike');\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Native method references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is classified as an `arguments` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  return isObjectLike(value) && isArrayLike(value) &&\n    hasOwnProperty.call(value, 'callee') && !propertyIsEnumerable.call(value, 'callee');\n}\n\nmodule.exports = isArguments;\n\n},{\"../internal/isArrayLike\":121,\"../internal/isObjectLike\":125}],132:[function(require,module,exports){\nvar getNative = require('../internal/getNative'),\n    isLength = require('../internal/isLength'),\n    isObjectLike = require('../internal/isObjectLike');\n\n/** `Object#toString` result references. */\nvar arrayTag = '[object Array]';\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeIsArray = getNative(Array, 'isArray');\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(function() { return arguments; }());\n * // => false\n */\nvar isArray = nativeIsArray || function(value) {\n  return isObjectLike(value) && isLength(value.length) && objToString.call(value) == arrayTag;\n};\n\nmodule.exports = isArray;\n\n},{\"../internal/getNative\":116,\"../internal/isLength\":124,\"../internal/isObjectLike\":125}],133:[function(require,module,exports){\nvar isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]';\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in older versions of Chrome and Safari which return 'function' for regexes\n  // and Safari 8 equivalents which return 'object' for typed array constructors.\n  return isObject(value) && objToString.call(value) == funcTag;\n}\n\nmodule.exports = isFunction;\n\n},{\"./isObject\":135}],134:[function(require,module,exports){\nvar isFunction = require('./isFunction'),\n    isObjectLike = require('../internal/isObjectLike');\n\n/** Used to detect host constructors (Safari > 5). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar fnToString = Function.prototype.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  fnToString.call(hasOwnProperty).replace(/[\\\\^$.*+?()[\\]{}|]/g, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * Checks if `value` is a native function.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n * @example\n *\n * _.isNative(Array.prototype.push);\n * // => true\n *\n * _.isNative(_);\n * // => false\n */\nfunction isNative(value) {\n  if (value == null) {\n    return false;\n  }\n  if (isFunction(value)) {\n    return reIsNative.test(fnToString.call(value));\n  }\n  return isObjectLike(value) && reIsHostCtor.test(value);\n}\n\nmodule.exports = isNative;\n\n},{\"../internal/isObjectLike\":125,\"./isFunction\":133}],135:[function(require,module,exports){\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n\n},{}],136:[function(require,module,exports){\nvar baseForIn = require('../internal/baseForIn'),\n    isArguments = require('./isArguments'),\n    isObjectLike = require('../internal/isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * **Note:** This method assumes objects created by the `Object` constructor\n * have no inherited enumerable properties.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  var Ctor;\n\n  // Exit early for non `Object` objects.\n  if (!(isObjectLike(value) && objToString.call(value) == objectTag && !isArguments(value)) ||\n      (!hasOwnProperty.call(value, 'constructor') && (Ctor = value.constructor, typeof Ctor == 'function' && !(Ctor instanceof Ctor)))) {\n    return false;\n  }\n  // IE < 9 iterates inherited properties before own properties. If the first\n  // iterated property is an object's own property then there are no inherited\n  // enumerable properties.\n  var result;\n  // In most environments an object's own properties are iterated before\n  // its inherited properties. If the last iterated property is an object's\n  // own property then there are no inherited enumerable properties.\n  baseForIn(value, function(subValue, key) {\n    result = key;\n  });\n  return result === undefined || hasOwnProperty.call(value, result);\n}\n\nmodule.exports = isPlainObject;\n\n},{\"../internal/baseForIn\":102,\"../internal/isObjectLike\":125,\"./isArguments\":131}],137:[function(require,module,exports){\nvar isLength = require('../internal/isLength'),\n    isObjectLike = require('../internal/isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dateTag] = typedArrayTags[errorTag] =\ntypedArrayTags[funcTag] = typedArrayTags[mapTag] =\ntypedArrayTags[numberTag] = typedArrayTags[objectTag] =\ntypedArrayTags[regexpTag] = typedArrayTags[setTag] =\ntypedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nfunction isTypedArray(value) {\n  return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[objToString.call(value)];\n}\n\nmodule.exports = isTypedArray;\n\n},{\"../internal/isLength\":124,\"../internal/isObjectLike\":125}],138:[function(require,module,exports){\nvar baseCopy = require('../internal/baseCopy'),\n    keysIn = require('../object/keysIn');\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable\n * properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return baseCopy(value, keysIn(value));\n}\n\nmodule.exports = toPlainObject;\n\n},{\"../internal/baseCopy\":98,\"../object/keysIn\":141}],139:[function(require,module,exports){\nvar assignWith = require('../internal/assignWith'),\n    baseAssign = require('../internal/baseAssign'),\n    createAssigner = require('../internal/createAssigner');\n\n/**\n * Assigns own enumerable properties of source object(s) to the destination\n * object. Subsequent sources overwrite property assignments of previous sources.\n * If `customizer` is provided it is invoked to produce the assigned values.\n * The `customizer` is bound to `thisArg` and invoked with five arguments:\n * (objectValue, sourceValue, key, object, source).\n *\n * **Note:** This method mutates `object` and is based on\n * [`Object.assign`](http://ecma-international.org/ecma-262/6.0/#sec-object.assign).\n *\n * @static\n * @memberOf _\n * @alias extend\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {*} [thisArg] The `this` binding of `customizer`.\n * @returns {Object} Returns `object`.\n * @example\n *\n * _.assign({ 'user': 'barney' }, { 'age': 40 }, { 'user': 'fred' });\n * // => { 'user': 'fred', 'age': 40 }\n *\n * // using a customizer callback\n * var defaults = _.partialRight(_.assign, function(value, other) {\n *   return _.isUndefined(value) ? other : value;\n * });\n *\n * defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n * // => { 'user': 'barney', 'age': 36 }\n */\nvar assign = createAssigner(function(object, source, customizer) {\n  return customizer\n    ? assignWith(object, source, customizer)\n    : baseAssign(object, source);\n});\n\nmodule.exports = assign;\n\n},{\"../internal/assignWith\":95,\"../internal/baseAssign\":96,\"../internal/createAssigner\":112}],140:[function(require,module,exports){\nvar getNative = require('../internal/getNative'),\n    isArrayLike = require('../internal/isArrayLike'),\n    isObject = require('../lang/isObject'),\n    shimKeys = require('../internal/shimKeys');\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = getNative(Object, 'keys');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/6.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nvar keys = !nativeKeys ? shimKeys : function(object) {\n  var Ctor = object == null ? undefined : object.constructor;\n  if ((typeof Ctor == 'function' && Ctor.prototype === object) ||\n      (typeof object != 'function' && isArrayLike(object))) {\n    return shimKeys(object);\n  }\n  return isObject(object) ? nativeKeys(object) : [];\n};\n\nmodule.exports = keys;\n\n},{\"../internal/getNative\":116,\"../internal/isArrayLike\":121,\"../internal/shimKeys\":128,\"../lang/isObject\":135}],141:[function(require,module,exports){\nvar isArguments = require('../lang/isArguments'),\n    isArray = require('../lang/isArray'),\n    isIndex = require('../internal/isIndex'),\n    isLength = require('../internal/isLength'),\n    isObject = require('../lang/isObject');\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  if (object == null) {\n    return [];\n  }\n  if (!isObject(object)) {\n    object = Object(object);\n  }\n  var length = object.length;\n  length = (length && isLength(length) &&\n    (isArray(object) || isArguments(object)) && length) || 0;\n\n  var Ctor = object.constructor,\n      index = -1,\n      isProto = typeof Ctor == 'function' && Ctor.prototype === object,\n      result = Array(length),\n      skipIndexes = length > 0;\n\n  while (++index < length) {\n    result[index] = (index + '');\n  }\n  for (var key in object) {\n    if (!(skipIndexes && isIndex(key, length)) &&\n        !(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = keysIn;\n\n},{\"../internal/isIndex\":122,\"../internal/isLength\":124,\"../lang/isArguments\":131,\"../lang/isArray\":132,\"../lang/isObject\":135}],142:[function(require,module,exports){\nvar baseMerge = require('../internal/baseMerge'),\n    createAssigner = require('../internal/createAssigner');\n\n/**\n * Recursively merges own enumerable properties of the source object(s), that\n * don't resolve to `undefined` into the destination object. Subsequent sources\n * overwrite property assignments of previous sources. If `customizer` is\n * provided it is invoked to produce the merged values of the destination and\n * source properties. If `customizer` returns `undefined` merging is handled\n * by the method instead. The `customizer` is bound to `thisArg` and invoked\n * with five arguments: (objectValue, sourceValue, key, object, source).\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {*} [thisArg] The `this` binding of `customizer`.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var users = {\n *   'data': [{ 'user': 'barney' }, { 'user': 'fred' }]\n * };\n *\n * var ages = {\n *   'data': [{ 'age': 36 }, { 'age': 40 }]\n * };\n *\n * _.merge(users, ages);\n * // => { 'data': [{ 'user': 'barney', 'age': 36 }, { 'user': 'fred', 'age': 40 }] }\n *\n * // using a customizer callback\n * var object = {\n *   'fruits': ['apple'],\n *   'vegetables': ['beet']\n * };\n *\n * var other = {\n *   'fruits': ['banana'],\n *   'vegetables': ['carrot']\n * };\n *\n * _.merge(object, other, function(a, b) {\n *   if (_.isArray(a)) {\n *     return a.concat(b);\n *   }\n * });\n * // => { 'fruits': ['apple', 'banana'], 'vegetables': ['beet', 'carrot'] }\n */\nvar merge = createAssigner(baseMerge);\n\nmodule.exports = merge;\n\n},{\"../internal/baseMerge\":105,\"../internal/createAssigner\":112}],143:[function(require,module,exports){\nvar arrayMap = require('../internal/arrayMap'),\n    baseDifference = require('../internal/baseDifference'),\n    baseFlatten = require('../internal/baseFlatten'),\n    bindCallback = require('../internal/bindCallback'),\n    keysIn = require('./keysIn'),\n    pickByArray = require('../internal/pickByArray'),\n    pickByCallback = require('../internal/pickByCallback'),\n    restParam = require('../function/restParam');\n\n/**\n * The opposite of `_.pick`; this method creates an object composed of the\n * own and inherited enumerable properties of `object` that are not omitted.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {Function|...(string|string[])} [predicate] The function invoked per\n *  iteration or property names to omit, specified as individual property\n *  names or arrays of property names.\n * @param {*} [thisArg] The `this` binding of `predicate`.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'user': 'fred', 'age': 40 };\n *\n * _.omit(object, 'age');\n * // => { 'user': 'fred' }\n *\n * _.omit(object, _.isNumber);\n * // => { 'user': 'fred' }\n */\nvar omit = restParam(function(object, props) {\n  if (object == null) {\n    return {};\n  }\n  if (typeof props[0] != 'function') {\n    var props = arrayMap(baseFlatten(props), String);\n    return pickByArray(object, baseDifference(keysIn(object), props));\n  }\n  var predicate = bindCallback(props[0], props[1], 3);\n  return pickByCallback(object, function(value, key, object) {\n    return !predicate(value, key, object);\n  });\n});\n\nmodule.exports = omit;\n\n},{\"../function/restParam\":89,\"../internal/arrayMap\":93,\"../internal/baseDifference\":99,\"../internal/baseFlatten\":100,\"../internal/bindCallback\":108,\"../internal/pickByArray\":126,\"../internal/pickByCallback\":127,\"./keysIn\":141}],144:[function(require,module,exports){\n/**\n * This method returns the first argument provided to it.\n *\n * @static\n * @memberOf _\n * @category Utility\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'user': 'fred' };\n *\n * _.identity(object) === object;\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n\n},{}],145:[function(require,module,exports){\n(function (global){\n/**\n *\n * Essential extension methods for Promises/A+ implementations\n */\n\nvar setImmediate = (function setImmediateImpl() {\n    'use strict';\n\n    if (setImmediate) {\n        return setImmediate;\n    } else if ({}.toString.call(global.process) === '[object process]') {\n        return global.process.nextTick.bind(global.process);\n    } else {\n        return function(handler) {\n            setTimeout(handler, 0);\n        };\n    }\n}());\n\nvar convertToArray = (function() {\n    'use strict';\n    var toArray = Array.prototype.slice;\n    return function $convertToArray(obj) {\n        return obj ? toArray.call(obj) : [];\n    };\n})();\n\nfunction createInspectionObject(resolved, valueOrReason) {\n    'use strict';\n\n    var insp = {\n        isRejected: function() {\n            return !resolved;\n        },\n        isFulfilled: function() {\n            return resolved;\n        }\n    };\n    // alias\n    insp.isResolved = insp.isFulfilled;\n\n    if (resolved) {\n        Object.defineProperty(insp, 'value', {\n            enumerable: true,\n            value: valueOrReason\n        });\n    } else {\n        Object.defineProperty(insp, 'reason', {\n            enumerable: true,\n            value: valueOrReason\n        });\n    }\n\n    return insp;\n}\n\nfunction applyExtensions(Promise) {\n    'use strict';\n\n    // spread method\n    Promise.prototype.spread = function (fn) {\n        return this.then(function (args) {\n            return Promise.all(args);\n        }).then(function (array) {\n            return fn.apply(null, array);\n        });\n    };\n\n    // delay method\n    Promise.prototype.delay = function (timeout) {\n        return this.then(function(args) {\n            return new Promise(function (resolve) {\n                setTimeout(function() {\n                    resolve(args);\n                }, timeout);\n            });\n        });\n    };\n\n    // static delay method\n    Promise.delay = function (resolveValue, timeout) {\n        if (timeout === undefined) {\n            timeout = resolveValue;\n            resolveValue = undefined;\n        }\n        return this.resolve(resolveValue).delay(timeout);\n    };\n\n    // finally method\n    Promise.prototype['finally'] = function (fn) {\n        var noop = function() {};\n        var fnAsPromise = new Promise(function(resolve) {\n            var val;\n            try {\n                val = fn();\n            } finally {\n                resolve(val);\n            }\n        }).then(noop, noop);\n\n        return this.then(function (value) {\n            return fnAsPromise.then(function () {\n                return value;\n            });\n        }, function(reason) {\n            return fnAsPromise.then(function() {\n                throw reason;\n            });\n        });\n    };\n\n    // reflect method\n    Promise.prototype.reflect = function () {\n        return this.then(function(value) {\n            return createInspectionObject(true, value);\n        }, function(reason) {\n\n            return createInspectionObject(false, reason);\n        });\n    };\n\n    // static settleAll method\n    Promise.settleAll = function(array) {\n        var values = Array.isArray(array) ? array : [array];\n        return this.all(values.map(function(value) {\n            return Promise.resolve(value).reflect();\n        }));\n    };\n\n    // done method\n    Promise.prototype.done = function() {\n        this.catch(function (error) {\n            setImmediate(function() {\n                throw error;\n            });\n        });\n    };\n\n    return Promise;\n}\n\nfunction delegateToInstance(decorator, methods) {\n    'use strict';\n\n    methods.forEach(function(method) {\n        decorator.prototype[method] = function () {\n            var ins = this.__instance;\n            var promise = ins[method].apply(ins, convertToArray(arguments));\n            return decorator.resolve(promise);\n        };\n    });\n}\n\nfunction delegateToStatic(decorator, delegate, methods) {\n    'use strict';\n\n    methods.forEach(function(method) {\n        decorator[method] = function () {\n            var promise = delegate[method].apply(delegate, convertToArray(arguments));\n            return decorator.resolve(promise);\n        };\n    });\n}\n\nfunction decorate(promiseFunc) {\n    'use strict';\n\n    var PromiseExtensions = function PromiseExtensions(executor) {\n        var promise = new promiseFunc(executor);\n        // protect base instance from tampering with\n        Object.defineProperty(this, '__instance', {\n            value: promise\n        });\n    };\n\n    // resolve method doesn't delegate to original Promise. Other methods heavily rely on it.\n    PromiseExtensions.resolve = function resolve(msg) {\n        var Constructor = this;\n        if (msg && msg.__instance && typeof msg.__instance === 'object') {\n            return msg;\n        }\n\n        return new Constructor(function(resolve) {\n            resolve(msg);\n        });\n    };\n\n    // delegate known static methods to provided impl\n    delegateToStatic(PromiseExtensions, promiseFunc, ['all', 'reject', 'race']);\n    // delegate known instance methods to base instance\n    delegateToInstance(PromiseExtensions, ['then', 'catch']);\n    // define extension methods\n    return applyExtensions(PromiseExtensions);\n}\n\nmodule.exports = function(promiseImpl) {\n    'use strict';\n\n    var Promise = promiseImpl || global.Promise;\n    if (!Promise) {\n        throw new Error('No Promise implementation found.');\n    }\n    if (typeof Promise !== 'function') {\n        throw new TypeError('Not supported. The argument provided is not a constructor.');\n    }\n\n    return decorate(Promise);\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],146:[function(require,module,exports){\n/**\n * A central CXP configuration object to be used across multiple web APIs\n * @exports a new CxpConfiguration instance\n * @module configuration/index\n */\n\n'use strict';\n\nvar cxpUtil = require('./cxp-util');\nvar bunyan = require('browser-bunyan');\n\n/**\n * Constructs a new CXP Configuration object\n * @param {Object} [opts] A set of configuration options\n * @param {Object} [opts.log] Provide a completely new logger. This should be a 'browser-bunyan' logger.\n *                            Internally, a new child logger will be created, using the supplied logger as a parent\n * @param {Array} [opts.logStreams] Provide custom log streams to use with the internally generated logger.\n *                                  This will be ignored if your provide your own logger\n * @param {string} [opts.logLevel] Set the logging level. This will be ignored if you provide your own logger.\n * @constructor\n */\nvar CxpConfiguration = function(opts) {\n\n    opts = opts || {};\n\n    var loggerName = 'cxp-web';\n    this.log = opts.log ? opts.log.child({ childName: loggerName}) : bunyan.createLogger({\n        name: loggerName || 'logger',\n        streams: Array.isArray(opts.logStreams) ? opts.logStreams : [\n            {\n                level: opts.logLevel || 'info',\n                stream: new bunyan.ConsoleFormattedStream(),\n                type: 'raw'\n            }\n        ]\n    });\n\n    this.settings = {};\n};\n\n/**\n * @deprecated\n */\nCxpConfiguration.prototype.util = cxpUtil;\n\n/**\n * Clones configuration object\n * @returns {CxpConfiguration} new CxpConfiguration object\n */\nCxpConfiguration.prototype.clone = function() {\n    var newConfig = new CxpConfiguration();\n    var settings = this.settings;\n\n    newConfig.settings = Object.keys(settings).reduce(function(obj, propName) {\n        obj[propName] = settings[propName];\n        return obj;\n    }, {});\n\n    return newConfig;\n};\n\n/**\n * Sets a value\n * @param {string} name\n * @param {*} value\n */\nCxpConfiguration.prototype.set = function(name, value) {\n    this.settings[name] = value;\n};\n\n/**\n * Gets a value\n * @param {string} name\n * @returns {*}\n */\nCxpConfiguration.prototype.get = function(name) {\n    return this.settings[name];\n};\n\n/**\n * Enables a boolean value\n * @param {string} name\n */\nCxpConfiguration.prototype.enable = function(name) {\n    this.settings[name] = true;\n};\n\n/**\n * Disables a boolean value\n * @param {string} name\n */\nCxpConfiguration.prototype.disable = function(name) {\n    this.settings[name] = false;\n};\n\n/**\n * Checks if a boolean value is true\n * @param {string} name\n * @returns {boolean}\n */\nCxpConfiguration.prototype.enabled = function(name) {\n    return !!this.settings[name];\n};\n\n/**\n * Checks if a boolean value is false\n * @param {string} name\n * @returns {boolean}\n */\nCxpConfiguration.prototype.disabled = function(name) {\n    return !this.settings[name];\n};\n\n/**\n * Gets a logger stored internally\n * @returns {CxpConfiguration.log}\n */\nCxpConfiguration.prototype.getLogger = function() {\n    return this.log;\n};\n\n/**\n * Gets the settings as a plain object. Dynamic items such as functions will be omitted\n * @returns {Object}\n */\nCxpConfiguration.prototype.toSerializableObject = function() {\n\n    var stringifyBlacklist = ['logStreams', 'storageFactory'];\n\n    return JSON.parse(JSON.stringify(this.settings, function(key, value) {\n        return stringifyBlacklist.indexOf(key) > -1 ? undefined: value;\n    }));\n};\n\nfunction createConfiguration (cxpOptions) {\n    return new CxpConfiguration(cxpOptions);\n}\n\nmodule.exports = {\n    Configuration: CxpConfiguration,\n    createInstance: createConfiguration\n};\n\n},{\"./cxp-util\":147,\"browser-bunyan\":86}],147:[function(require,module,exports){\n/**\n * @deprecated Avoid using these module.\n */\n\n'use strict';\n\nmodule.exports = {\n\n    /**\n     * @deprecated Use item.preference.name instead\n     */\n    getPreference: function(item, name) {\n        return item.preferences[name] || null;\n    },\n\n    /**\n     * @deprecated Use item.preference.name.value instead\n     */\n    getPreferenceValue: function(item, name) {\n        var pref = this.getPreference(item, name);\n        return pref ? pref.value : null;\n    }\n};\n\n\n},{}],148:[function(require,module,exports){\n/**\n * Implements \"breadcrumb\" datasource resolver\n * @see {@link https://backbase.atlassian.net/wiki/display/PrM/Navigation+Datasources#NavigationDatasources-BreadcrumbURI\n *\n * @module datasource/contentrendered-datasource-resolver\n * @exports {BreadcrumbDatasourceResolver}\n */\n'use strict';\n\nvar DatasourceResolver  = require('backbase-widget-engine/src/datasource/datasource-resolver');\nvar resolverHelpers     = require('backbase-widget-engine/src/datasource/datasource-resolver-helpers');\n\nmodule.exports = BreadcrumbDatasourceResolver;\n\n/**\n * Breadcrumb datasource resolver\n * @param {Object} datasource\n * @constructor\n */\nfunction BreadcrumbDatasourceResolver(datasource) {\n    this._datasource = datasource;\n}\n\n/**\n * Builds an endpoint URL of breadcrumb datasource\n * @param {Object} context An object expressions in datasource URI are resolved against\n * @returns {string} A URL of an endpoint where data can be requested from\n */\nBreadcrumbDatasourceResolver.prototype.resolveUrl = function (context) {\n    var url = this._datasource.uri;\n    var urlComponents = url.split(':');\n\n    if (urlComponents.length !== 2) {\n        throw new Error('Invalid breadcrumb datasource uri: ', url);\n    }\n\n    var params = [].concat(this._datasource.params || []);\n    var linkId = resolverHelpers.trimSlashes(urlComponents[1]);\n    if (linkId) {\n        params.push({\n            name: 'uuid',\n            value: linkId\n        });\n    }\n\n    var apiRoot = context.apiRoot || '';\n    var endpointUrl = apiRoot + '/portal/navigation/breadcrumb';\n\n    var queryString = resolverHelpers.resolveQueryString(context, params);\n    if (queryString) {\n        endpointUrl += '?' + queryString;\n    }\n\n    return endpointUrl;\n};\n\n/**\n * Parses JSON returned from datasource and returns it\n * @param {Response} response Fetch API response object\n * @returns {Promise.<Object>} promise resolved with an object literal containing JSON data\n */\nBreadcrumbDatasourceResolver.prototype.processResponse = function processResponse(response) {\n    return response.json();\n};\n\n/**\n * Checks whether a datasource is of breadcrumb type and creates a resolver instance\n * if check passes. Use this method as a resolver creating function registered with\n * datasource resolver factory.\n * @param {Object} datasource A datasource to check\n * @returns {DatasourceResolver|undefined}\n */\nBreadcrumbDatasourceResolver.getInstance =\n    DatasourceResolver.createFactoryFunction('breadcrumb', BreadcrumbDatasourceResolver);\n\n},{\"backbase-widget-engine/src/datasource/datasource-resolver\":46,\"backbase-widget-engine/src/datasource/datasource-resolver-helpers\":45}],149:[function(require,module,exports){\n/**\n * Implements \"contentrendered\" datasource resolver\n * @see {@link https://backbase.atlassian.net/wiki/display/PrM/Datasources+URI+spec#DatasourcesURIspec-ContentrenderedURI(legacy-deprecated)}\n * Maps contentrendered:/[uuid]?template=[templatePath] datasource URI to\n * /cxp/portal/contenttemplates/rendered?templateUrl=[templatePath]&contextItemName=[contextItemName]&uuid=[uuid]\n * REST endpoint URI.\n *\n * @module datasource/contentrendered-datasource-resolver\n * @exports {ContentrenderedDatasourceResolver}\n */\n\n'use strict';\n\nvar DatasourceResolver  = require('backbase-widget-engine/src/datasource/datasource-resolver');\nvar resolverHelpers     = require('backbase-widget-engine/src/datasource/datasource-resolver-helpers');\nvar util                = require('backbase-widget-engine/src/util/util');\n\n/**\n * Optional datasource parameter that can be used to instruct the resolver to skip on setting asset URLs in content\n * to point to remote server (mobile use case only)\n * @type {string}\n */\nvar ASSET_PARAM = 'assets';\n\nmodule.exports = ContentrenderedDatasourceResolver;\n\n/**\n * Contentrendered datasource resolver\n *\n * @param {Object} datasource\n * @constructor\n */\nfunction ContentrenderedDatasourceResolver(datasource) {\n    this._datasource = datasource;\n}\n\n/**\n * Builds an endpoint URL of contentrendered datasource\n *\n * @param {Object} context An object expressions in datasource URI are resolved against\n * @returns {string} A URL of an endpoint where data can be requested from\n */\nContentrenderedDatasourceResolver.prototype.resolveUrl = function (context) {\n    var url = this._datasource.uri;\n    var urlComponents = url.split(':');\n\n    if (urlComponents.length !== 2) {\n        throw new Error('Invalid contentrendered datasource uri: ', url);\n    }\n\n    var params = (this._datasource.params || []).map(function (param) {\n        var resolvedParam = resolverHelpers.resolveParameter(context, param);\n        if (resolvedParam.name === 'template') {\n            resolvedParam.name = 'templateUrl';\n        }\n\n        return resolvedParam;\n    }).filter(function (param) {\n        return param.name && param.name !== ASSET_PARAM;\n    });\n\n    var contentId = resolverHelpers.resolveExpression(context, resolverHelpers.trimSlashes(urlComponents[1]));\n    if (contentId) {\n        params.push({\n            name: 'uuid',\n            value: contentId\n        });\n    }\n\n    var contextItemName = context.contextItemName;\n    if(contextItemName) {\n        params.push({\n            name: 'contextItemName',\n            value: contextItemName\n        });\n    }\n\n    var apiRoot = context.apiRoot || '';\n    var endpointUrl = apiRoot + '/portal/contenttemplates/rendered';\n\n    var encodedParams = resolverHelpers.buildQueryString(params);\n    if (encodedParams) {\n        endpointUrl += '?' + encodedParams;\n    }\n\n    return endpointUrl;\n};\n\n/**\n * If necessary handles HTML response by converting asset (images, anchors, etc) relative URLs to absolute ones\n * in mobile environment.\n *\n * @param {Response} response Fetch API response object\n * @param {Object} context An object that holds configuration options\n * @returns {Promise.<Object>} promise resolved with HTML string\n */\nContentrenderedDatasourceResolver.prototype.processResponse = function processResponse(response, context) {\n    var self = this;\n\n    return response.text().then(function (html) {\n        if(util.isRunningOnFilesystem()) {\n            var contextRoot = context.contextRoot || '';\n            var remoteContextRoot = context.remoteContextRoot || '';\n            var assetsParam = self._datasource.params.filter(function (param) {\n                    return param.name === ASSET_PARAM;\n                })[0] || {};\n            var localAssets = assetsParam.value === 'local';\n            var baseUrl = (localAssets || !remoteContextRoot) ? contextRoot : remoteContextRoot;\n\n            return util.isUrlAbsolute(baseUrl) ? self._makeReferenceAbsolute(html, baseUrl) : html;\n        } else {\n            return html;\n        }\n    });\n};\n\n/**\n * Makes relative URLs absolute for elements that can refer to remote content (with \"src\" or \"href\" attributes)\n *\n * @param {string} html HTML string to process\n * @param {string} baseUrl Base URL to be used in relative URL resolution\n * @returns {string} HTML with absolute URLs\n * @private\n */\nContentrenderedDatasourceResolver.prototype._makeReferenceAbsolute = function (html, baseUrl) {\n    if(typeof DOMParser !== 'undefined') {\n        var parser = new DOMParser();\n        var doc = parser.parseFromString(html, 'text/html');\n\n        this._getElementObjectsByAttr(doc.body, 'href')\n            .concat(this._getElementObjectsByAttr(doc.body, 'src'))\n            .filter(function (item) {\n                return item.value && util.isUrlSiteRelative(item.value);\n            }).forEach(function (item) {\n                var absHref = new URL(item.value, baseUrl).href;\n                item.element.setAttribute(item.attr, absHref);\n            });\n\n        return doc.body.innerHTML;\n    } else {\n        return html;\n    }\n};\n\n/**\n * Finds all elements that have the specified attribute under the provided node\n *\n * @param {Node} node A node under which a search is conducted\n * @param {string} attr An attribute name\n * @returns {Object} An object that holds the element and a value of the attribute\n * @private\n */\nContentrenderedDatasourceResolver.prototype._getElementObjectsByAttr = function (node, attr) {\n    return Array.prototype.map.call(node.querySelectorAll('[' + attr + ']'), function (el) {\n        return {\n            attr: attr,\n            value: el.getAttribute(attr),\n            element: el\n        };\n    });\n};\n\n/**\n * Checks whether a datasource is of contentrendered type and creates a resolver instance\n * if check passes. Use this method as a resolver creating function registered with\n * datasource resolver factory.\n *\n * @param {Object} datasource A datasource to check\n * @returns {DatasourceResolver|undefined}\n */\nContentrenderedDatasourceResolver.getInstance =\n    DatasourceResolver.createFactoryFunction('contentrendered', ContentrenderedDatasourceResolver);\n\n},{\"backbase-widget-engine/src/datasource/datasource-resolver\":46,\"backbase-widget-engine/src/datasource/datasource-resolver-helpers\":45,\"backbase-widget-engine/src/util/util\":84}],150:[function(require,module,exports){\n/**\n * Implements \"link\" datasource resolver\n * @see {@link https://backbase.atlassian.net/wiki/display/PrM/Datasources+URI+spec#DatasourcesURIspec-LinkURI}\n * @module datasource/link-datasource-resolver\n * @exports {LinkDatasourceResolver}\n */\n\n'use strict';\n\nvar DatasourceResolver  = require('backbase-widget-engine/src/datasource/datasource-resolver');\nvar xmlModelParser      = require('../model/parsers/xml/model-parser');\nvar resolverHelpers     = require('backbase-widget-engine/src/datasource/datasource-resolver-helpers');\n\nmodule.exports = LinkDatasourceResolver;\n\n/**\n * Link datasource resolver\n * @param {Object} datasource\n * @constructor\n */\nfunction LinkDatasourceResolver(datasource) {\n    this._datasource = datasource;\n}\n\n/**\n * Builds an endpoint URL of link datasource\n * @param {Object} context An object expressions in datasource URI are resolved against\n * @returns {string} A URL of an endpoint where data can be requested from\n */\nLinkDatasourceResolver.prototype.resolveUrl = function (context) {\n    var url = this._datasource.uri;\n    var urlComponents = url.split(':');\n\n    if (urlComponents.length !== 2) {\n        throw new Error('Invalid link datasource uri: ', url);\n    }\n\n    // create new array of parameters\n    var params = [].concat(this._datasource.params || []);\n    var linkId = resolverHelpers.trimSlashes(urlComponents[1]);\n    if (linkId) {\n        params.push({\n            name: 'f',\n            value: 'uuid(eq)' + linkId\n        });\n    }\n\n    var depthParamExists = params.some(function (param) {\n        return param.name === 'depth';\n    });\n\n    // depth parameter is required for links endpoint,\n    // so add it if it's not specified in original url\n    if (!depthParamExists) {\n        params.push({\n            name: 'depth',\n            value: 1\n        });\n    }\n\n    var apiRoot = context.apiRoot || '';\n    var portalName = context.portalName;\n    var endpointUrl = apiRoot + '/portal/portals/' + portalName + '/links.xml';\n\n    var queryString = resolverHelpers.resolveQueryString(context, params);\n    if (queryString) {\n        endpointUrl += '?' + queryString;\n    }\n\n    return endpointUrl;\n};\n\n/**\n * Parses XML returned from datasource and returns the first link (if any)\n * @param {Response} response Fetch API response object\n * @returns {Promise.<Object>} promise resolved with link object\n */\nLinkDatasourceResolver.prototype.processResponse = function processResponse(response) {\n    return response.text().then(function (xml) {\n        var links = xmlModelParser.parseList(xml);\n        return links && links.length ? links[0] : null;\n    });\n};\n\n/**\n * Checks whether a datasource is of link type and creates a resolver instance\n * if check passes. Use this method as a resolver creating function registered with\n * datasource resolver factory.\n * @param {Object} datasource A datasource to check\n * @returns {DatasourceResolver|undefined}\n */\nLinkDatasourceResolver.getInstance =\n    DatasourceResolver.createFactoryFunction('link', LinkDatasourceResolver);\n\n},{\"../model/parsers/xml/model-parser\":168,\"backbase-widget-engine/src/datasource/datasource-resolver\":46,\"backbase-widget-engine/src/datasource/datasource-resolver-helpers\":45}],151:[function(require,module,exports){\n/**\n * Implements \"navigation\" datasource resolver\n * @see {@link https://backbase.atlassian.net/wiki/display/PrM/Navigation+Datasources}\n * @module datasource/navigation-datasource-resolver\n * @exports {NavigationDatasourceResolver}\n */\n\n'use strict';\n\nvar DatasourceResolver  = require('backbase-widget-engine/src/datasource/datasource-resolver');\nvar resolverHelpers     = require('backbase-widget-engine/src/datasource/datasource-resolver-helpers');\n\nmodule.exports = NavigationDatasourceResolver;\n\n/**\n * Navigation datasource resolver\n * @param {Object} datasource\n * @constructor\n */\nfunction NavigationDatasourceResolver(datasource) {\n    this._datasource = datasource;\n}\n\n/**\n * Builds an endpoint URL of navigation datasource\n * @param {Object} context An object expressions in datasource URI are resolved against\n * @returns {string} A URL of an endpoint where data can be requested from\n */\nNavigationDatasourceResolver.prototype.resolveUrl = function (context) {\n    var url = this._datasource.uri;\n    var urlComponents = url.split(':');\n\n    if (urlComponents.length !== 2) {\n        throw new Error('Invalid navigation datasource uri: ', url);\n    }\n\n    var params = [].concat(this._datasource.params || []);\n    var linkId = resolverHelpers.trimSlashes(urlComponents[1]);\n    if (linkId) {\n        params.push({\n            name: 'uuid',\n            value: linkId\n        });\n    }\n\n    var apiRoot = context.apiRoot || '';\n    var endpointUrl = apiRoot + '/portal/navigation/tree';\n\n    var queryString = resolverHelpers.resolveQueryString(context, params);\n    if (queryString) {\n        endpointUrl += '?' + queryString;\n    }\n\n    return endpointUrl;\n};\n\n/**\n * Parses JSON returned from datasource and returns it\n * @param {Response} response Fetch API response object\n * @returns {Promise.<Object>} promise resolved with an object literal containing JSON data\n */\nNavigationDatasourceResolver.prototype.processResponse = function processResponse(response) {\n    return response.json();\n};\n\n/**\n * Checks whether a datasource is of navigation type and creates a resolver instance\n * if check passes. Use this method as a resolver creating function registered with\n * datasource resolver factory.\n * @param {Object} datasource A datasource to check\n * @returns {DatasourceResolver|undefined}\n */\nNavigationDatasourceResolver.getInstance =\n    DatasourceResolver.createFactoryFunction('navigation', NavigationDatasourceResolver);\n\n},{\"backbase-widget-engine/src/datasource/datasource-resolver\":46,\"backbase-widget-engine/src/datasource/datasource-resolver-helpers\":45}],152:[function(require,module,exports){\n/**\n * Implements \"portal\" datasource resolver\n * @see {@link https://backbase.atlassian.net/wiki/display/PrM/Datasources+URI+spec#DatasourcesURIspec-PortalURI}\n * @module datasource/portal-datasource-resolver\n * @exports {PortalDatasourceResolver}\n */\n\n'use strict';\n\nvar DatasourceResolver  = require('backbase-widget-engine/src/datasource/datasource-resolver');\nvar xmlModelParser      = require('../model/parsers/xml/model-parser');\nvar resolverHelpers     = require('backbase-widget-engine/src/datasource/datasource-resolver-helpers');\n\nmodule.exports = PortalDatasourceResolver;\n\n/**\n * Portal datasource resolver\n * @param {Object} datasource\n * @constructor\n */\nfunction PortalDatasourceResolver(datasource) {\n    this._datasource = datasource;\n}\n\n/**\n * Builds an endpoint URL of portal datasource\n * @param {Object} context An object expressions in datasource URI are resolved against\n * @returns {string} A URL of an endpoint where data can be requested from\n */\nPortalDatasourceResolver.prototype.resolveUrl = function (context) {\n    var url = this._datasource.uri;\n    var urlComponents = url.split(':');\n\n    if (urlComponents.length !== 2) {\n        throw new Error('Invalid link datasource uri: ', url);\n    }\n\n    var params = [].concat(this._datasource.params || []);\n    // add pc=false parameter to have no children in output, otherwise XML will be huge\n    params.push({\n        name: 'pc',\n        value: false\n    });\n\n    var apiRoot = context.apiRoot || '';\n    var portalName = resolverHelpers.resolveExpression(context, resolverHelpers.trimSlashes(urlComponents[1]));\n    var queryString = resolverHelpers.resolveQueryString(context, params);\n\n    return apiRoot + '/portal/portals/' + portalName + '.xml' + '?' + queryString;\n};\n\n/**\n * Parses XML returned from datasource\n * @param {Response} response Fetch API response object\n * @returns {Promise.<Object>} promise resolved with portal object\n */\nPortalDatasourceResolver.prototype.processResponse = function processResponse(response) {\n    return response.text().then(function (xml) {\n        return xmlModelParser.parse(xml);\n    });\n};\n\n/**\n * Checks whether a datasource is of portal type and creates a resolver instance\n * if check passes. Use this method as a resolver creating function registered with\n * datasource resolver factory.\n * @param {Object} datasource A datasource to check\n * @returns {DatasourceResolver|undefined}\n * @static\n */\nPortalDatasourceResolver.getInstance =\n    DatasourceResolver.createFactoryFunction('portal', PortalDatasourceResolver);\n\n},{\"../model/parsers/xml/model-parser\":168,\"backbase-widget-engine/src/datasource/datasource-resolver\":46,\"backbase-widget-engine/src/datasource/datasource-resolver-helpers\":45}],153:[function(require,module,exports){\n'use strict';\n\nvar render = require('./render/render.js');\nvar configuration = require('./configuration/configuration.js');\nvar xmlCxpModel = require('./model/strategies/xml-cxp-model');\n\nmodule.exports = {\n    // Factory methods\n    getRenderer: render.createInstance,\n    createConfiguration: configuration.createInstance,\n    getModel: xmlCxpModel.createInstance\n};\n},{\"./configuration/configuration.js\":146,\"./model/strategies/xml-cxp-model\":171,\"./render/render.js\":175}],154:[function(require,module,exports){\n'use strict';\n\n/**\n * ItemCollectionContext\n * @module model/core/item-collection-context\n * @exports {ItemCollectionContext}\n */\nmodule.exports = ItemCollectionContext;\n\n/**\n * ItemCollectionContext represents a collection of items.\n * It's responsibility to manipulate items in the given context\n * like creating new items, filtering them.\n * @param {CxpConfiguration} config Cxp configuration\n * @param {string} type Item type\n * @param {string} portalName A portal where an item is located\n * @param filter\n * @constructor\n * @interface\n */\nfunction ItemCollectionContext (config, type, portalName, filter) {\n    this._config = config;\n    this.type = type;\n    this._portalName = portalName;\n    this._filter = filter || null;\n    this._requiredParams = this._getRequiredParams();\n\n    this._logger = this._config.getLogger().child({\n        childName: 'item-collection-context'\n    });\n}\n\n/**\n * Returns required params for certain types\n * @private\n * @returns {Object} Required params as key/value\n */\nItemCollectionContext.prototype._getRequiredParams = function () {\n    switch (this.type) {\n        case 'link':\n            return {depth: 10, ps: 50};\n        case 'page':\n            return {depth: 10};\n\n        default:\n            return null;\n    }\n};\n\n/**\n * Gets array of all item objects of the given type in the current context\n * @returns {Promise} Promise of array of items\n */\n/* istanbul ignore next */\nItemCollectionContext.prototype.get = function () {\n    throw new Error('Method not implemented');\n};\n\n/**\n * Creates a new item using the given item model\n * @param {Object} itemModel Item model\n * @returns {Promise} Promise of newly created item model\n */\n/* istanbul ignore next */\nItemCollectionContext.prototype.create = function (itemModel) {\n    throw new Error('Method not implemented');\n};\n\n/**\n* Applies a filter to the itemContext which will applied to future get() calls\n* @param {String} name\n* @param {String} value\n* @param {string} operator One of 'lt', 'gt', 'eq', 'not', 'like'\n* @return {ItemCollectionContext}\n */\n/* istanbul ignore next */\nItemCollectionContext.prototype.filter = function (name, value, operator) {\n    throw new Error('Method not implemented');\n};\n\n},{}],155:[function(require,module,exports){\n'use strict';\n\n/**\n * ItemContext\n * @module model/core/item-context\n * @exports {ItemContext}\n */\nmodule.exports = ItemContext;\n\n/**\n * ItemContext for the item identified by the given name\n * @param {CxpConfiguration} config CXP Configuration\n * @param {String} itemName Item name\n * @param {String} itemType Type of the item\n * @param {Boolean} findById\n * @param {string} portalName A portal where an item is located\n * @constructor\n * @interface\n */\nfunction ItemContext(config, itemName, itemType, findById, portalName) {\n    this._config = config;\n    this.itemName = itemName;\n    this.itemType = itemType;\n    this._findById = findById || false;\n    this._portalName = portalName;\n    this._requiredParams = this._getRequiredParams();\n\n    this._logger = this._config.getLogger().child({\n        childName: 'item-context'\n    });\n}\n\n/**\n * Returns query params to be used to get models of certain item types\n * @private\n * @returns {Object} Required params as key/value\n */\nItemContext.prototype._getRequiredParams = function () {\n    var params = {};\n    var isInDesignmode = this._config.enabled('designmode');\n    var itemType = this.itemType;\n\n    if (itemType === 'link' || itemType === 'page') {\n        params.depth = 10;\n    }\n\n    if (isInDesignmode && (itemType === 'widget' || itemType === 'container' || itemType === 'page')) {\n        params.designmode = true;\n    }\n\n    return params;\n};\n\n/**\n * Retrieves item model object\n * @param {Object} [options] Additional options\n * @param {boolean} [options.allLocalizedValues] Indicates that model should have all localized preference values\n * @returns {Promise<Object>}\n */\n/* istanbul ignore next */\nItemContext.prototype.get = function (options) {\n    throw new Error('Method not implemented');\n};\n\n/**\n * Updates the item using the given item model\n * @param {Object} model New item model\n * @returns {Promise}\n */\n/* istanbul ignore next */\nItemContext.prototype.update = function (model) {\n    throw new Error('Method not implemented');\n};\n\n/**\n * Reverts item's customizations.\n * @returns {Promise}\n */\n/* istanbul ignore next */\nItemContext.prototype.revert = function () {\n    throw new Error('Method not implemented');\n};\n\n/**\n * Removes the item\n * @returns {Promise}\n */\n/* istanbul ignore next */\nItemContext.prototype.remove = function () {\n    throw new Error('Method not implemented');\n};\n\n\n},{}],156:[function(require,module,exports){\n'use strict';\n\n/**\n * ModelHelpers module provides helper functions\n * for manipulating/exploring item model\n * @module model/core/ModelHelpers\n */\nmodule.exports = {\n    modifyPreference: modifyPreference,\n    generateItemName: generateItemName,\n    getViewHint: getViewHint\n};\n\n/**\n * Changes preference's value with given one.\n * Throws error if preference not found.\n *\n * @param {Object} model Item model\n * @param {String} name Preference name\n * @param {String} [valueType] Type of the preference value\n * @param {Any} value New value for preference\n */\nfunction modifyPreference(model, name, value, valueType) {\n    var preference = model.preferences[name];\n\n    if (!preference) {\n        preference = {name: name};\n        model.preferences[name] = preference;\n    }\n\n    preference.value = value;\n\n    if (valueType) {\n        preference.type = valueType;\n    }\n}\n\n/**\n * Performance optimized UUID generation code\n *\n * @returns {String} uuid\n */\nvar lut = []; for (var i=0; i<256; i++) { lut[i] = (i<16?'0':'')+(i).toString(16); } // jshint ignore:line\nfunction generateUUID () {\n    /* jshint ignore:start */\n    var d0 = Math.random()*0xffffffff|0;\n    var d1 = Math.random()*0xffffffff|0;\n    var d2 = Math.random()*0xffffffff|0;\n    var d3 = Math.random()*0xffffffff|0;\n    return lut[d0&0xff]+lut[d0>>8&0xff]+lut[d0>>16&0xff]+lut[d0>>24&0xff]+'-'+\n        lut[d1&0xff]+lut[d1>>8&0xff]+'-'+lut[d1>>16&0x0f|0x40]+lut[d1>>24&0xff]+'-'+\n        lut[d2&0x3f|0x80]+lut[d2>>8&0xff]+'-'+lut[d2>>16&0xff]+lut[d2>>24&0xff]+\n        lut[d3&0xff]+lut[d3>>8&0xff]+lut[d3>>16&0xff]+lut[d3>>24&0xff];\n    /* jshint ignore:end */\n}\n\n/**\n * Generates new item name based on extendedItemName\n * and random generated UUID\n *\n * @param {String} extendedItemName Extended item's name\n * @returns {String} New item name\n */\nfunction generateItemName(extendedItemName) {\n    return extendedItemName + generateUUID();\n}\n\nfunction getViewHint(viewHintType, viewhints) {\n\n    //TODO: this code is temporarily duplicated in handlebars-helpers as a static function of the model helpers.\n    //This code and the code in the handlebars-helpers should be consolidated to the widget engine as part of BACKLOG-12205\n    \n    var viewHintsMap = {\n        designmode: ['designModeOnly'],\n        role: ['admin', 'manager', 'user', 'none'],\n        input: ['text-input', 'checkbox', 'select-one'],\n        order: []\n    };\n    \n    if(!viewhints || !viewhints.length || !viewHintsMap[viewHintType]) {\n        return null;\n    }\n\n    //look for matching value\n    var matchedViewHint = viewhints.filter(function(viewHint) {\n        return viewHintsMap[viewHintType].indexOf(viewHint) !== -1 || viewHint.slice(0, viewHintType.length) === viewHintType;\n    })[0];\n\n    //parse order number\n    if (matchedViewHint && viewHintType === 'order') {\n        var order = matchedViewHint.split('-');\n        order = order.length === 2 ? order[1] : null;\n        var parsedOrder = parseFloat(order);\n        if (!isNaN(parsedOrder)) {\n            order = parsedOrder;\n        }\n        matchedViewHint = order;\n    }\n\n    //set default values\n    matchedViewHint = matchedViewHint || (viewHintType === 'input' ? 'text-input' : null);\n\n    //convert to boolean if it's designmode view hint\n    if(viewHintType === 'designmode') {\n        matchedViewHint = !!matchedViewHint;\n    }\n\n    return matchedViewHint;\n}\n\n},{}],157:[function(require,module,exports){\n'use strict';\n\nvar modelHelpers = require('../core/model-helpers');\n\n/**\n * Model Api\n * @module model/core/model\n * @exports {Model} The constructor\n */\nmodule.exports = Model;\n\n/**\n * Model gets portal data\n * @param {CxpConfiguration} configuration\n * @constructor\n * @interface\n */\nfunction Model (configuration) {\n    this.config = configuration;\n    this.helpers = modelHelpers;\n}\n\n/**\n * It's a shorthand method for PortalContext.items().\n * @deprecated\n *\n * @see model/core/portal-context\n */\n/* istanbul ignore next */\nModel.prototype.items = function (itemType, opts) {\n    throw new Error('Method not implemented');\n};\n\n/**\n * It's a shorthand method for PortalContext.item().\n * @deprecated\n *\n * @see model/core/portal-context\n */\n/* istanbul ignore next */\nModel.prototype.item = function (itemName, itemType, opts) {\n    throw new Error('Method not implemented');\n};\n\n/**\n * It's a shorthand method for PortalContext.itemById().\n * @deprecated\n *\n * @see model/core/portal-context\n */\n/* istanbul ignore next */\nModel.prototype.itemById = function (itemId, itemType, opts) {\n    throw new Error('Method not implemented');\n};\n/**\n * Returns portal context in which operations with items in the portal can be performed\n *\n * @param {String} portalName A portal name\n * @returns {PortalContext}\n */\nModel.prototype.portal = function (portalName) {\n    throw new Error('Method not implemented');\n};\n\n},{\"../core/model-helpers\":156}],158:[function(require,module,exports){\n'use strict';\n\n/**\n *\n * @param {CxpConfiguration} config CXP Configuration object\n * @param {string} [portalName] the name of a portal\n * @constructor\n * @interface\n */\nfunction PortalContext(config, portalName) {\n    this._config = config;\n\n    // read-only property portalName\n    Object.defineProperty(this, 'portalName', {\n        value: portalName || this._config.get('portalName')\n    });\n}\n\n/**\n * Allows to manage an item identified by the given name\n *\n * @param {String} itemName Name of item\n * @param {String} itemType Type of item\n * @param {Object} [opts]\n * @param {CxpConfiguration} [opts.config] CXP configuration object\n * @returns {ItemContext}\n */\nPortalContext.prototype.item = function (itemName, itemType, opts) {\n    throw new Error('Method not implemented');\n};\n\n/**\n * Allows to manage an item identified by the given id\n *\n * @param {String} itemId Id of an item\n * @param {String} itemType Type of an item\n * @param {Object} [opts]\n * @param {CxpConfiguration} [opts.config] CXP configuration object\n * @returns {ItemContext}\n */\nPortalContext.prototype.itemById = function (itemId, itemType, opts) {\n    throw new Error('Method not implemented');\n};\n\n/**\n * Allows to manage items of the given type in the context of a portal\n *\n * @param {String} itemType Type of items\n * @param {Object} [opts]\n * @param {CxpConfiguration} [opts.config] CXP configuration object\n * @returns {ItemCollectionContext}\n */\nPortalContext.prototype.items = function (itemType, opts) {\n    throw new Error('Method not implemented');\n};\n\n/**\n * @module model/core/portal-context\n * @exports {PortalContext}\n */\nmodule.exports = PortalContext;\n},{}],159:[function(require,module,exports){\n'use strict';\n\nvar fetch = require('backbase-widget-engine/src/util/deduping-fetch');\nvar util = require('../../util');\n\n/**\n * Manages outgoing AJAX calls\n * @module model/rest-api-consumer\n * @exports {RestApiConsumer} Exports the constructor\n * @exports {createInstance} Exports the factory method\n */\nmodule.exports = {\n    RestApiConsumer: RestApiConsumer,\n    createInstance: createInstance\n};\n\n/**\n * RestApiConsumer responsible for making rest calls, caching?, authentication?\n * @param {Configuration} configuration\n * @constructor\n */\nfunction RestApiConsumer (configuration) {\n    this.configuration = configuration;\n\n    var baseUrl = configuration.get('remoteContextRoot');\n    if (typeof baseUrl !== 'string') {\n        throw new Error('RestApiConsumer needs remoteContextRoot variable to be set');\n    }\n\n    // Make sure baseUrl ends with \"/\"\n    if (/\\/$/.test(baseUrl) === false) {\n        baseUrl += '/';\n    }\n\n    this.baseUrl = baseUrl;\n\n    this.logger = configuration.getLogger().child({\n        childName: 'rest-api-consumer'\n    });\n}\n\n/**\n * Encodes given object as query parameters\n * @param {Object} params\n * @returns {String} Encoded parameters\n * @private\n */\nRestApiConsumer.prototype._encodeQueryParameters = function (params) {\n    var query = [];\n\n    Object.keys(params).forEach(function (key) {\n        if (Array.isArray(params[key])) {\n            params[key].forEach(function (value) {\n                query.push(key + '[]=' + encodeURIComponent(value));\n            });\n        } else {\n            query.push(key + '=' + encodeURIComponent(params[key]));\n        }\n    });\n\n    return query.join('&');\n};\n\n/**\n * Builds full url for given endpoint and parameters\n * @param {String} endpoint\n * @param {Object} [params]\n * @returns {string}\n * @private\n */\nRestApiConsumer.prototype._buildUrl = function (endpoint, params) {\n    var query = this._encodeQueryParameters(params || {});\n    var url = this.baseUrl + endpoint;\n\n    if (query.length > 0) {\n        url += (endpoint.indexOf('?') >= 0 ? '&' : '?') + query;\n    }\n\n    return url;\n};\n\n/**\n * Makes ajax request and manage request's lifecycle.\n * @param {String} endpoint Endpoint url\n * @param {Object} [params] Query parameters\n * @param {Object} options Fetch options\n * @returns {Promise}\n * @private\n */\nRestApiConsumer.prototype._makeRequest = function (endpoint, options, params) {\n    var self = this;\n    var requestUrl = this._buildUrl(endpoint, params);\n\n    this.logger.debug('Making REST request to [%s]', requestUrl);\n\n    var promise =  fetch(requestUrl, options).then(function (response) {\n        if (response.status < 200 || response.status >= 300) {\n            var error = new Error(response.statusText);\n            error.response = response;\n            throw error;\n        }\n\n        self.logger.debug('Request successful server responds %s', response.status);\n        return response;\n    });\n\n    promise.catch(function (err) {\n        self.logger.error('Request failed with: %s', err);\n    });\n\n    return promise;\n};\n\n/**\n * Makes a GET request to given endpoint\n * @param {String} endpoint\n * @param {Object} [params] Query params\n * @returns {Promise}\n */\nRestApiConsumer.prototype.get = function (endpoint, params) {\n    return this._makeRequest(endpoint, {\n        method: 'GET',\n        headers: {\n            // this is to prevent IE/Edge from caching of REST endpoint responses\n            'Pragma' : 'no-cache',\n            'Cache-Control' : 'no-cache'\n        }\n    }, params);\n};\n\n/**\n * Makes a POST request to given endpoint\n * @param {String} endpoint\n * @param {Object} data Request body\n * @returns {Promise}\n */\nRestApiConsumer.prototype.post = function (endpoint, data) {\n    var headers = {};\n\n    if (util.isObject(data)) {\n        data = JSON.stringify(data);\n    }\n\n    var mimeType = determineContentType(data);\n    if (mimeType) {\n        headers['Content-Type'] = mimeType;\n    }\n\n    //sending a token here is redundant unless the content type is x-www-url-form-encoded or multipart/form-data,\n    //but it gives people piece of mind.\n    var csrfToken = getCsrfToken(this.configuration);\n    if(csrfToken) {\n        headers[csrfToken.name] = csrfToken.value;\n    }\n\n    return this._makeRequest(endpoint, {\n        method: 'POST',\n        body: data,\n        headers: headers\n    });\n};\n\n/**\n * Makes a PUT request to given endpoint\n * @param {String} endpoint\n * @param {Object} data Request body\n * @returns {Promise}\n */\nRestApiConsumer.prototype.put = function (endpoint, data) {\n    var headers = {};\n\n    if (util.isObject(data)) {\n        data = JSON.stringify(data);\n    }\n\n    var mimeType = determineContentType(data);\n    if (mimeType) {\n        headers['Content-Type'] = mimeType;\n    }\n\n    //sending a token here is redundant, but it gives people piece of mind\n    var csrfToken = getCsrfToken(this.configuration);\n    if(csrfToken) {\n        headers[csrfToken.name] = csrfToken.value;\n    }\n\n    return this._makeRequest(endpoint, {\n        method: 'PUT',\n        body: data || '',\n        headers: headers\n    });\n};\n\n/**\n * Makes a DELETE request to given endpoint\n * @param {String} endpoint\n * @param {Object} params Query params\n * @returns {Promise}\n */\nRestApiConsumer.prototype.delete = function (endpoint, params) {\n\n    var headers = {};\n\n    //sending a token here is redundant, but it gives people piece of mind\n    var csrfToken = getCsrfToken(this.configuration);\n    if(csrfToken) {\n        headers[csrfToken.name] = csrfToken.value;\n    }\n\n    return this._makeRequest(endpoint, {\n        method: 'DELETE',\n        headers: headers\n    }, params);\n};\n\n/**\n * Returns an instance of RestApiConsumer\n * @param opts\n * @param opts.baseUrl Base url for api endpoints\n * @param opts.concurrentLimit Maximum number of concurrent ajax calls\n * @returns {RestApiConsumer}\n */\nfunction createInstance (opts) {\n    return new RestApiConsumer(opts);\n}\n\n/**\n * Finds the best Content-Type header value for the given data\n * @param {Object|String} data\n * @returns {String} Mime type\n */\nfunction determineContentType (data) {\n    if (util.isObject(data)) {\n        return 'application/json';\n    } else if (data && data.indexOf('<?xml') >= 0) {\n        return 'text/xml';\n    } else {\n        return 'application/xml';\n    }\n}\n\nfunction getCsrfToken(config) {\n    return config.get('csrfToken') || null;\n}\n\n},{\"../../util\":178,\"backbase-widget-engine/src/util/deduping-fetch\":78}],160:[function(require,module,exports){\n'use strict';\n\nvar generateProperty = require('./property-generator');\n\nvar ITEM_PROPERTY_NAMES = ['type', 'name', 'contextItemName', 'extendedItemName', 'parentItemName'];\n\nvar BASIC_PROPERTIES = [\n    'shortName',\n    'description',\n];\n\n/**\n * Generates xml for given link model\n * @param {XmlBuilder} xml XML\n * @param {Object} model\n * @param {Array=} additionalProperties Any additional properties to generate\n * @returns {XmlBuilder} Link xml\n */\nmodule.exports = function(xml, model, additionalProperties) {\n\n    additionalProperties = additionalProperties || [];\n\n    ITEM_PROPERTY_NAMES.forEach(function(propertyName) {\n        if (model.hasOwnProperty(propertyName)) {\n            xml.beginElement(propertyName);\n            xml.text(model[propertyName]);\n            xml.endElement(propertyName);\n        }\n    });\n\n    if (model.id) {\n        xml.beginElement('uuid');\n        xml.text(model.id);\n        xml.endElement('uuid');\n    }\n\n    if (typeof model.manageable === 'boolean') {\n        xml.beginElement('manageable');\n        xml.text(model.manageable ? 'true' : 'false');\n        xml.endElement('manageable');\n    }\n\n    xml.beginElement('properties');\n    BASIC_PROPERTIES.forEach(function(property) {\n        if (model[property]) {\n            generateProperty(xml, { name: property, readonly: false, value: model[property] });\n        }\n    });\n    if (Array.isArray(additionalProperties) && additionalProperties.length > 0) {\n        additionalProperties.forEach(function(property) {\n            generateProperty(xml, property);\n        });\n    }\n    if (Array.isArray(model.icons) && model.icons.length > 0) {\n        model.icons.forEach(function(icon, i) {\n            var propertyName = i === 0 ? 'thumbnailUrl' : 'icon';\n            generateProperty(xml, { name: propertyName, readonly: false, value: icon });\n        });\n    }\n    var preferences = model.preferences || {};\n    Object.keys(preferences).forEach(function(prefName) {\n        generateProperty(xml, preferences[prefName], model.locale);\n    });\n    xml.endElement('properties');\n\n    if (model.tags && model.tags.length > 0) {\n        xml.beginElement('tags');\n        model.tags.forEach(function(tag) {\n            var attrs = { type: tag.type };\n            if (tag.manageable) {\n                attrs.manageable = true;\n            }\n            if (tag.blacklist) {\n                attrs.blacklist = true;\n            }\n            xml.beginElement('tag', attrs);\n            xml.text(tag.name);\n            xml.endElement('tag');\n        });\n        xml.endElement('tags');\n    }\n\n    return xml;\n};\n},{\"./property-generator\":163}],161:[function(require,module,exports){\n'use strict';\n\nvar XmlBuilder = require('./xml-builder');\nvar baseXmlGenerator = require('./base-xml-generator');\n\n/**\n * Generates xml for given link model\n * @param {Object} model Link model\n * @returns {String} Link xml\n */\nmodule.exports = function (model) {\n    var xml = new XmlBuilder();\n\n    xml.beginElement('link');\n    baseXmlGenerator(xml, model);\n    xml.endElement('link');\n\n    return xml.toString();\n};\n\n},{\"./base-xml-generator\":160,\"./xml-builder\":165}],162:[function(require,module,exports){\n'use strict';\n\nvar XmlBuilder = require('./xml-builder');\nvar baseXmlGenerator = require('./base-xml-generator');\n\n/**\n * Generates xml for given page model\n * @param {Object} model Page model\n * @returns {String} Page xml\n */\nmodule.exports = function (model) {\n    var xml = new XmlBuilder();\n\n    xml.beginElement('page');\n    baseXmlGenerator(xml, model);\n    xml.endElement('page');\n\n    return xml.toString();\n};\n\n},{\"./base-xml-generator\":160,\"./xml-builder\":165}],163:[function(require,module,exports){\n'use strict';\n\nvar NO_LOCALE_NAME = require('backbase-widget-engine/src/strategies/parser/xml/constants').NO_LOCALE_NAME;\n\n/**\n * Generates single property element for given property\n * @param {XmlBuilder} xml The XML builder\n * @param {Object} property The property object\n * @param {string=} currentLocale The current locale\n */\nfunction generateProperty(xml, property, currentLocale) {\n    var attrs = {\n        name: property.name,\n        readonly: property.readonly || false\n    };\n    var type = property.type || (property.name === 'order' ? 'double' : null);\n\n    if (typeof property.manageable === 'boolean') {\n        attrs.manageable = property.manageable;\n    }\n\n    if (typeof property.localizable === 'boolean') {\n        attrs.localizable = property.localizable;\n    }\n\n    if (property.markedForDeletion === true) {\n        attrs.markedForDeletion = true;\n    }\n\n    if (property.label) {\n        attrs.label = property.label;\n    }\n\n    if (type) {\n        attrs.type = type;\n    }\n\n    if (property.viewhints && property.viewhints.length > 0) {\n        attrs.viewHint = property.viewhints.join(',');\n    }\n\n    xml.beginElement('property', attrs);\n    generateValues(xml, property, currentLocale);\n    xml.endElement('property');\n}\n\n/**\n * Build a basic value element\n * @param {XmlBuilder} xml The XML builder to append to\n * @param {*} value The value of the element\n * @param {Object=} attributes The attributes of the element\n */\nfunction buildValueElement(xml, value, attributes) {\n    xml.beginElement('value', attributes);\n    xml.text(value);\n    xml.endElement('value');\n}\n\n/**\n * Generate the values for each element\n * @param {XmlBuilder} xml The XML builder\n * @param {Object} property The property to build\n * @param {string=} currentLocale The current locale for i18n\n */\nfunction generateValues(xml, property, currentLocale) {\n    var locale = currentLocale || NO_LOCALE_NAME;\n\n    if (property.localizable) {\n        var langObj = property._lang;\n        if (!langObj) {\n            langObj = {};\n            langObj[locale] = { value: property.value };\n        }\n\n        Object.keys(langObj).forEach(function (localeName) {\n            var localizedValueObj = langObj[localeName];\n            var attributes = {};\n\n            if (localizedValueObj.markedForDeletion === true) {\n                attributes.markedForDeletion = true;\n            }\n            if (localeName !== NO_LOCALE_NAME) {\n                attributes.locale = localeName;\n            }\n\n            buildValueElement(xml, localizedValueObj.value, attributes);\n        });\n    } else {\n        buildValueElement(xml, property.value);\n    }\n}\n\nmodule.exports = generateProperty;\n},{\"backbase-widget-engine/src/strategies/parser/xml/constants\":64}],164:[function(require,module,exports){\n'use strict';\n\nvar XmlBuilder = require('./xml-builder');\nvar baseXmlGenerator = require('./base-xml-generator');\n\nvar WIDGET_PROPERTIES = [\n    'author',\n    'authorEmail',\n    'authorHref',\n    'license',\n    'licenseHref',\n];\n\n/**\n * Generates xml for given widget model\n * @param {Object} model Widget model\n * @param {Boolean} [isContainer]\n * @returns {String} Widget xml\n */\nmodule.exports = function(model, isContainer) {\n    var elementName = isContainer ? 'container' : 'widget';\n\n    var additionalProperties = [];\n\n    WIDGET_PROPERTIES.forEach(function(property) {\n        if (model[property]) {\n            additionalProperties.push({ name: property, readonly: false, value: model[property] });\n        }\n    });\n\n    if (model.content && model.content.src) {\n        additionalProperties.push({ name: 'src', readonly: false, value: model.content.src });\n    }\n\n    if (model.altContent) {\n        Object.keys(model.altContent).forEach(function(contentName) {\n            additionalProperties.push({\n                name: 'src.' + contentName,\n                readonly: false,\n                value: model.altContent[contentName].src\n            });\n        });\n    }\n\n    // viewmodes\n    if (model.viewmodes && model.viewmodes.length > 0) {\n        additionalProperties.push({ name: 'viewmodes', readonly: false, value: model.viewmodes.join(' ') });\n    }\n\n    var xml = new XmlBuilder();\n    xml.beginElement(elementName);\n    baseXmlGenerator(xml, model, additionalProperties);\n    xml.endElement(elementName);\n\n    return xml.toString();\n};\n},{\"./base-xml-generator\":160,\"./xml-builder\":165}],165:[function(require,module,exports){\n'use strict';\n\n/**\n * @module model/core/XmlGenerator\n * @export {XmlBuilder}\n */\nmodule.exports = XmlBuilder;\n\nvar xmlEntityMap = {\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    '&': '&amp;'\n};\nvar xmlSpecialCharRegexp = /[<>\"&]/g;\n\n/**\n * Converts XML reserved characters to corresponding entities\n * @param {string} str\n * @returns {string}\n */\nfunction escapeXML(str) {\n    return str.replace(xmlSpecialCharRegexp, function (char) {\n        return xmlEntityMap[char] || char;\n    });\n}\n\n/**\n * Converts a value of any type to a string.\n * @param {*} value\n * @returns {string}\n */\nfunction convertToString(value) {\n    return value === null || value === undefined ? '' : String(value);\n}\n\nfunction XmlBuilder () {\n    this._xml = '';\n}\n\nXmlBuilder.prototype.beginElement = function (tagName, attributes) {\n    var attributesString = '';\n    if (attributes) {\n        attributesString = Object.keys(attributes).reduce(function (str, attrName) {\n            var valueStr = convertToString(attributes[attrName]);\n            return str + ' ' + attrName + '=\"' + escapeXML(valueStr) + '\"';\n        }, '');\n    }\n\n    this._xml += '<' + tagName + attributesString + '>';\n};\n\nXmlBuilder.prototype.endElement = function (tagName) {\n    this._xml += '</' + tagName + '>';\n};\n\nXmlBuilder.prototype.text = function (text) {\n    this._xml += escapeXML(convertToString(text));\n};\n\n/**\n * Adds an XML fragment to the builder\n * @param {string|XmlBuilder} xml\n */\nXmlBuilder.prototype.xml = function (xml) {\n    this._xml += xml;\n};\n\nXmlBuilder.prototype.toString = function () {\n    return this._xml;\n};\n\n},{}],166:[function(require,module,exports){\n'use strict';\n\nvar widgetGenerator = require('./widget-xml-generator');\nvar generatePage = require('./page-xml-generator');\nvar generateLink = require('./link-xml-generator');\nvar XmlBuilder = require('./xml-builder');\n\nmodule.exports = {\n    generate: generate,\n    generateWidget: generateWidget,\n    generateContainer: generateContainer,\n    generatePage: generatePage,\n    generateLink: generateLink,\n    generateCatalog: generateCatalog\n};\n\nfunction generateContainer(model) {\n    return widgetGenerator(model, true);\n}\n\nfunction generateWidget(model) {\n    return widgetGenerator(model, false);\n}\n\nfunction generate(model, type) {\n    var itemType = type || model.type;\n    if (!itemType) {\n        throw new TypeError('Item type is required. Either provide it as the second argument or set \"type\" property of the model');\n    }\n\n    var methodName = 'generate' + itemType[0].toUpperCase() + itemType.substr(1);\n    if (!module.exports[methodName]) {\n        throw new Error('Unsupported type passed ' + type);\n    }\n\n    return module.exports[methodName](model);\n}\n\n/**\n * Serializes item(s) to XML and wraps them into \"catalog\" element\n *\n * @param {Object|Array<Object>} catalogItems An item or an array of items to serialize in XML\n * @returns {string}\n * @throws {TypeError}\n */\nfunction generateCatalog(catalogItems) {\n    if (!catalogItems) {\n        throw new TypeError('catalogItems argument is required. It must be an item model object or an array of such objects.');\n    }\n    if (!Array.isArray(catalogItems)) {\n        catalogItems = [catalogItems];\n    }\n\n    var xmlBuilder = new XmlBuilder();\n\n    xmlBuilder.beginElement('catalog');\n    catalogItems.forEach(function(item) {\n        xmlBuilder.xml(generate(item));\n    });\n    xmlBuilder.endElement('catalog');\n\n    return xmlBuilder.toString();\n}\n},{\"./link-xml-generator\":161,\"./page-xml-generator\":162,\"./widget-xml-generator\":164,\"./xml-builder\":165}],167:[function(require,module,exports){\n'use strict';\n\nvar merge = require('../../../util').merge;\nvar parseItem = require('backbase-widget-engine/src/strategies/parser/xml/item');\nvar helpers = require('backbase-widget-engine/src/strategies/parser/xml/helpers');\n\nmodule.exports = parseLink;\n\nvar linkParsers = {\n    'LINK': parseHeader,\n    'divider': parseDivider,\n    'page': parsePage,\n    'externalLink': parseExternalLink,\n    'redirect': parseRedirect,\n    'alias': parseAlias,\n    'state': parseState\n};\n\n/**\n * Extracts link specific data from given node.\n * @param {Node} node Link node <link ...>\n */\nfunction parseLink(node) {\n    var item = parseItem(node);\n    var properties = item.preferencesDict;\n\n    // TODO: check for other types\n    var type = properties.itemType;\n    if (type === 'menuHeader') {\n        type = 'LINK';\n    }\n\n    var link = {\n        children: [],\n        itemType: type,\n        title: properties.title\n    };\n\n    if (typeof linkParsers[type] === 'function') {\n        linkParsers[type](link, properties);\n    }\n\n    var children = parseChildren(node);\n    if ((children || []).length > 0) {\n        link.children = children;\n    }\n\n    delete link.preferencesDict;\n\n    return merge(item, link);\n}\n\n/**\n * Parses Header specific link nodes (Main Navigation, Not in Navigation)\n * @param {Object} link\n * @private\n */\nfunction parseHeader(link) {\n    link.navPattern = null;\n}\n\n/**\n * Parses Page specific link nodes\n * @param {Object} link\n * @param {Object} properties\n * @private\n */\nfunction parsePage(link, properties) {\n    link.itemRef = properties.ItemRef;\n    link.href = properties.generatedUrl;\n\n    if (properties.Url) {\n        link.url = properties.Url;\n    }\n\n    link.generatedUrl = properties.generatedUrl;\n}\n\n/**\n * Parses Divider specific link nodes\n * @param {Object} link\n * @param {Object} properties\n * @private\n */\nfunction parseDivider(link, properties) {\n    link.className = properties.className;\n}\n\n/**\n * Pasers ExternalLink specific link nodes\n * @param {Object} link\n * @param {Object} properties\n * @private\n */\nfunction parseExternalLink(link, properties) {\n    link.url = properties.Url;\n}\n\n/**\n * Parses Redirect specific link nodes\n * @param {Object} link\n * @param {Object} properties\n * @private\n */\nfunction parseRedirect(link, properties) {\n    link.redirectionMethod = properties.redirectionMethod;\n    link.url = properties.Url;\n    link.targetPage = properties.targetPage;\n}\n\n/**\n * Parses Alias specific link nodes\n * @param {Object} link\n * @param {Object} properties\n * @private\n */\nfunction parseAlias(link, properties) {\n    link.itemRef = properties.ItemRef;\n    link.href = properties.generatedUrl;\n\n    if (properties.Url) {\n        link.url = properties.Url;\n    }\n\n    link.generatedUrl = properties.generatedUrl;\n}\n\n/**\n * Parses State specific link nodes\n * @param {Object} link\n * @param {Object} properties\n * @private\n */\nfunction parseState(link, properties) {\n    link.itemRef = properties.ItemRef;\n    link.href = properties.generatedUrl;\n\n    if (properties.Url) {\n        link.url = properties.Url;\n    }\n\n    link.generatedUrl = properties.generatedUrl;\n\n    try {\n        link.state = JSON.parse(properties.State);\n    } catch (err) {\n        //state property cannot be parsed\n        throw new Error('Failed to parse \"state\" property of link [' + link.itemRef + ']. Error: ' + err.message);\n    }\n\n    if (properties.sectionName) {\n        link.sectionName = properties.sectionName;\n    }\n}\n\n/**\n * Parses page's childrens.\n * @param {Node} node Page node\n * @return {Array<object>} Array of children pages\n */\nfunction parseChildren(node) {\n    var parent = helpers.getChildElementByName(node, 'children');\n    var childrenElements = parent && helpers.getChildElements(parent);\n\n    return childrenElements && childrenElements.map(parseLink);\n}\n\n},{\"../../../util\":178,\"backbase-widget-engine/src/strategies/parser/xml/helpers\":65,\"backbase-widget-engine/src/strategies/parser/xml/item\":66}],168:[function(require,module,exports){\n'use strict';\n\nvar parseLink       = require('./link');\nvar parsePage       = require('./page');\nvar parsePortal     = require('./portal');\nvar baseModelParser = require('backbase-widget-engine/src/strategies/parser/xml/model-parser');\n\nvar parser = baseModelParser.createInstance();\n\nparser.setParser('link', parseLink);\nparser.setParser('page', parsePage);\nparser.setParser('portal', parsePortal);\n\n/**\n * XML model parser. It extends model parser from widget by adding capabilities of parsing portal, page and link items.\n * @module model/parsers/xml/model-parser\n */\nmodule.exports = parser;\n\n},{\"./link\":167,\"./page\":169,\"./portal\":170,\"backbase-widget-engine/src/strategies/parser/xml/model-parser\":67}],169:[function(require,module,exports){\n'use strict';\n\nvar parseItem   = require('backbase-widget-engine/src/strategies/parser/xml/item');\nvar parseWidget = require('backbase-widget-engine/src/strategies/parser/xml/widget');\nvar common      = require('backbase-widget-engine/src/strategies/parser/xml/common');\nvar helpers     = require('backbase-widget-engine/src/strategies/parser/xml/helpers');\nvar merge       = require('../../../util').merge;\n\nmodule.exports = parsePage;\n\n/**\n * Parses given page specific XML element into JS object\n * @param {Element} pageEl <page ...>\n * @returns {Object} page object\n */\nfunction parsePage (pageEl) {\n    var item = parseItem(pageEl);\n    var properties = item.preferencesDict;\n\n    var page = {\n        content:     parseContent(properties),\n        children:    [],\n        description: properties.description,\n        icons:       common.parseIcons(properties)\n    };\n\n    var children = common.parseChildren(pageEl, parseWidget);\n    if ((children || []).length > 0) {\n        page.children = children;\n    }\n\n    delete item.preferencesDict;\n\n    return merge(item, page);\n}\n\n/**\n * Parses start file specific part of a page\n * @param {Object} properties Properties as Key/Value\n * @return {Object} Content object\n */\nfunction parseContent(properties) {\n    var content = { src: '', type: 'text/html', encoding: 'UTF-8' };\n    helpers.assignIfExists(content, 'src', properties.src);\n\n    return content;\n}\n\n},{\"../../../util\":178,\"backbase-widget-engine/src/strategies/parser/xml/common\":63,\"backbase-widget-engine/src/strategies/parser/xml/helpers\":65,\"backbase-widget-engine/src/strategies/parser/xml/item\":66,\"backbase-widget-engine/src/strategies/parser/xml/widget\":68}],170:[function(require,module,exports){\n'use strict';\n\nvar parseItem = require('backbase-widget-engine/src/strategies/parser/xml/item');\n\n/**\n * Parses portal XML model into JS object\n * @param {Element} portalEl An element object that represents portal model\n * @returns {Object} portal object\n */\nfunction parsePortal (portalEl) {\n    var item = parseItem(portalEl);\n    delete item.preferencesDict;\n\n    return item;\n}\n\nmodule.exports = parsePortal;\n},{\"backbase-widget-engine/src/strategies/parser/xml/item\":66}],171:[function(require,module,exports){\n'use strict';\n\nvar Model = require('../core/model');\nvar XmlPortalContext = require('./xml-portal-context');\n\n/**\n * Model Api - XmlCxp implementation\n * @module model/strategies/xml-cxp-model\n * @exports {XmlCxpModel} The constructor\n */\nmodule.exports = {\n    XmlCxpModel: XmlCxpModel,\n    createInstance: createInstance\n};\n\n/**\n * XmlCxp implementation for Model interface\n * @see model/core/model/Model\n * @param {Configuration} configuration\n * @constructor\n */\nfunction XmlCxpModel(configuration) {\n    Model.apply(this, [configuration]);\n}\n\nXmlCxpModel.prototype = Object.create(Model.prototype);\n\n/**\n * @see model/core/model#items\n */\nXmlCxpModel.prototype.items = function (itemType, opts) {\n\treturn new XmlPortalContext(this.config).items(itemType, opts);\n};\n\n/**\n * @see model/core/model#item\n */\nXmlCxpModel.prototype.item = function (itemName, itemType, opts) {\n    return new XmlPortalContext(this.config).item(itemName, itemType, opts);\n};\n\n/**\n * @see model/core/model#itemById\n */\nXmlCxpModel.prototype.itemById = function (itemId, itemType, opts) {\n    return new XmlPortalContext(this.config).itemById(itemId, itemType, opts);\n};\n\n/**\n * @see model/core/model#portal\n */\nXmlCxpModel.prototype.portal = function portal(portalName) {\n    return new XmlPortalContext(this.config, portalName);\n};\n\n/**\n * Creates a new XmlCxpModel instance\n * @param {Configuration} configuration\n * @returns {XmlCxpModel}\n */\nfunction createInstance(configuration) {\n    return new XmlCxpModel(configuration);\n}\n\n},{\"../core/model\":157,\"./xml-portal-context\":174}],172:[function(require,module,exports){\n'use strict';\n\nvar xmlModelParser          = require('../parsers/xml/model-parser');\nvar xmlGenerator            = require('../generators/xml-generator');\nvar ItemCollectionContext   = require('../core/item-collection-context');\nvar restApiConsumer         = require('../core/rest-api-consumer');\n\n/**\n * XmlItemCollectionContext\n * @module model/strategies/xml-item-collection-context\n * @exports {XmlItemCollectionContext}\n */\nmodule.exports = XmlItemCollectionContext;\n\n/**\n * @see model/core/item-collection-context\n */\nfunction XmlItemCollectionContext (config, type, portalName, filters) {\n    ItemCollectionContext.call(this, config, type, portalName, filters);\n\n    this._apiConsumer = restApiConsumer.createInstance(this._config);\n}\n\nXmlItemCollectionContext.prototype = Object.create(ItemCollectionContext.prototype);\n\n/**\n * @see model/core/item-collection-context\n */\nXmlItemCollectionContext.prototype.get = function () {\n    var portalName = this._portalName;\n    var endpoint = 'portals/' + portalName + '/' + this.type + 's';\n    var filter = this._filter;\n    var requiredParams = this._requiredParams;\n    var filterQuery = [];\n    var requiredParamsQuery = [];\n\n    if (filter) {\n        filterQuery = ['f=' + filter.name + '(' + filter.operator + ')' + encodeURIComponent(filter.value)];\n    }\n\n    // Some item types requires certain type of query params\n    // @see model/core/item-collection-context#_getRequiredParams\n    if (requiredParams) {\n        requiredParamsQuery = Object.keys(requiredParams).map(function (key) {\n            return encodeURIComponent(key) + '=' + encodeURIComponent(requiredParams[key]);\n        });\n    }\n\n    var query = filterQuery.concat(requiredParamsQuery).join('&');\n    endpoint += (query.length > 0 ? '?' + query : '');\n\n    return this._apiConsumer.get(endpoint).then(function (response) {\n        return response.text();\n    }).then(function (xmlString) {\n        this._logger.info('Parsing %s', endpoint);\n        var items = xmlModelParser.parseList(xmlString);\n        this._logger.info('%s parsed successfully');\n\n        return items;\n    }.bind(this));\n};\n\n/**\n * @see model/core/item-collection-context\n */\nXmlItemCollectionContext.prototype.filter = function (name, value, operator) {\n    var filter = { name: name, value: value, operator: operator || 'eq' };\n    return new XmlItemCollectionContext(this._config, this.type, this._portalName ,filter);\n};\n\n/**\n * @see model/core/item-collection-context#create\n */\nXmlItemCollectionContext.prototype.create = function (model) {\n    var requiredFields = ['parentItemName'];\n    if (this.type !== 'link') {\n        requiredFields.push('extendedItemName');\n    }\n\n    requiredFields.forEach(function (field) {\n        if (typeof model[field] === 'undefined' ||\n            typeof model[field] !== 'string' ||\n            model[field].length === 0) {\n            throw new Error('ItemCollectionContext.create needs the model has the field named: ' + field);\n        }\n    });\n\n    var portalName = this._portalName;\n\n    model.contextItemName = portalName;\n\n    if (typeof model.preferences === 'undefined') {\n        model.preferences = {};\n    }\n\n    var itemXml = xmlGenerator.generate(model, this.type);\n    var endpoint = 'portals/' + portalName + '/' + this.type + 's';\n\n    return this._apiConsumer.post(endpoint, itemXml).then(function (response) {\n        return response.text();\n    }).then(function (newItemXml) {\n        this._logger.info('Parsing newly created item\\'s xml');\n        var item = xmlModelParser.parse(newItemXml);\n        this._logger.info('Newly created item parsed successfully');\n\n        return item;\n    }.bind(this));\n};\n\n},{\"../core/item-collection-context\":154,\"../core/rest-api-consumer\":159,\"../generators/xml-generator\":166,\"../parsers/xml/model-parser\":168}],173:[function(require,module,exports){\n'use strict';\n\nvar xmlModelParser  = require('../parsers/xml/model-parser');\nvar xmlGenerator    = require('../generators/xml-generator');\nvar restApiConsumer = require('../core/rest-api-consumer');\nvar ItemContext     = require('../core/item-context');\n\n/**\n * XmlItemContext\n * @module model/strategies/xml-item-context\n * @exports {XmlItemContext}\n */\nmodule.exports = XmlItemContext;\n\n/**\n * @see model/core/item-context\n */\nfunction XmlItemContext (config, itemName, itemType, findById, portalName) {\n    ItemContext.call(this, config, itemName, itemType, findById, portalName);\n\n    this._apiConsumer = restApiConsumer.createInstance(this._config);\n}\n\nXmlItemContext.prototype = Object.create(ItemContext.prototype);\n\n/**\n * @see model/core/item-context/ItemContext#get\n */\nXmlItemContext.prototype.get = function (options) {\n    var opts = typeof options === 'object' ? options : {};\n\n    if (this._findById) {\n        return this._getItemById();\n    } else {\n        return this._getItemByName(opts);\n    }\n};\n\n/**\n * @private\n */\nXmlItemContext.prototype._buildParams = function () {\n    return Object.keys(this._requiredParams).map(function (key) {\n        return encodeURIComponent(key) + '=' + encodeURIComponent(this._requiredParams[key]);\n    }.bind(this)).join('&');\n};\n\n/**\n * Gets item model by its name\n * @param {Object} opts\n * @private\n */\nXmlItemContext.prototype._getItemByName = function (opts) {\n    var portalName = this._portalName;\n    var itemEndpointPart = this.itemType + 's/' + this.itemName;\n    var endpointEnding = opts.allLocalizedValues === true ? '/details' : '.xml';\n    var endpoint = 'portals/' + portalName + '/' + itemEndpointPart + endpointEnding;\n\n    var params = this._buildParams();\n    if (params.length > 0) {\n        endpoint += '?' + params;\n    }\n\n    return this._apiConsumer.get(endpoint).then(function (response) {\n        return response.text();\n    }).then(function (xmlString) {\n        this._logger.info('Parsing response from [%s]', itemEndpointPart);\n        var item = xmlModelParser.parse(xmlString);\n        this._logger.info('Response from [%s] parsed successfully', itemEndpointPart);\n\n        return item;\n    }.bind(this));\n};\n\n/**\n * @private\n */\nXmlItemContext.prototype._getItemById = function () {\n    var portalName = this._portalName;\n    var uuid = encodeURIComponent(this.itemName);\n    var itemTypePlural = this.itemType + 's';\n    var itemTypeEndpointPart = itemTypePlural + '?f=uuid(eq)' + uuid;\n    var endpoint = 'portals/' + portalName + '/' + itemTypeEndpointPart;\n\n    var params = this._buildParams();\n    if (params.length > 0) {\n        endpoint += '&' + params;\n    }\n\n    return this._apiConsumer.get(endpoint).then(function (response) {\n        return response.text();\n    }).then(function (xmlString) {\n        this._logger.info('Parsing response from [%s]', itemTypeEndpointPart);\n        var items = xmlModelParser.parseList(xmlString);\n        this._logger.info('Response from [%s] parsed successfully', itemTypeEndpointPart);\n\n        var item = items[0];\n        if (!item) {\n            throw new Error('Item of type [' + this.itemType + '] with id [' + this.itemName + '] not found');\n        }\n\n        return item;\n    }.bind(this));\n};\n\n/**\n * @see model/core/item-context/ItemContext#update\n */\nXmlItemContext.prototype.update = function (model) {\n    var portalName = this._portalName;\n    var endpoint = 'portals/' + portalName + '/' + this.itemType + 's/' + this.itemName;\n\n    // this is a hacky way to fix BACKLOG-14503 issue. Unset parentItemName to let\n    // portal server select the correct one. Also it's safer to unset id as it's going to be changed\n    // when an instance of an item is created.\n    // TODO: fix virtual extensions issue a proper way\n    var modelToSave = model;\n\n    if (model.name && model.name.indexOf('~') > 0) {\n        modelToSave = Object.create(model);\n        // shadow properties from prototype\n        modelToSave.parentItemName = undefined;\n        modelToSave.extendedItemName = undefined;\n        modelToSave.id = undefined;\n    }\n\n    var modelXml = xmlGenerator.generate(modelToSave, this.itemType);\n\n    return this._apiConsumer.put(endpoint, modelXml).then(function () {\n        this._logger.info('%s named %s updated successfully', this.itemType, this.itemName);\n    }.bind(this));\n};\n\n/**\n * @see model/core/item-context/ItemContext#revert\n */\nXmlItemContext.prototype.revert = function () {\n    var endpoint = 'portals/' + this._portalName + '/' + this.itemType + 's/' + this.itemName + '.xml';\n\n    return this._apiConsumer.delete(endpoint);\n};\n\n/**\n * @see model/core/item-context/ItemContext#remove\n */\nXmlItemContext.prototype.remove = function () {\n    var endpoint = 'portals/' + this._portalName + '/' + this.itemType + 's/' + this.itemName;\n\n    return this._apiConsumer.delete(endpoint);\n};\n\n},{\"../core/item-context\":155,\"../core/rest-api-consumer\":159,\"../generators/xml-generator\":166,\"../parsers/xml/model-parser\":168}],174:[function(require,module,exports){\n'use strict';\n\nvar PortalContext = require('../core/portal-context');\nvar XmlItemContext = require('./xml-item-context');\nvar XmlItemCollectionContext = require('./xml-item-collection-context');\n\nfunction XmlPortalContext() {\n    PortalContext.apply(this, [].slice.call(arguments));\n}\n\nXmlPortalContext.prototype = Object.create(PortalContext.prototype);\n\n/**\n * Implementation of PortalContext.item method\n * @see model/core/portal-context#item\n */\nXmlPortalContext.prototype.item = function (itemName, itemType, opts) {\n    var config = opts && opts.config || this._config;\n    return new XmlItemContext(config, itemName, itemType, false, this._getPortalName(opts));\n};\n\n/**\n * Implementation of PortalContext.itemById method\n * @see model/core/portal-context#itemById\n */\nXmlPortalContext.prototype.itemById = function (itemId, itemType, opts) {\n    var config = opts && opts.config || this._config;\n    return new XmlItemContext(config, itemId, itemType, true, this._getPortalName(opts));\n};\n\n/**\n * Implementation of PortalContext.items method\n * @see model/core/portal-context#items\n */\nXmlPortalContext.prototype.items = function (itemType, opts) {\n    var config = opts && opts.config || this._config;\n    return new XmlItemCollectionContext(config, itemType, this._getPortalName(opts));\n};\n\n/**\n * Gets portal name from configuration object if it's set, returns the name of the context otherwise\n * @param {Object} opts\n * @return {*}\n * @private\n */\nXmlPortalContext.prototype._getPortalName = function getPortalSetting(opts) {\n    var config = opts && opts.config;\n    return config && config.get('portalName') || this.portalName;\n};\n\n/**\n * @module model/strategies/xml-portal-context\n * @exports {XmlPortalContext}\n */\nmodule.exports = XmlPortalContext;\n},{\"../core/portal-context\":158,\"./xml-item-collection-context\":172,\"./xml-item-context\":173}],175:[function(require,module,exports){\n'use strict';\n\nvar Html5ItemRenderer = require('./strategies/html5-item-renderer');\n\n/**\n * This function constructs a new HTML5 item tree renderer.\n *\n * <p>It uses a a Widget Engine or a Container Engine to render each item in the model tree. Models with children\n * are automatically rendered using the Container Engine and leaf nodes are rendered using the Widget Engine.\n *\n * <p>It uses an <code>itemEngineLocator</code> to determine which Engines to use. You may supply your own locator\n * to provide custom implementations\n *\n * @module cxp-renderer/index\n * @exports {Function} Generates a new instance of a cxp renderer\n * @param {CxpConfig} cxpConfig A CXP configuration object\n * @returns {*|Html5ItemRenderer|exports}\n */\nvar createRenderer = function(cxpConfig) {\n\n    if(!cxpConfig.get('contextRoot')) {\n        cxpConfig.set('contextRoot', '');\n    }\n\n    if(!cxpConfig.get('remoteContextRoot')) {\n        cxpConfig.set('remoteContextRoot', '');\n    }\n\n    return new Html5ItemRenderer(cxpConfig);\n};\n      \n//export\nmodule.exports = {\n    createInstance: createRenderer\n};\n\n},{\"./strategies/html5-item-renderer\":177}],176:[function(require,module,exports){\n(function (global){\n/**\n * Renders a chrome.\n * @module strategies/chrome-renderer\n * @exports {ChromeRenderer} Exports the constructor\n */\n\n'use strict';\n\nvar Handlebars          = require('handlebars/dist/handlebars.min');\nvar HandlebarsHelpers   = require('handlebars-helpers');\nvar fetch               = require('backbase-widget-engine/src/util/deduping-fetch');\n\n//chromes is only rendered if a widget has one of these view modes\nvar CHROME_VIEWMODES = [\n    'windowed',\n    'maximized'\n];\n\n// attributes a chrome must have\nvar dataChromeAttr = 'data-chrome';\nvar dataWidgetHolderAttr = 'data-widget-holder';\n\n// chrome template cache (shared among all renderer instances)\nvar chromeTemplatePromises = {};\nvar handlebarsInstance = Handlebars.create();\n\n// add default helpers for chrome support\nObject.keys(HandlebarsHelpers).forEach(function (helperName) {\n    handlebarsInstance.registerHelper(helperName, HandlebarsHelpers[helperName]);\n});\n\nmodule.exports = ChromeRenderer;\n\n/**\n * Creates chrome rendering instance.\n * A chrome template loaded by getting its URL from \"chromeSrc\" configuration option.\n * Widgets and containers with the view modes 'windowed' or 'maximized' will be wrapped with this template.\n * A widget chrome must have \"data-chrome\" attribute with the value of the widget name. It also must contain\n * an element with 'data-widget-holder' attribute. This is used to identify where\n * to inject the widget into the template.\n * A simple one div chrome is rendered by default.\n *\n * @param {Object} config CXP configuration option\n * @param {Object} [opts] options object\n * @param {Object} [opts.log] bunyan logger\n * @constructor\n */\nfunction ChromeRenderer(config, opts) {\n    opts = opts || {};\n    var parentLog = opts.log || config.getLogger();\n\n    this._config = config;\n    this._log = parentLog.child({childName: 'chrome-renderer'});\n}\n\n/**\n * Implements conditional rendering by trying to find a chrome for a corresponding item and rendering a new one\n * if it's not found.\n * @param {HTMLElement} itemRootElement an element where a chrome should be looked for\n * @param {Object} itemModel item model\n * @param {Object} [opts] rendering options object\n * @param {boolean} [opts.useChrome] explicit false value prevents renderer to use template\n * @returns {Promise} a promise is resolved with an object having \"chromeElement\" and \"widgetHolderElement\" properties\n */\nChromeRenderer.prototype.getChrome = function(itemRootElement, itemModel, opts) {\n    var chromeEl = this._findChromeElement(itemRootElement, itemModel.name);\n    var holderEl = this._findWidgetHolderElement(chromeEl);\n\n    return holderEl ?\n         Promise.resolve({chromeElement: chromeEl, widgetHolderElement: holderEl}) :\n        this._renderChrome(itemRootElement, itemModel, opts);\n};\n\n/**\n * Renders chrome\n * @param itemRootElement\n * @param itemModel\n * @param {Object} [opts]\n * @returns {Promise} A successfully resolved promise with either default chrome object or template-based one\n * @private\n */\nChromeRenderer.prototype._renderChrome = function(itemRootElement, itemModel, opts) {\n    var chromeEl;\n    var holderEl;\n    var self = this;\n\n    var useChrome = !opts || opts.useChrome !== false;\n    var document = (itemRootElement && itemRootElement.ownerDocument) || global.document;\n    var templatePromise = useChrome ? this._getTemplate() : Promise.resolve(null);\n\n    return templatePromise.then(function (template) {\n        // CHROME_VIEWMODES.indexOf(itemModel.viewmodes[0]) >= 0 check notes:\n        // The first item in the collection of view modes is the current view mode. Subsequent items are supported\n        // view modes in order of precedence.\n        if(template && itemModel.viewmodes && CHROME_VIEWMODES.indexOf(itemModel.viewmodes[0]) >= 0) {\n\n            // find out whether chrome layout has holder node and if it doesn't, log a warning\n            var templateHtml = template(itemModel);\n            var tempEl = document.createElement('div');\n\n            tempEl.innerHTML = templateHtml;\n            chromeEl = self._findChromeElement(tempEl, itemModel.name);\n            holderEl = self._findWidgetHolderElement(chromeEl);\n\n            if (chromeEl) {\n                // remove chrome element from tree\n                chromeEl.parentNode.removeChild(chromeEl);\n            } else {\n                self._log.warn('Chrome layout does not have an element with \"data-chrome\" attribute. ' +\n                    'Falling back to blank chrome.');\n            }\n\n            if (!holderEl) {\n                chromeEl = null;\n                self._log.warn('Chrome layout does not have an element with \"data-widget-holder\" attribute. ' +\n                    'Falling back to blank chrome.');\n            }\n        }\n\n        // if no chrome rendered (for whatever reason), create simple default chrome\n        if (!chromeEl) {\n            chromeEl = document.createElement('div');\n            chromeEl.setAttribute(dataChromeAttr, itemModel.name);\n            chromeEl.setAttribute(dataWidgetHolderAttr, '');\n\n            holderEl = chromeEl;\n        }\n\n        return {chromeElement: chromeEl, widgetHolderElement: holderEl};\n    });\n};\n\n/**\n * Downloads and compiles a chrome template. Saves template in a cache that is shared among all renderer instances.\n * @returns {Promise} A successfully resolved promise with either a compiled template or null if there is a failure in\n * getting a template or compiling it.\n * @private\n */\nChromeRenderer.prototype._getTemplate = function() {\n    var chromeUrl = this._config.get('chromeSrc');\n    var log = this._log;\n\n    if(!chromeUrl) {\n        var message = 'No chrome template configured. Widgets with \"windowed\" or \"maximized\" view modes will ' +\n            'be displayed without chrome.';\n        log.warn(message);\n        return Promise.resolve(null);\n    }\n\n    // replace contextRoot/apiRoot\n    var contextRoot = this._config.get('contextRoot');\n    var apiRoot = this._config.get('apiRoot');\n    var url = chromeUrl.replace(/\\$\\(contextRoot\\)/, contextRoot).replace(/\\$\\(apiRoot\\)/, apiRoot);\n    \n    var compiledTemplatePromise = chromeTemplatePromises[url];\n\n    if(!compiledTemplatePromise) {\n        log.debug('Requesting chrome template from %s', url);\n        compiledTemplatePromise = fetch(url).then(function(res) {\n            log.debug('Chrome template request resolved. Status: %s', res.status);\n\n            if (res.status === 0 || res.status === 200) {\n                return res.text();\n            } else {\n                throw new Error(res.statusText);\n            }\n        }).then(function(templateBody) {\n            log.trace('Chrome template body\\n: %s', templateBody);\n            log.debug('Compiling handlebars template instance from %s', url);\n\n            // compile template\n            try {\n                return handlebarsInstance.compile(templateBody);\n            } catch(err) {\n                log.error('There was a problem compiling a handlebars template');\n                throw err;\n            }\n        }).catch(function(e) {\n            log.error(e);\n            delete chromeTemplatePromises[url];\n\n            return null;\n        });\n\n        chromeTemplatePromises[url] = compiledTemplatePromise;\n    }\n\n    return compiledTemplatePromise;\n};\n\n/**\n * Finds chrome element\n * @param {Node} rootNode\n * @param {string} itemName\n * @returns {HTMLElement}\n * @private\n */\nChromeRenderer.prototype._findChromeElement = function(rootNode, itemName) {\n    if (!rootNode) {\n        return null;\n    }\n\n    var selector = '*[' + dataChromeAttr + '=\"' + (itemName || '') + '\"]';\n    return rootNode.querySelector(selector);\n};\n\n/**\n * Finds widget holder element\n * @param {Node} rootNode\n * @returns {HTMLElement}\n * @private\n */\nChromeRenderer.prototype._findWidgetHolderElement = function(rootNode) {\n    if (!rootNode) {\n        return null;\n    }\n\n    var selector = '*[' + dataWidgetHolderAttr + ']';\n    return rootNode.hasAttribute(dataWidgetHolderAttr) ? rootNode : rootNode.querySelector(selector);\n};\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"backbase-widget-engine/src/util/deduping-fetch\":78,\"handlebars-helpers\":87,\"handlebars/dist/handlebars.min\":88}],177:[function(require,module,exports){\n/**\n * Renders a CXP model tree within one DOM\n * @module strategies/html5-item-renderer\n * @exports {Html5ItemRenderer} Exports the constructor\n */\n\n'use strict';\n\nvar WidgetEngine      = require('backbase-widget-engine');\nvar ExtPromise        = require('promise-extensions')(Promise);\nvar bunyan            = require('browser-bunyan');\nvar util              = require('../../util');\nvar ChromeRenderer    = require('./chrome-renderer');\n\nvar LinkDatasourceResolver = require('../../datasource/link-datasource-resolver');\nvar PortalDatasourceResolver = require('../../datasource/portal-datasource-resolver');\nvar ContentDatasourceResolver = require('../../datasource/contentrendered-datasource-resolver');\nvar NavigationDatasourceResolver = require('../../datasource/navigation-datasource-resolver');\nvar BreadcrumbDatasourceResolver = require('../../datasource/breadcrumb-datasource-resolver');\n\n/**\n * <p>Creates an Html5ItemRenderer instance\n *\n * @constructor\n * @param {Object} cxpConfig.chromeSrc A URL to a Handlebars template for wrapping items with chrome.\n *\n * @example\n * &lt;div class=\"panel panel-default\"&gt;\n *   &lt;div class=\"pull-right\"&gt;\n *   {{#allowEdit}}\n *     &lt;button type=\"button\" class=\"btn btn-default btn-xs\" title=\"Settings\" data-cxp-settings=\"{{id}}\"&gt;\n *       &lt;span class=\"glyphicon glyphicon-wrench\"&gt;&lt;/span&gt;\n *     &lt;/button&gt;\n *   {{/allowEdit}}\n *   &lt;/div&gt;\n *   &lt;div class=\"panel-heading\"&gt;{{name}}&lt;/div&gt;\n *   &lt;div class=\"panel-body\" data-widget-holder&gt;&lt;/div&gt;\n * &lt;/div&gt;\n */\nvar Html5ItemRenderer = function(cxpConfig) {\n\n    this.config = cxpConfig;\n\n    this.log = cxpConfig.getLogger().child({\n        childName: 'html5-item-renderer'\n    });\n\n    this.plugins = [];\n    this.features = [];\n    this._widgetEngines = [];\n\n    this._chromeRenderer = new ChromeRenderer(cxpConfig, {log: this.log});\n\n    this._datasourceResolvers = [\n        LinkDatasourceResolver.getInstance,\n        PortalDatasourceResolver.getInstance,\n        ContentDatasourceResolver.getInstance,\n        NavigationDatasourceResolver.getInstance,\n        BreadcrumbDatasourceResolver.getInstance\n    ];\n};\n\nmodule.exports = Html5ItemRenderer;\n\n/**\n * Starts the rendering process\n * @param {(Object | Object[])} model - A model tree or a list of models to render\n * @param {Node} rootNode - A DOM node to start rendering within\n * @param {Object} [opts] Additional rendering options\n * @param {boolean} opts.useChrome Option which will disable use of a custom chrome template provide in the\n * configuration object. Defaults to true.\n * @param {string} opts.contentName If specified renderer tries to use alternative content file which matches the name\n * @returns {Promise} Resolves when all items are rendered\n */\nHtml5ItemRenderer.prototype.start = function(model, rootNode, opts) {\n    if (!model || model.length === 0) {\n        return ExtPromise.resolve();\n    }\n\n    opts = opts || {};\n\n    var log = this.log;\n    var self = this;\n\n    log.info('Starting item tree rendering...');\n    if(log.level() <= bunyan.TRACE) {\n        log.trace('Item tree model is this:\\n %s', JSON.stringify(model, null, '\\t'));\n    }\n\n    var startTime = Date.now();\n    var modelList = Array.isArray(model) ? model : [model];\n\n    // override content if contentName option exists\n    // don't override it if there is more than one model\n    if (modelList.length === 1 && opts.contentName) {\n        var modelCopy = util.cloneDeep(modelList[0]);\n        modelCopy.content = modelCopy.altContent[opts.contentName];\n\n        if (typeof modelCopy.content === 'undefined') {\n            var error = new Error('Given content name \"' + opts.contentName + '\" not found for item named \"' + model.name + '\"');\n            return ExtPromise.reject(error);\n        }\n\n        modelList = [modelCopy];\n    }\n\n    return this._render(modelList, rootNode, opts).then(function(treeRenderInspections) {\n        log.info('Item tree rendering complete.');\n\n        var time = Date.now() - startTime;\n        var result = {\n            time: time,\n            failures: []\n        };\n\n        //convert promise inspections into nice result object\n        var inspections = self._flattenArray(treeRenderInspections);\n        result = inspections.reduce(function(result, inspection) {\n            if(inspection.isRejected()) {\n                var cause = (typeof inspection.reason.cause === 'function' && inspection.reason.cause()) ||\n                    inspection.reason;\n\n                result.failures.push(cause);\n            }\n            return result;\n        }, result);\n\n        var errCount = result.failures.length;\n        if(errCount > 0) {\n            log.warn('%s/%s items failed to load.', errCount, inspections.length);\n        }\n\n        //if every item failed to render, it's bad! Throw an error\n        if(errCount === inspections.length) {\n            var err = new Error('All items in a rendering tree failed to render');\n            err.result = result;\n            throw err;\n        }\n\n        return result;\n    });\n};\n\n/**\n * Adds a widget feature to all items being rendered\n * @method\n * @param {Object} feature\n */\nHtml5ItemRenderer.prototype.addFeature = function(feature) {\n    if(typeof feature === 'object') {\n        this.features.push(feature);\n    }\n    return this;\n};\n\n/**\n * Adds a widget plugin to all items being rendered\n * @method\n * @param {Object} plugin\n */\nHtml5ItemRenderer.prototype.addPlugin = function(plugin) {\n\n    if(typeof plugin === 'object') {\n        this.plugins.push(plugin);\n    }\n\n    return this;\n};\n\n/**\n * Renders an item model\n * @private\n * @param itemModel\n * @param domNode\n * @returns {Promise}\n */\nHtml5ItemRenderer.prototype._renderItem = function (itemModel, domNode) {\n    var self = this; // jshint ignore:line\n    var config = this.config;\n\n    var widgetPath = '';\n    //strip file from widget src to get path\n    if (itemModel.content && itemModel.content.src) {\n        widgetPath = itemModel.content.src.replace(/\\/[^\\/]+$/, '');\n    //TODO: This logic should be move to model parsing\n    } else if (itemModel.content && itemModel.content.config) {\n        widgetPath = itemModel.content.config.replace(/\\/[^\\/]+$/, '');\n    }\n    //also replace contextRoot & apiRoot placeholder\n    widgetPath = widgetPath.replace(/\\$\\(contextRoot\\)/, config.get('contextRoot'))\n        .replace(/\\$\\(apiRoot\\)/, config.get('apiRoot'));\n\n    //create a widget engine\n    var engine = new WidgetEngine({\n        log: this.log\n    });\n\n    var storageFactory = config.get('storageFactory') ;\n    engine.init({\n        widgetPath: widgetPath,\n        widgetEl: domNode,\n        initialModel: itemModel,\n        storage: storageFactory ? storageFactory.get(itemModel) : null,\n        configVars: config.toSerializableObject()\n    });\n\n    this._datasourceResolvers.forEach(function (resolver) {\n        engine.addDatasourceResolver(resolver);\n    });\n\n    //add user defined plugins\n    this.plugins.forEach(function (plugin) {\n        engine.addPlugin(plugin);\n    });\n\n    //add user defined features\n    this.features.forEach(function (feature) {\n        engine.addFeature(feature);\n    });\n\n    if(config.enabled('compat')) {\n        engine.enableCompatibility();\n    }\n\n    var engineResult = engine.start(itemModel, domNode);\n\n    //the delay here seems to fix an issue with Safari in iOS where calling DOMParser().parseFromString()\n    //a few times in quick succession causes it to return undefined (a browser bug)\n    //see: https://backbase.atlassian.net/browse/BACKLOG-9708\n    return engineResult.delay(0).then(function (result) {\n        self._widgetEngines.push(engine);\n        return result;\n    });\n};\n\n/**\n * Destroy all the widgets including dom and inline scripts\n * created during rendering widget\n */\nHtml5ItemRenderer.prototype.destroyAllItems = function () {\n    this._widgetEngines.forEach(function (engine) {\n        engine.destroy();\n    });\n\n    this._widgetEngines = [];\n};\n\n/**\n * Destroy the given widget and it's resources\n *\n * @param {String} itemId Item id\n */\nHtml5ItemRenderer.prototype.destroyItem = function (itemId) {\n    var engine = this._widgetEngines.filter(function (engine) {\n        return engine.widgetEngine.config.initialModel.id === itemId;\n    })[0];\n\n    if (!engine) {\n        return;\n    }\n\n    engine.destroy();\n\n    var engineIndex = this._widgetEngines.indexOf(engine);\n    this._widgetEngines.splice(engineIndex, 1);\n\n    return this;\n};\n\n/**\n * Re renders given item.\n *\n * @param {String} oldItemId item id needed for destroying item\n * @param {String} oldItemName item name needed for calculating items position in dom\n * @param {Object} itemModel item model to be rendered\n */\nHtml5ItemRenderer.prototype.rerenderItem = function (oldItemId, oldItemName, itemModel) {\n    var placeholder = document.createElement('div');\n    var itemChrome = document.querySelector('[data-chrome=\"' + oldItemName + '\"]');\n    itemChrome.parentNode.insertBefore(placeholder, itemChrome);\n\n    this.destroyItem(oldItemId);\n    return this.start(itemModel, placeholder).then(function () {\n        var newChrome = placeholder.firstElementChild;\n\n        placeholder.parentNode.insertBefore(newChrome, placeholder);\n        placeholder.parentNode.removeChild(placeholder);\n    });\n};\n\n/**\n * Renders items and their trees\n * @param {Array} modelList Array of item models\n * @param {HTMLElement} rootNode An element where all items should be rendered\n * @param {Object} opts rendering options\n * @returns {Promise} Promise resolved with inspection options when all items and their trees are rendered\n * @private\n */\nHtml5ItemRenderer.prototype._render = function(modelList, rootNode, opts) {\n    var self = this;\n    var chromePromises = modelList.map(function (itemModel) {\n        return self._chromeRenderer.getChrome(rootNode, itemModel, opts);\n    });\n\n    return Promise.all(chromePromises).then(function (chromeArr) {\n        return chromeArr.map(function (chrome, i) {\n            return {\n                itemModel: modelList[i],\n                chrome: chrome,\n                parentEl: rootNode\n            };\n        });\n    }).then(function (itemChromeMapList) {\n        var renderResults = [];\n\n        itemChromeMapList.forEach(function (itemChromeMap, idx, array) {\n            // insert chrome node into DOM (if it's not) in correct order\n            self._attachChrome(itemChromeMap, idx, array);\n\n            // render item\n            renderResults.push(self._renderItem(itemChromeMap.itemModel, itemChromeMap.chrome.widgetHolderElement));\n        });\n\n        return ExtPromise.settleAll(renderResults);\n    }).then(function (inspections) {\n        // render children of successfully rendered items\n        var childenRenderResults = [];\n\n        inspections.filter(function (inspection) {\n            return inspection.isFulfilled();\n        }).map(function (fulfilled) {\n            return fulfilled.value;\n        }).forEach(function (itemRenderResult) {\n            var areaNodes = itemRenderResult.areaNodes;\n\n            if (areaNodes) {\n                // find corresponding item model\n                var itemModel = modelList.filter(function (model) {\n                    return model.id === itemRenderResult.id;\n                })[0];\n\n                Object.keys(areaNodes).forEach(function (area) {\n                    //find child model(s) with matching area\n                    var childrenModels = itemModel.children || [];\n                    var childrenForArea = childrenModels.filter(function (item) {\n\n                        //need to check if preferences area an array for MBaaS compatibility\n                        var currentAreaPref;\n                        if(Array.isArray(item.preferences)) {\n                            currentAreaPref = item.preferences.filter(function(pref) {\n                                return pref.name === 'area';\n                            })[0];\n                        } else {\n                            currentAreaPref = item.preferences.area;\n                        }\n                        return currentAreaPref && currentAreaPref.value === area;\n                    });\n\n                    self.log.info('Rendering %s child item(s) for area [%s] of item [%s]...',\n                        childrenForArea.length, area, itemRenderResult.id);\n\n                    //loop through children for this area and render\n                    var areaEl = areaNodes[area];\n\n                    childenRenderResults.push(self._render(childrenForArea, areaEl, opts));\n                });\n            }\n        });\n\n        return Promise.all(inspections.concat(childenRenderResults));\n    });\n};\n\n/**\n * Inserts a chrome element in a proper place. Crucial for conditional rendering.\n * @param {Object} itemChromeMap Holds item model and its corresponding chrome\n * @param {Number} idx Index of an item in a collection of items\n * @param {Array} array Collection of item-chrome map objects\n * @private\n */\nHtml5ItemRenderer.prototype._attachChrome = function(itemChromeMap, idx, array) {\n    var chromeEl = itemChromeMap.chrome.chromeElement;\n    var hostEl = itemChromeMap.parentEl;\n    var refNode;\n\n    // insert chrome nodes in DOM\n    if (!chromeEl.parentNode) {\n        if (idx === 0) {\n            refNode = hostEl.firstElementChild;\n\n        } else {\n            var prevChromeNode = array[idx - 1].chrome.chromeElement;\n            refNode = prevChromeNode.nextElementSibling;\n        }\n\n        hostEl.insertBefore(chromeEl, refNode);\n    }\n};\n\n/**\n * Flattens nested arrays\n * @param array\n * @returns {Array}\n * @private\n */\nHtml5ItemRenderer.prototype._flattenArray = function flatten(array) {\n    return array.reduce(function (flattened, item) {\n        return flattened.concat(Array.isArray(item) ? flatten(item) : item);\n    }, []);\n};\n\n},{\"../../datasource/breadcrumb-datasource-resolver\":148,\"../../datasource/contentrendered-datasource-resolver\":149,\"../../datasource/link-datasource-resolver\":150,\"../../datasource/navigation-datasource-resolver\":151,\"../../datasource/portal-datasource-resolver\":152,\"../../util\":178,\"./chrome-renderer\":176,\"backbase-widget-engine\":47,\"browser-bunyan\":86,\"promise-extensions\":145}],178:[function(require,module,exports){\n'use strict';\n\n/**\n * Utils modules expose functional helpers etc.\n * @module Utils\n * @export isObject\n * @export merge\n * @export cloneDeep\n */\nmodule.exports = {\n    isObject: require('lodash/lang/isObject'),\n    merge: require('lodash/object/merge'),\n    cloneDeep: require('lodash/lang/cloneDeep')\n};\n},{\"lodash/lang/cloneDeep\":130,\"lodash/lang/isObject\":135,\"lodash/object/merge\":142}],179:[function(require,module,exports){\n/**\n * Re-exports deduping fetch to make it available for a portal client\n * @module util/deduping-fetch\n */\n\n'use strict';\n\nmodule.exports = require('backbase-widget-engine/src/util/deduping-fetch');\n\n},{\"backbase-widget-engine/src/util/deduping-fetch\":78}],180:[function(require,module,exports){\n/**\n* Detect Element Resize\n*\n* https://github.com/sdecima/javascript-detect-element-resize\n* Sebastian Decima\n*\n* version: 0.5.3\n**/\n\n(function () {\n\tvar attachEvent = document.attachEvent,\n\t\tstylesCreated = false;\n\t\n\tif (!attachEvent) {\n\t\tvar requestFrame = (function(){\n\t\t\tvar raf = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame ||\n\t\t\t\t\t\t\t\tfunction(fn){ return window.setTimeout(fn, 20); };\n\t\t\treturn function(fn){ return raf(fn); };\n\t\t})();\n\t\t\n\t\tvar cancelFrame = (function(){\n\t\t\tvar cancel = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame ||\n\t\t\t\t\t\t\t\t   window.clearTimeout;\n\t\t  return function(id){ return cancel(id); };\n\t\t})();\n\n\t\tfunction resetTriggers(element){\n\t\t\tvar triggers = element.__resizeTriggers__,\n\t\t\t\texpand = triggers.firstElementChild,\n\t\t\t\tcontract = triggers.lastElementChild,\n\t\t\t\texpandChild = expand.firstElementChild;\n\t\t\tcontract.scrollLeft = contract.scrollWidth;\n\t\t\tcontract.scrollTop = contract.scrollHeight;\n\t\t\texpandChild.style.width = expand.offsetWidth + 1 + 'px';\n\t\t\texpandChild.style.height = expand.offsetHeight + 1 + 'px';\n\t\t\texpand.scrollLeft = expand.scrollWidth;\n\t\t\texpand.scrollTop = expand.scrollHeight;\n\t\t};\n\n\t\tfunction checkTriggers(element){\n\t\t\treturn element.offsetWidth != element.__resizeLast__.width ||\n\t\t\t\t\t\t element.offsetHeight != element.__resizeLast__.height;\n\t\t}\n\t\t\n\t\tfunction scrollListener(e){\n\t\t\tvar element = this;\n\t\t\tresetTriggers(this);\n\t\t\tif (this.__resizeRAF__) cancelFrame(this.__resizeRAF__);\n\t\t\tthis.__resizeRAF__ = requestFrame(function(){\n\t\t\t\tif (checkTriggers(element)) {\n\t\t\t\t\telement.__resizeLast__.width = element.offsetWidth;\n\t\t\t\t\telement.__resizeLast__.height = element.offsetHeight;\n\t\t\t\t\telement.__resizeListeners__.forEach(function(fn){\n\t\t\t\t\t\tfn.call(element, e);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\t\n\t\t/* Detect CSS Animations support to detect element display/re-attach */\n\t\tvar animation = false,\n\t\t\tanimationstring = 'animation',\n\t\t\tkeyframeprefix = '',\n\t\t\tanimationstartevent = 'animationstart',\n\t\t\tdomPrefixes = 'Webkit Moz O ms'.split(' '),\n\t\t\tstartEvents = 'webkitAnimationStart animationstart oAnimationStart MSAnimationStart'.split(' '),\n\t\t\tpfx  = '';\n\t\t{\n\t\t\tvar elm = document.createElement('fakeelement');\n\t\t\tif( elm.style.animationName !== undefined ) { animation = true; }    \n\t\t\t\n\t\t\tif( animation === false ) {\n\t\t\t\tfor( var i = 0; i < domPrefixes.length; i++ ) {\n\t\t\t\t\tif( elm.style[ domPrefixes[i] + 'AnimationName' ] !== undefined ) {\n\t\t\t\t\t\tpfx = domPrefixes[ i ];\n\t\t\t\t\t\tanimationstring = pfx + 'Animation';\n\t\t\t\t\t\tkeyframeprefix = '-' + pfx.toLowerCase() + '-';\n\t\t\t\t\t\tanimationstartevent = startEvents[ i ];\n\t\t\t\t\t\tanimation = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tvar animationName = 'resizeanim';\n\t\tvar animationKeyframes = '@' + keyframeprefix + 'keyframes ' + animationName + ' { from { opacity: 0; } to { opacity: 0; } } ';\n\t\tvar animationStyle = keyframeprefix + 'animation: 1ms ' + animationName + '; ';\n\t}\n\t\n\tfunction createStyles() {\n\t\tif (!stylesCreated) {\n\t\t\t//opacity:0 works around a chrome bug https://code.google.com/p/chromium/issues/detail?id=286360\n\t\t\tvar css = (animationKeyframes ? animationKeyframes : '') +\n\t\t\t\t\t'.resize-triggers { ' + (animationStyle ? animationStyle : '') + 'visibility: hidden; opacity: 0; } ' +\n\t\t\t\t\t'.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \\\" \\\"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',\n\t\t\t\thead = document.head || document.getElementsByTagName('head')[0],\n\t\t\t\tstyle = document.createElement('style');\n\t\t\t\n\t\t\tstyle.type = 'text/css';\n\t\t\tif (style.styleSheet) {\n\t\t\t\tstyle.styleSheet.cssText = css;\n\t\t\t} else {\n\t\t\t\tstyle.appendChild(document.createTextNode(css));\n\t\t\t}\n\n\t\t\thead.appendChild(style);\n\t\t\tstylesCreated = true;\n\t\t}\n\t}\n\t\n\twindow.addResizeListener = function(element, fn){\n\t\tif (attachEvent) element.attachEvent('onresize', fn);\n\t\telse {\n\t\t\tif (!element.__resizeTriggers__) {\n\t\t\t\tif (getComputedStyle(element).position == 'static') element.style.position = 'relative';\n\t\t\t\tcreateStyles();\n\t\t\t\telement.__resizeLast__ = {};\n\t\t\t\telement.__resizeListeners__ = [];\n\t\t\t\t(element.__resizeTriggers__ = document.createElement('div')).className = 'resize-triggers';\n\t\t\t\telement.__resizeTriggers__.innerHTML = '<div class=\"expand-trigger\"><div></div></div>' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"contract-trigger\"></div>';\n\t\t\t\telement.appendChild(element.__resizeTriggers__);\n\t\t\t\tresetTriggers(element);\n\t\t\t\telement.addEventListener('scroll', scrollListener, true);\n\t\t\t\t\n\t\t\t\t/* Listen for a css animation to detect element display/re-attach */\n\t\t\t\tanimationstartevent && element.__resizeTriggers__.addEventListener(animationstartevent, function(e) {\n\t\t\t\t\tif(e.animationName == animationName)\n\t\t\t\t\t\tresetTriggers(element);\n\t\t\t\t});\n\t\t\t}\n\t\t\telement.__resizeListeners__.push(fn);\n\t\t}\n\t};\n\t\n\twindow.removeResizeListener = function(element, fn){\n\t\tif (attachEvent) element.detachEvent('onresize', fn);\n\t\telse {\n\t\t\telement.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\n\t\t\tif (!element.__resizeListeners__.length) {\n\t\t\t\t\telement.removeEventListener('scroll', scrollListener);\n\t\t\t\t\telement.__resizeTriggers__ = !element.removeChild(element.__resizeTriggers__);\n\t\t\t}\n\t\t}\n\t}\n})();\n},{}],181:[function(require,module,exports){\n/*global document, DOMParser*/\n// inspired by https://gist.github.com/1129031\n\n'use strict';\n\n(function(DOMParser) {\n    var proto = DOMParser.prototype,\n        nativeParse = proto.parseFromString;\n\n    proto.parseFromString = function(markup, type) {\n        if (/^\\s*text\\/html\\s*(?:;|$)/i.test(type)) {\n            var doc = document.implementation.createHTMLDocument('');\n\n            if (markup.toLowerCase().indexOf('<!doctype') > -1) {\n                doc.documentElement.innerHTML = markup;\n            } else {\n                doc.body.innerHTML = markup;\n            }\n            return doc;\n        } else {\n            return nativeParse.apply(this, arguments);\n        }\n    };\n}(DOMParser));\n\nwindow.system_scroll = window.scroll;\nwindow.scroll = function(x, y) {\n    window.cxp.mobile.scrollTo('' + x, '' + y);\n    window.system_scroll(x, y);\n};\n\n},{}],182:[function(require,module,exports){\n'use strict';\n\n/**\n * Provides operations for publishing and subscribing to message channels.\n * @class\n */\nwindow.b$.module('gadgets.pubsub', function() {\n\n    var Class = window.b$.Class;\n\n    /**\n     * Class for the event bus.\n     * @class\n     * @private\n     */\n    var Channel = Class.extend(function() {\n        this.callbacks = [];\n    },{\n\n        //queue of message\n        queue: [],\n\n        /**\n         * Subscribes the callback to the channel.\n         * @private\n         */\n        subscribe: function(callback) {\n            this.callbacks.push(callback);\n        },\n\n        /**\n         * Unsubscribes the callback from the channel.\n         * @private\n         */\n        unsubscribe: function(callback) {\n            if(!callback) {\n                this.callbacks = [];\n            }\n            else {\n                this.callbacks = this.callbacks.filter(function(fChannelCallback) {\n                    return fChannelCallback !== callback;\n                });\n            }\n        },\n\n        /**\n         * Publishes message to the channel.\n         * @private\n         */\n        publish: function(message, flush) {\n            if(flush) {\n                this.flush();\n            }\n\n            this.callbacks.forEach(function(callback) {\n                callback(message);\n            });\n        },\n\n        /**\n         * Clears the queue\n         */\n        flush: function() {\n            this.queue = [];\n        }\n    });\n\n    /**\n     * Class for the event bus.\n     * @class\n     * @private\n     */\n    var EventBus = Class.extend(function() {\n        this.channels = {};\n    },{\n\n        /**\n         * Subscribes the callback to the channel.\n         * @private\n         * @method\n         */\n        subscribe: function(channelName, callback) {\n            if (!this.channels[channelName]) {\n                this.channels[channelName] = new Channel();\n            }\n\n            this.channels[channelName].subscribe(callback);\n\n            window.cxp.mobile.subscribe(channelName);\n        },\n\n        /**\n         * Unsubscribes the callback from the channel.\n         * @method\n         * @private\n         */\n        unsubscribe: function(channelName, fCallback) {\n\n            if (this.channels[channelName]) {\n                this.channels[channelName].unsubscribe(fCallback);\n\n                window.cxp.mobile.unsubscribe(channelName);\n            }\n        },\n\n        /**\n         * Publishes message to the channel.\n         * @private\n         * @method\n         */\n        publish: function(channelName, oMessage, flush, eventType) {\n            if (this.channels[channelName]) {\n                this.channels[channelName].publish(oMessage, flush);\n            }\n            oMessage = oMessage || {};\n            eventType = eventType || '';\n            if(eventType !== 'SYSTEM') {\n                window.cxp.mobile.publish(channelName, JSON.stringify(oMessage), eventType);\n            }\n        },\n\n        /**\n         * Flushes the message on a channel\n         * @param channelName\n         */\n        flush: function(channelName) {\n            if (this.channels[channelName]) {\n                this.channels[channelName].flush();\n            }\n        }\n    });\n\n    var mainBus = new EventBus();\n\n    /**\n     * Publishes a string-type message to a channel.\n     *\n     * @param {String} channelName The name of the channel\n     * @param {String} message The message to publish\n     */\n    function publish(channelName, message, flush, eventType) {\n        if(typeof flush !== 'boolean') {\n            flush = true;\n        }\n        mainBus.publish(channelName, message, flush, eventType);\n    }\n\n    /**\n     * Subscribes a widget to a message channel.\n     *\n     * @param {String} channelName The name of the channel\n     * @param {Function} callback A function that will be called with the channel messages\n     */\n    function subscribe(channelName, callback) {\n        mainBus.subscribe(channelName, callback);\n    }\n\n    /**\n     * Unsubscribes the widget from a message channel.\n     *\n     * @param {String} channelName The name of the channel\n     */\n    function unsubscribe(channelName, callback) {\n        mainBus.unsubscribe(channelName, callback);\n    }\n\n    function flush(channelName) {\n        mainBus.flush(channelName);\n    }\n\n    // channel support\n    function channel(channelPrefix) {\n        function getEventKey(eventName) {\n            return '[{'+channelPrefix+'}].'+eventName;\n        }\n\n        var pubsubImpl = this; // jshint ignore:line\n\n        return {\n            publish: function(eventName, message, flush, eventType) {\n                pubsubImpl.publish(getEventKey(eventName), message, flush, eventType);\n            },\n            subscribe: function(eventName, callback) {\n                pubsubImpl.subscribe(getEventKey(eventName), callback);\n            },\n            unsubscribe: function(eventName, callback) {\n                pubsubImpl.unsubscribe(getEventKey(eventName), callback);\n            },\n            flush: function(eventName) {\n                pubsubImpl.flush(getEventKey(eventName));\n            }\n        };\n    }\n\n    this.name = 'pubsub'; // feature name\n    this.publish = publish;\n    this.subscribe = subscribe;\n    this.unsubscribe = unsubscribe;\n    this.flush = flush;\n    this.channel = channel;\n});\n\n},{}],183:[function(require,module,exports){\n'use strict';\n\n//set up some global namespaces\nwindow.cxp = window.cxp || {};\nwindow.mobile = window.mobile || {};\nwindow.cxp.mobile = window.mobile; //mobile references backbase.mobile because native android can only call one object deep\n\n//this is the public interface to start rendering\nwindow.cxp.mobile.render = function(widgetRoot, localContextRoot, remoteContextRoot, apiRoot, portalModel, plugins,\n                                    logLevel, portalName) {\n\n    require('./common/dom-parser-polyfill');\n    require('javascript-detect-element-resize');\n    require('./common/pubsub');\n\n    //simple factory to get the desired renderer for the current platform\n    var Renderer;\n    var isSafariOrUiWebview = /(iPhone|iPod|iPad).*AppleWebKit/i.test(navigator.userAgent);\n    if(isSafariOrUiWebview) {\n        console.info('Portal Client Mobile is rendering in iOS mode');\n        var iosBridge = require('./platforms/ios/ios-bridge');\n        iosBridge.enable();\n        Renderer = require('./platforms/ios/ios-page-renderer');\n    } else {\n        console.info('Portal client mobile is rendering in Android mode');\n        Renderer = require('./platforms/android/android-page-renderer');\n    }\n\n    window.cxp.mobile.plugins = plugins;\n    // filling the gap\n    portalModel.contextItemName = portalName;\n\n    //kick off rendering\n    var renderer = new Renderer();\n    renderer.render(document.getElementById(widgetRoot), portalModel, window.gadgets.pubsub, {\n        portalName: portalName,\n        localContextRoot: localContextRoot,\n        remoteContextRoot: remoteContextRoot,\n        apiRoot: apiRoot,\n        logLevel: logLevel\n    });\n};\n\n//legacy interface\nwindow.renderWidget = window.cxp.mobile.render;\n\n},{\"./common/dom-parser-polyfill\":181,\"./common/pubsub\":182,\"./platforms/android/android-page-renderer\":187,\"./platforms/ios/ios-bridge\":188,\"./platforms/ios/ios-page-renderer\":189,\"javascript-detect-element-resize\":180}],184:[function(require,module,exports){\n'use strict';\n\n/**\n * Logs records to a buffer until they are flushed to another log stream\n * @param size\n * @constructor\n */\nvar BufferedLogStream = function(size) {\n\n    this.size = size || 1000;\n    this.buffer = [];\n\n    this.decoratedStreams = [];\n};\n\n/**\n * Flushing the log will write records to streams added with this method\n * @param stream\n */\nBufferedLogStream.prototype.decorateStream = function(stream) {\n    this.decoratedStreams.push(stream);\n};\n\n/**\n * Write a record to the buffer\n * @param rec\n */\nBufferedLogStream.prototype.write = function(rec) {\n\n    if (this.buffer.length >= this.size) {\n        this.buffer.shift();\n    }\n\n    this.buffer.push(rec);\n};\n\n/**\n * Flushes the buffer to a stream\n */\n/* jshint ignore:start */\nBufferedLogStream.prototype.flush = function() {\n    var rec;\n    while (rec = this.buffer.shift()) {\n        this.decoratedStreams.forEach(function(stream) {\n            stream.write(rec);\n        });\n    }\n};\n/* jshint ignore:end */\n\n/**\n * Clears the buffer\n */\nBufferedLogStream.prototype.clear = function() {\n    this.buffer = [];\n};\n\nmodule.exports = BufferedLogStream;\n},{}],185:[function(require,module,exports){\n'use strict';\n\n/**\n * Logs messages to the console without any pretty formatting.\n * @param opts\n * @constructor\n */\nfunction ConsolePlainStream(opts) {\n    opts = opts || {};\n    this.printLevel = !!opts.printLevel;\n    this.printTimestamp = !!opts.printTimestamp;\n}\n\n/**\n * Write a Bunyan log record\n * @param rec\n */\nConsolePlainStream.prototype.write = function(rec) {\n\n    var loggerName = rec.childName ? rec.name + '/' + rec.childName : rec.name;\n\n    var logMethod;\n    if (rec.level < 30) {\n        logMethod = 'log';\n    } else if (rec.level < 40) {\n        logMethod = 'info';\n    } else if (rec.level < 50) {\n        logMethod = 'warn';\n    } else {\n        logMethod = 'error';\n    }\n\n    function padZeros(number, len) {\n        return Array((len + 1) - (number + '').length).join('0') + number;\n    }\n\n    function getTimestamp() {\n        return '[' +\n            padZeros(rec.time.getHours(), 2) + ':' +\n            padZeros(rec.time.getMinutes(), 2) + ':' +\n            padZeros(rec.time.getSeconds(), 2) + ':' +\n            padZeros(rec.time.getMilliseconds(), 4) + ']';\n    }\n    \n    var timestamp = this.printTimestamp ? (getTimestamp() + ' ') : '';\n    var level = this.printLevel ? (rec.levelName.toUpperCase() + ': ') : '';\n    console[logMethod](timestamp + level + loggerName + ': ' + rec.msg);\n};\n\nmodule.exports = ConsolePlainStream;\n},{}],186:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar document = global.document; // jshint ignore:line\n\n/**\n * Write log messages by create iframes whose src attribute contains the log info. This creates network \n * request which can be intercepted by the native side.\n * @constructor\n */\nvar IFrameBridgeLogStream = function() {\n};\n\n/**\n * Write a bunyan log record\n * @param rec\n */\nIFrameBridgeLogStream.prototype.write = function(rec) {\n    var iframe = document.createElement('IFRAME');\n    iframe.setAttribute('src', 'log://?type=' + rec.levelName + '&msg=' + rec.msg + ' (' + rec.time + ')');\n    document.documentElement.appendChild(iframe);\n    iframe.parentNode.removeChild(iframe);\n    iframe = null;   \n};\n\nmodule.exports = IFrameBridgeLogStream;\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],187:[function(require,module,exports){\n'use strict';\n\nvar PageRenderer = require('../../render/page-renderer');\nvar ConsolePlainLogStream = require('../../logging/console-plain-log-stream');\n\n/**\n * Android Page Renderer\n * @constructor\n */\nvar AndroidPageRenderer = function() {\n    PageRenderer.call(this);\n};\n\n//\nAndroidPageRenderer.prototype = Object.create(PageRenderer.prototype);\n\nAndroidPageRenderer.prototype._createLogStreams = function(logLevel) {\n\n    return [{\n        level: logLevel,\n        stream: new ConsolePlainLogStream()\n    }];\n};\n\nAndroidPageRenderer.prototype._renderForPlatform = function (widgetModel, renderer, rootEl) {\n\n    // Page only can be rendered by passing it's children.\n    // Page object can't contain features property, thus this check\n    // This check is unstable. We should update MBaaS to include a type on items instead\n    var model = widgetModel.features ? widgetModel : widgetModel.children;\n\n    renderer.start(model, rootEl).then(function(details) {\n\n        var message = 'Item tree rendered in ' + details.time + 'ms',\n            resizeElement = document.getElementsByTagName('html')[0], //the html could contain paddings/margins\n            resizeCallback = function() {\n                window.cxp.mobile.resize(resizeElement.scrollHeight);\n            };\n        window.addResizeListener(resizeElement, resizeCallback);\n        console.log(message);\n        window.cxp.mobile.itemLoaded();\n    }).catch(function(err) {\n        console.log(err);\n    });\n};\n\nmodule.exports = AndroidPageRenderer;\n\n},{\"../../logging/console-plain-log-stream\":185,\"../../render/page-renderer\":193}],188:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar window = global.window;  // jshint ignore:line\nvar document = global.document; // jshint ignore:line\n\nmodule.exports = {\n    enable: function () {\n\n        //force XMLHttpRequests to include a request header\n        if(window.XMLHttpRequest) {\n            (function(__send) {\n                XMLHttpRequest.prototype.send = function(data) {\n                    this.setRequestHeader('bb.nsurlrequest.webview', 'true');\n                    __send.call(this, data);\n                };\n            })(XMLHttpRequest.prototype.send);\n        }\n\n        function encodeURIExtras(str){\n            return encodeURIComponent(str)\n                .replace(/[!()*]/g,\n                    function(c) { return '%' + c.charCodeAt(0).toString(16);}\n                )\n                .replace(/[']/g,\n                    function(c){ return '\\\\\\''; }\n                );\n        }\n\n        function addIframe(src) {\n            var iframe = document.createElement('IFRAME');\n            iframe.setAttribute('src', src);\n            document.documentElement.appendChild(iframe);\n            iframe.parentNode.removeChild(iframe);\n            iframe = null;\n        }\n\n        function loaded(time) {\n            addIframe('bb-loaded://?time=' + time);\n        }\n\n        function reload() {\n            addIframe('bb-reload://');\n        }\n\n        function resizeTo(width, height) {\n            addIframe('bb-resize://?w=' + width + '&h=' + height);\n        }\n\n        function scrollTo(x, y) {\n            addIframe('bb-scroll://?x=' + x + '&y=' + y);\n        }\n\n        function publish(event, payload, eventType) {\n            addIframe('bb-publish://?event=' + encodeURIExtras(event) + '&type=' + encodeURIExtras(\n                    eventType) + '&payload=' + encodeURIExtras(payload));\n        }\n\n        function subscribe(event) {\n            addIframe('bb-subscribe://?event=' + encodeURIExtras(event));\n        }\n\n        function unsubscribe(event) {\n            addIframe('bb-unsubscribe://?event=' + encodeURIExtras(event));\n        }\n\n        function executePlugin() {\n            if (arguments.length === 0) {\n                return;\n            }\n            var args = [];\n            Array.prototype.push.apply(args, arguments);\n\n            var plugin = args.shift();\n            var method = args.shift();\n            var params = args;\n            for (var i = 0; i < params.length; i++) {\n                params[i] = encodeURIExtras(params[i]);\n            }\n\n            addIframe('bb-plugin://?plugin=' + encodeURIExtras(plugin) + '&method=' +\n                encodeURIExtras(method) + '&params=' + params.join('&params='));\n        }\n\n\n        function callPlugin(pluginName, methodName, args, resolve, reject) {\n            var _callbackId = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n                var r = Math.random() * 16 | 0, // jshint ignore:line\n                    v = c == 'x' ? r : (r & 0x3 | 0x8); // jshint ignore:line\n                return v.toString(16);\n            });\n            var eventName = [pluginName, methodName, _callbackId].join('.');\n            var _unsubscribe = function () {\n                window.gadgets.pubsub.unsubscribe('plugin.success.' + eventName, _success);\n                window.gadgets.pubsub.unsubscribe('plugin.error.' + eventName, _error);\n            };\n            var _success = function (response) {\n                if (!response.keep) {\n                    _unsubscribe();\n                }\n                if (resolve) {\n                    resolve(response.data);\n                }\n            };\n            var _error = function (response) {\n                if (!response.keep) {\n                    _unsubscribe();\n                }\n                if (reject) {\n                    reject(response.data);\n                }\n            };\n\n            // convert object into JSON.stringify\n            for (var i = 0; i < args.length; i++) {\n                var arg = args[i];\n                if (typeof arg === 'object') {\n                    args[i] = JSON.stringify(arg);\n                }\n            }\n\n            window.gadgets.pubsub.subscribe('plugin.success.' + eventName, _success);\n            window.gadgets.pubsub.subscribe('plugin.error.' + eventName, _error);\n\n            executePlugin.apply(window.cxp.mobile, [pluginName, methodName, _callbackId].concat(args));\n            return _callbackId;\n        }\n\n        window.cxp.mobile = {\n            loaded: loaded,\n            reload: reload,\n            resizeTo: resizeTo,\n            scrollTo: scrollTo,\n            publish: publish,\n            subscribe: subscribe,\n            unsubscribe: unsubscribe,\n            callPlugin: callPlugin\n        };\n    }\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],189:[function(require,module,exports){\n'use strict';\n\nvar PageRenderer = require('../../render/page-renderer');\nvar ConsolePlainLogStream = require('../../logging/console-plain-log-stream');\nvar IFrameBridgeLogStream = require('../../logging/iframe-bridge-log-stream');\nvar BufferedLogStream = require('../../logging/buffered-log-stream');\n\n/**\n * IOS Page Renderer\n * @constructor\n */\nvar IOSPageRenderer = function() {\n    PageRenderer.call(this);\n};\n\n//extend PageRenderer\nIOSPageRenderer.prototype = Object.create(PageRenderer.prototype);\n\n/**\n * Creates IOS specific log streams\n * @param logLevel\n * @return {*[]}\n * @private\n */\nIOSPageRenderer.prototype._createLogStreams = function(logLevel) {\n\n    var consoleStream = new ConsolePlainLogStream({\n        printTimestamp: true,\n        printLevel: true\n    });\n\n    //buffered log stream allows a developer to replay the log by running bufferedLogStream.flush()\n    var bufferedLogStream = new BufferedLogStream();\n    bufferedLogStream.decorateStream(consoleStream);\n    window.bufferedLogStream = bufferedLogStream; //expose globally\n\n    //iframe log stream for logging to native land\n    var iframeBridgeLogStream = new IFrameBridgeLogStream();\n\n    //set up log streams\n    return [{\n        level: logLevel,\n        stream: iframeBridgeLogStream\n    }, {\n        level: logLevel,\n        stream: consoleStream\n    }, {\n        level: logLevel,\n        stream: bufferedLogStream\n    }];\n};\n\n/**\n * Does IOS specific rendering\n * @param widgetModel\n * @param renderer\n * @param rootEl\n * @private\n */\nIOSPageRenderer.prototype._renderForPlatform = function(widgetModel, renderer, rootEl) {\n    var page = document.getElementsByTagName('html')[0]; //the html could contain paddings/margins\n    window.addResizeListener(page, function() {\n        window.cxp.mobile.resizeTo(page.scrollWidth, page.scrollHeight);\n    });\n\n    // Page only can be rendered by passing it's children.\n    // Page object can't contain features property, thus this check\n    // This check is unstable. We should update MBaaS to include a type on items instead\n    var model = widgetModel.features ? widgetModel : widgetModel.children;\n\n    renderer.start(model, rootEl).then(function(details) {\n        window.cxp.mobile.loaded(details.time);\n        window.cxp.mobile.resizeTo(page.scrollWidth, page.scrollHeight);\n        var message = 'Widget-Engine: Item tree rendered in ' + details.time + 'ms';\n        console.log(message);\n    }).catch(function(err) {\n        console.log(err);\n    });\n};\n\nmodule.exports = IOSPageRenderer;\n\n},{\"../../logging/buffered-log-stream\":184,\"../../logging/console-plain-log-stream\":185,\"../../logging/iframe-bridge-log-stream\":186,\"../../render/page-renderer\":193}],190:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(featureList) {\n\n    featureList = featureList || [];\n\n    return {\n        name: 'add-feature-plugin',\n        postRead: function (widgetModel) {\n            if (featureList.length === 0) {\n                return widgetModel;\n            }\n\n            if (!Array.isArray(widgetModel.features)) {\n                widgetModel.features = [];\n            }\n\n            featureList.forEach(function (featureName) {\n                var widgetModelAlreadyHasFeature = widgetModel.features.some(function (widgetFeature) {\n                    return widgetFeature.name === featureName;\n                });\n\n                if (!widgetModelAlreadyHasFeature) {\n                    widgetModel.features.push({\n                        name: featureName,\n                        required: false\n                    });\n                }\n            });\n\n            return widgetModel;\n        }\n    };\n};\n},{}],191:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function addSupportToAccessChildren() {\n    return {\n        name: 'expose-children-plugin',\n        preRender: function (widgetInstance, widgetRenderer, widgetModel) {\n            widgetInstance.children = widgetModel.children ? widgetModel.children.map(function (child) {\n                return {\n                    id: child.id,\n                    name: child.name\n                };\n            }) : [];\n            return widgetInstance;\n        }\n    };\n};\n},{}],192:[function(require,module,exports){\n(function (global){\n/* globals Promise: false */\n'use strict';\n\n// Jasmine mock f*ckery\nvar window = global.window; // jshint ignore:line\n\n/*\nMobile Optimised Content (moc)\n\nDescription\n\nThis plugin caches ICE and structured content (5.6 content only!).\n\nUsage\n\nInclude this plugin before the BackbaseFormatPlugin. If you include it\nafter, it doesn't do anything because the BackbaseFormatPlugin has\nreplaced the content g:includes with placeholders.\n\nInternals\n\nThis plugin hooks into the postRender phase (it needs to have the widget\nstart file). It finds all ICE and structured content g:includes, and\nrenames them to moc:include so the BackbaseFormatPlugin cannot find them\nanymore.\n\nAfter this it checks the device cache (PersistentStorage) or localStorage\nfor the cached ICE / structured content template. If it finds a cached\ntemplate, it checks for expired caches using the widgetContentsUpdated\nproperty.\n\nIf the cache is empty or expired, the plugin fetches the ICE /\nstructured content template itself. After this it finds all CS content\nurls and fetches the contents of those urls and transforms them into\ndata-uris. This allows us to cache just the template. After that it\nsaves the template to PersistentStorage or localStorage. This plugin caches\nsuccessful responses only!\n\nWidget preferences\n\nThere are some optional widget preferences that influence the caching.\n - widgetContentsUpdated    added and updated by ICE widgets\n - contentsCached           set this to false to disable caching\n\nEvents and activity indicators\n\nThis plugin doesn't replace the g:include with a placeholder, it just\nrenames it. So you can add a class or nest some image or other content\ninside the g:include to show an activity indicator. After the content\nis resolved, it replaces the g:include so the indicator will dissapear\nautomatically.\n\nIt is also possible to do this programatically. In your g:onload handler\nyou can display a spinner, and listen for the 'contentLoaded' and\n'contentError' events by binding handlers to the widgetInstance.body.\nIn the handlers you can remove the spinner and show the content, or show\nan error if the content cannot be fetched.\n */\n\nvar fetch = require('cxp-web-apis/src/util/deduping-fetch');\n\n/*\n *  helpers\n */\nvar mimeTypes = {\n    png: 'image/png',\n    jpg: 'image/jpeg',\n    jpeg: 'image/jpeg',\n    gif: 'image/gif',\n    html: 'text/html',\n    js: 'application/javascript',\n    css: 'text/css'\n};\n\nvar toArray = function(htmlCollection) {\n    return [].slice.call(htmlCollection);\n};\n\nvar htmlToElement = function(html) {\n    var template = window.document.createElement('template');\n    template.innerHTML = html;\n    return template.content.firstChild;\n};\n\nvar replaceInclude = function(include, html) {\n    var parent = include.parentNode;\n    var newInclude = htmlToElement(html);\n\n    parent.replaceChild(newInclude, include);\n\n    return newInclude;\n};\n\nvar createContentUrl = function(contextRoot, portalName, id) {\n    return contextRoot + '/contenttemplates/rendered?' +\n        'contextItemName=' + portalName + '&' +\n        'uuid=' + id;\n};\n\nvar parseXmlText = function(text) {\n    var parsed = (new window.DOMParser())\n        .parseFromString('<foo>' + text + '</foo>', 'text/xml');\n    return parsed && parsed.childNodes &&\n        parsed.childNodes[0] && parsed.childNodes[0].textContent;\n};\n\nvar urlToMimeType = function(url) {\n    var extension = url.match('\\.([^.]+)$')[1];\n    return mimeTypes[extension];\n};\n\nvar sendEvent = function(domNode, eventName) {\n    var event = window.document.createEvent('HTMLEvents');\n    event.initEvent(eventName, true, true);\n    domNode.dispatchEvent(event);\n};\n\nvar contextToServer = function(contextRoot) {\n    return contextRoot.match(/^[^/]+\\/\\/[^/]+/) || '';\n};\n\n/*\n *  storage functions\n */\nvar mangleName = function(id) {\n    return 'moc-cache-' + id;\n};\n\nvar readStorage = function(id, cb) {\n    var storage = window.localStorage;\n    var persistentStorage = window.cxp && window.cxp.mobile &&\n        window.cxp.mobile.plugins && window.cxp.mobile.plugins.PersistentStorage;\n\n    return new Promise(function(resolve, reject) {\n        if (persistentStorage) {\n            persistentStorage.getItem(\n                function(data){\n                    if(data){\n                        resolve(JSON.parse(data));\n                    }else{\n                        resolve();\n                    }\n                },\n                // we do not reject the promise if the id isn't found in\n                // storage, we just return undefined\n                function() {\n                    resolve();\n                },\n                mangleName(id)\n            );\n        } else {\n            var data = storage[mangleName(id)];\n            if (data) {\n                resolve(JSON.parse(data));\n            } else {\n                // we do not reject the promise if the id isn't found in\n                // storage, we just return undefined\n                resolve();\n            }\n        }\n    });\n};\n\nvar writeStorage = function(id, content) {\n    var storage = window.localStorage;\n    var persistentStorage = window.cxp && window.cxp.mobile &&\n        window.cxp.mobile.plugins && window.cxp.mobile.plugins.PersistentStorage;\n\n    return new Promise(function(resolve, reject) {\n        if (persistentStorage) {\n            persistentStorage.setItem(\n                resolve,\n                reject,\n                mangleName(id),\n                JSON.stringify(content)\n            );\n        } else {\n            storage[mangleName(id)] = JSON.stringify(content);\n            resolve();\n        }\n    });\n};\n\nvar deleteFromStorage = function(id) {\n    var storage = window.localStorage;\n    var persistentStorage = window.cxp && window.cxp.mobile &&\n        window.cxp.mobile.plugins && window.cxp.mobile.plugins.PersistentStorage;\n\n    return new Promise(function(resolve, reject) {\n        if (persistentStorage) {\n            persistentStorage.removeItem(\n                resolve,\n                reject,\n                mangleName(id)\n            );\n        } else {\n            storage.removeItem(mangleName(id));\n            resolve();\n        }\n    });\n};\n\n\n/*\n *  Promise based functions\n */\n\n// taken from https://davidwalsh.name/convert-image-data-uri-javascript\n// changed to work with promises and to use proper mimeTypes\nvar getDataUri = function(url) {\n    return new Promise(function(resolve, reject) {\n        var image = new window.Image();\n\n        image.onload = function () {\n            var canvas = window.document.createElement('canvas');\n            canvas.width = this.naturalWidth;\n            canvas.height = this.naturalHeight;\n\n            canvas.getContext('2d').drawImage(this, 0, 0);\n\n            resolve(canvas.toDataURL(urlToMimeType(url)));\n        };\n\n        image.onerror = function () {\n            reject();\n        };\n\n        image.src = url;\n    });\n};\n\nvar fetchContent = function(contextRoot, portalName, id) {\n    return fetch(createContentUrl(contextRoot, portalName, id))\n        .then(function(res) {\n            return res.status >= 200 && res.status < 300 ?\n                Promise.resolve(res.text()) : Promise.reject(res.statusText);\n        })\n        .then(function(html) {\n            // find all CS content urls to resolve\n            return html\n                .split(/([^\"]+\\/content\\/atom\\/[^\"]+)|([^\"]+\\/content\\/bbp\\/repositories\\/[^\"]+)/g);\n        })\n        .then(function(chunks) {\n            return Promise.all(\n                chunks\n                    .map(function(chunk) {\n                        if (/\\/content\\/atom\\/|\\/content\\/bbp\\/repositories\\//.test(chunk)) {\n                            return getDataUri(\n                                contextToServer(contextRoot) +\n                                // CS content urls seem to be XML encoded. Fix that here\n                                parseXmlText(chunk)\n                            );\n                        }\n                        return chunk;\n                    })\n            );\n        })\n        .then(function(chunks) {\n            return chunks\n                .join('');\n        });\n};\n\nvar resolveContent = function(contextRoot, portalName, model) {\n    return readStorage(model.id)\n        .then(function(content) {\n            var cacheKey = model.preferences.widgetContentsUpdated ? model.preferences.widgetContentsUpdated.value : 0;\n            var contentsCached = model.preferences.contentsCached ? model.preferences.contentsCached.value === 'true' : true;\n\n            // remove the previously cached element if the cache has been disabled for it.\n            if (contentsCached === false){\n                deleteFromStorage(model.id);\n            }\n\n            // ICE widget - proper expiry detection using 'widgetContentsUpdated' preference in the model\n            if (contentsCached && content && content.cacheKey === cacheKey) {\n                return content.data;\n\n            // fetch content ourselves\n            } else {\n                return fetchContent(contextRoot, portalName, model.id)\n                    .then(function(content) {\n                        if(contentsCached){\n                            writeStorage(model.id, {\n                                cacheKey: cacheKey,\n                                data: content\n                            });\n                        }\n                        return content;\n                    });\n            }\n        });\n};\n\nmodule.exports = function(contextRoot) {\n    return {\n        name: 'mobile-optimized-content-plugin',\n        postRender: function(widgetInstance, widgetRenderer, widgetModel) {\n            var portalName = widgetInstance.features.cxp.config.get('portalName');\n\n            var includes = toArray(widgetInstance.body.getElementsByTagName('g:include'))\n                .filter(function(include) {\n                    return /\\/contenttemplates\\/rendered/.test(include.getAttribute('src')) &&\n                        include.querySelectorAll('[name=\"templateUrl\"]').length === 0;\n                })\n                .map(function(include) {\n                    // replace the g:include with moc:include so the BackbaseFormatPlugin doesn't resolve it\n                    var domNode = replaceInclude(include, include.outerHTML.replace(/g:include/g, 'moc:include'));\n\n                    return resolveContent(contextRoot, portalName, widgetModel)\n                        .then(function(content) {\n                            replaceInclude(domNode, content);\n                        });\n                });\n\n            if (includes.length) {\n                Promise.all(includes)\n                    // these fire only after all content g:includes have finished\n                    .then(function() {\n                        sendEvent(widgetInstance.body, 'contentLoaded');\n                    })\n                    .catch(function() {\n                        sendEvent(widgetInstance.body, 'contentError');\n                    });\n            }\n\n            return widgetInstance;\n        }\n    };\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"cxp-web-apis/src/util/deduping-fetch\":179}],193:[function(require,module,exports){\n(function (global){\n/* jshint unused: vars */\n\n'use strict';\n\nvar window = global.window || {}; // jshint ignore:line\n\n//needed for spec to run\nif(!global.window) {\n    global.window = window;\n}\n\n//core portal\nvar cxpWebApis = require('cxp-web-apis');\n\n//plugins (these are all functions which should be called to get the plugin instance)\nvar addFeaturePlugin = require('../plugins/add-feature-plugin');\nvar exposeChildrenPlugin = require('../plugins/expose-children-plugin');\nvar mocPlugin = require('../plugins/mobile-optimised-content-plugin');\n\n//retreive csrf tokens using this cookie name\nvar CSRF_TOKEN_COOKIE_NAME = 'bbCSRF';\n//send csrf tokens using this request header name\nvar CSRF_TOKEN_HEADER_NAME = CSRF_TOKEN_COOKIE_NAME;\n\n/**\n * Renders a page\n * @interface\n * @constructor\n */\nvar PageRenderer =  function(opts) {\n};\n\n/**\n * Starts the rendering process\n * @param rootEl\n * @param model\n * @param pubsub feature implementation\n * @param opts\n */\nPageRenderer.prototype.render = function(rootEl, model, pubsub, opts) {\n\n    //options\n    opts = opts || {};\n    var logLevel = opts.logLevel || 'warn';\n    var localContextRoot = opts.localContextRoot || '';\n    var remoteContextRoot = opts.remoteContextRoot || '';\n    var apiRoot = opts.apiRoot || '';\n    var portalName = opts.portalName || 'anonymous-portal';\n\n    //set up config\n    var config = cxpWebApis.createConfiguration({\n        logStreams: this._createLogStreams(logLevel),\n    });\n    config.enable('compat');\n    config.enable('fullConfigReplacement'); //enables $(contextRoot) replacement for all preferences\n    config.set('portalName', portalName);\n    config.set('contextRoot', localContextRoot);\n    config.set('remoteContextRoot', remoteContextRoot);\n    config.set('apiRoot', apiRoot);\n\n    //CSRF\n    var csrfTokenCookieValue = null; //TODO: where do we get a CSRF token from?\n    if(csrfTokenCookieValue) {\n        config.set('csrfToken', {\n            name: CSRF_TOKEN_HEADER_NAME,\n            value: csrfTokenCookieValue\n        });\n    }\n\n    //set up renderer\n    var renderer = cxpWebApis.getRenderer(config);\n    renderer.addPlugin(mocPlugin(config.get('remoteContextRoot')));\n    renderer.addPlugin(exposeChildrenPlugin());\n    \n    //expose CXP as a feature to widgets\n    var cxpFeature = {\n        name: 'cxp',\n        config: config,\n        render: renderer,\n        model: cxpWebApis.getModel(config)\n    };\n    renderer.addPlugin(addFeaturePlugin([ cxpFeature.name ]));\n    renderer.addFeature(cxpFeature);\n    renderer.addFeature(pubsub); //enable the pubsub feature using the native implementation\n\n    this._renderForPlatform(model, renderer, rootEl);\n};\n\n/**\n * Should return an array of browser-bunyan log streams.\n * @param opts\n * @private\n */\nPageRenderer.prototype._createLogStreams = function(opts) {\n    throw new Error('PageRenderer#_createLogStreams must be overridden.');\n};\n\n/**\n * Platform specific rendering part\n * @param model\n * @param renderer\n * @param rootEl\n * @private\n */\nPageRenderer.prototype._renderForPlatform = function(model, renderer, rootEl) {\n    throw new Error('PageRenderer#_renderForPlatform must be overridden.');\n};\n\nmodule.exports = PageRenderer;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../plugins/add-feature-plugin\":190,\"../plugins/expose-children-plugin\":191,\"../plugins/mobile-optimised-content-plugin\":192,\"cxp-web-apis\":153}]},{},[183]);\n"]}