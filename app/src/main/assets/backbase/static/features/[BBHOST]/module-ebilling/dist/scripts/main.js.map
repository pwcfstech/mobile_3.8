{"version":3,"sources":["webpack:///module-ebilling/webpack/universalModuleDefinition","webpack:///module-ebilling/scripts/main.js","webpack:///module-ebilling/webpack/bootstrap 9673132e17f316158e64","webpack:///module-ebilling/./scripts/main.js","webpack:///module-ebilling/(webpack)/buildin/module.js","webpack:///module-ebilling/external \"base\"","webpack:///module-ebilling/external \"core\"","webpack:///module-ebilling/external \"ui\"","webpack:///module-ebilling/external \"module-accounts\"","webpack:///module-ebilling/external \"module-payments\"","webpack:///module-ebilling/external \"module-enrollment\"","webpack:///module-ebilling/./scripts/components/new-payment-box/scripts/main.js","webpack:///module-ebilling/./scripts/components/new-payment-box/scripts/lp-new-payment-box.js","webpack:///module-ebilling/./scripts/components/new-payment-box/scripts/lp-onetime-transfer.js","webpack:///module-ebilling/./scripts/components/new-payment-box/scripts/lp-payment-date-box.js","webpack:///module-ebilling/./scripts/components/ebill-setup/scripts/main.js","webpack:///module-ebilling/./scripts/components/ebill-setup/scripts/lp-ebill-setup-view.js","webpack:///module-ebilling/./scripts/provider.js","webpack:///module-ebilling/./scripts/models.js","webpack:///module-ebilling/./scripts/filters.js","webpack:///module-ebilling/./scripts/views.js","webpack:///module-ebilling/./scripts/utils.js","webpack:///module-ebilling/./scripts/services/ebill-service.js","webpack:///module-ebilling/./scripts/services/ebill-normalizer.js","webpack:///module-ebilling/./scripts/services/ebill-pay-service.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_3__","__WEBPACK_EXTERNAL_MODULE_4__","__WEBPACK_EXTERNAL_MODULE_5__","__WEBPACK_EXTERNAL_MODULE_6__","__WEBPACK_EXTERNAL_MODULE_7__","__WEBPACK_EXTERNAL_MODULE_8__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","__WEBPACK_AMD_DEFINE_RESULT__","name","base","core","ui","accounts","payments","moduleEnrollment","newPaymentBox","eBillSetup","deps","createModule","provider","service","services","factories","filter","directive","directives","undefined","webpackPolyfill","deprecate","paths","children","paymentBoxTemplate","lpNewPaymentBox","$timeout","link","scope","element","attrs","specificAmount","paymentOrder","amount","eBill","amountDue","$watch","value","restrict","showUrgentTransfer","scheduledTransferFrequencies","scheduledTransferEndOptions","replace","template","$inject","onetimeTransferTemplate","lpOnetimeTransfer","estimatedDeliveryDate","paymentDateBoxTemplate","lpPaymentDateBox","onetimeTransfer","isScheduledTransfer","scheduledTransfer","frequencies","endOptions","utils","lpEbillSetupView","lpCoreTemplate","lpEBillService","lpCoreUtils","TPL_ALERTS","TPL_SITE","TPL_LOGIN","TPL_ACCOUNT","TPL_CONTROLS","TPL","handleError","err","isUndefined","logErrors","errors","handleEBillResponse","data","checkStatus","payee","ebills","then","loading","furtherActionNeeded","eBillsStatus","callback","continueButtonIsDisabled","valid","has","chain","nextAction","credentialsParams","map","reduce","v1","v2","confirm","performAction","error","cancel","lpEbilling","$get","$q","$http","lpEbillingUtils","lpEbillingCache","AccountsModel","config","baseUrl","locale","debitOrdersSrc","mandatesSrc","dateListFormat","showCurrencySym","templates","cache","enable","init","getAccounts","d","defer","accountsData","get","resolve","setConfig","accountsEndpoint","accountsEndPoint","load","response","put","reject","errObj","promise","getTemplate","k","Error","templateUrl","options","mapValues","resolvePortalPlaceholders","defaults","getConfig","prop","isString","providers","lpEbillingDebitOrdersModel","lpEbillingMandateModel","lpCoreI18nUtils","$resource","$filter","mapItem","model","currencySym","CURRENCY_MAP","currency","newModel","status","dueDate","paymentDueDate","dueDateFiltered","dateFilter","scheduledDate","paymentScheduledDate","scheduledDateFiltered","statusReasonInformation","isOverdue","checkDueDate","parseFloat","amountFiltered","eBillCurrency","minimalAmount","minAmount","minAmountFiltered","mandate","autoPay","directDebit","MandateModel","amountPaid","amountPaidFiltered","modifiedDate","modifiedDateFiltered","debtor","actions","Array","action","Model","endPoint","resolvePreference","query","method","isArray","interceptor","_response","length","accept","params","decline","pay","getAll","extend","join","$promise","getAllNew","getHistory","creditorName","creditor","creditorReference","reference","creditorAddress","postalAddress","debitorName","debitorAccount","account","notifyOnNewOrders","_response2","enableDirectDebit","disableDirectDebit","enableNotifyOnNewOrders","disableNotifyOnNewOrders","$cacheFactory","opts","v","remove","removeAll","info","lpEbillingBus","$rootScope","$window","canBubble","isObject","gadgets","pubsub","isFunction","publish","channels","event","bubble","$emit","subscribe","handler","$on","unsubscribe","orgCurrencyFilterFn","eBillOptions","$","window","jQuery","eBillListItem","$compile","swipeLeft","$el","width","cb","$scope","css","left","removeClass","stop","animate","isSwiped","addClass","swipeRight","linkFn","$element","$attrs","modelCtrl","actionElWidth","dragedEl","find","bill","opened","processing","title","subtitle","date","auto","onKeyPressed","$event","keyCode","which","onClick","preventDefault","onSwipe","$itemList","srcEvent","stopPropagation","direction","val","compileFn","priority","Number","MAX_VALUE","transclude","compile","eBillAmountInput","pad","n","z","combineDecimals","decimal","parseInt","noDecimal","toFixed","one","on","maxLength","substr","newValue","$setViewValue","angular","ng","$log","noop","bind","copy","isTouch","keys","Object","widgetStaticPath","widgetSrc","parts","toString","split","pop","isBoolean","obj","prototype","predicate","whereObj","isEmpty","i","cond","hasOwnProperty","findIndex","item","indexOf","sortBy","attribute","desc","sort","a","b","when","isSame","add","subtract","isAfter","dueDateIndicator","groupBy","groupLabelPrefix","groupLabelSuffix","sortOrder","group","groupValue","groups","groupLabel","supportedGroups","forEach","toLowerCase","labelSuffix","label","bills","push","log","location","hostname","arg","slice","arguments","apply","parse","res","url","normalize","EBillService","lpCoreError","http","api","setup","post","payeeId","eBillInfo","sessionId","checkErrors","defVal","assign","entry","inputFieldType","masked","_","EBillPayService","EBillPayModel","endOptionsEnum","AFTER","ON_DATE","CANCEL","schedule","transferFrequency","every","formatDate","format","getScheduleFromFrequency","frequencyId","transformSchedule","startDate","frequency","endOn","repeat","timesToRepeat","endDate","transformPayment","payment","instructedAmount","instructedCurrency","debitAccount","identifier","source","creditAccount","additionalInfo","memo","isOneTimeRecurringTransfer","paymentMode","executionDate","scheduleDate","executionDateTime","urgentTransfer","createPaymentTemplate","Date","intervals","getModel","lpEBillPayService"],"mappings":"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","file":"scripts/main.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"base\"), require(\"core\"), require(\"ui\"), require(\"module-accounts\"), require(\"module-payments\"), require(\"module-enrollment\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"base\", \"core\", \"ui\", \"module-accounts\", \"module-payments\", \"module-enrollment\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"module-ebilling\"] = factory(require(\"base\"), require(\"core\"), require(\"ui\"), require(\"module-accounts\"), require(\"module-payments\"), require(\"module-enrollment\"));\n\telse\n\t\troot[\"module-ebilling\"] = factory(root[\"base\"], root[\"core\"], root[\"ui\"], root[\"module-accounts\"], root[\"module-payments\"], root[\"module-enrollment\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_7__, __WEBPACK_EXTERNAL_MODULE_8__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"base\"), require(\"core\"), require(\"ui\"), require(\"module-accounts\"), require(\"module-payments\"), require(\"module-enrollment\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"base\", \"core\", \"ui\", \"module-accounts\", \"module-payments\", \"module-enrollment\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"module-ebilling\"] = factory(require(\"base\"), require(\"core\"), require(\"ui\"), require(\"module-accounts\"), require(\"module-payments\"), require(\"module-enrollment\"));\n\telse\n\t\troot[\"module-ebilling\"] = factory(root[\"base\"], root[\"core\"], root[\"ui\"], root[\"module-accounts\"], root[\"module-payments\"], root[\"module-enrollment\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_7__, __WEBPACK_EXTERNAL_MODULE_8__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(1);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(module) {'use strict';\n\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\n\t    'use strict';\n\n\t    module.name = 'module-ebilling';\n\n\t    var base = __webpack_require__(3);\n\t    var core = __webpack_require__(4);\n\t    var ui = __webpack_require__(5);\n\n\t    var accounts = __webpack_require__(6);\n\t    var payments = __webpack_require__(7);\n\t    var moduleEnrollment = __webpack_require__(8);\n\t    var newPaymentBox = __webpack_require__(9);\n\t    var eBillSetup = __webpack_require__(13);\n\n\t    // Module name\n\t    var deps = [ui.name, core.name, accounts.name, payments.name, moduleEnrollment.name, newPaymentBox.name, eBillSetup.name];\n\n\t    module.exports = base.createModule(module.name, deps).provider(__webpack_require__(15)).service(__webpack_require__(16).services).factory(__webpack_require__(16).factories).filter(__webpack_require__(17)).directive(__webpack_require__(18).directives).service(__webpack_require__(19)).service(__webpack_require__(20)).service(__webpack_require__(22));\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)(module)))\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(module) {\r\n\t\tif(!module.webpackPolyfill) {\r\n\t\t\tmodule.deprecate = function() {};\r\n\t\t\tmodule.paths = [];\r\n\t\t\t// module.parent = undefined by default\r\n\t\t\tmodule.children = [];\r\n\t\t\tmodule.webpackPolyfill = 1;\r\n\t\t}\r\n\t\treturn module;\r\n\t}\r\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(module) {'use strict';\n\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\t    'use strict';\n\n\t    module.name = 'new-payment-box';\n\n\t    var base = __webpack_require__(3);\n\t    var core = __webpack_require__(4);\n\t    var ui = __webpack_require__(5);\n\n\t    var deps = [core.name, ui.name];\n\n\t    module.exports = base.createModule(module.name, deps).directive(__webpack_require__(10)).directive(__webpack_require__(11)).directive(__webpack_require__(12));\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)(module)))\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t/*eslint space-infix-ops:0*/\n\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\n\t    'use strict';\n\n\t    var paymentBoxTemplate = '<form class=\"lp-new-payment-box\">' + '<div class=\"form-group lp-new-payment-balances\" ng-if=\"eBill\">' + '<div class=\"clearfix\" ng-if=\"eBill.outstandingBalance\">' + '<div class=\"col-xs-5 col-md-5\">' + '<div lp-custom-radio=\"\" name=\"eBillAmount\" ng-click=\"specificAmount.display = false\" ' + 'ng-model=\"paymentOrder.amount\" value=\"{{ eBill.outstandingBalance }}\">' + '<span lp-i18n=\"Statement Balance\"></span>' + '</div>' + '</div>' + '<div class=\"col-xs-7 col-md-7 text-right\">' + '<span class=\"radio h5\" lp-amount=\"eBill.outstandingBalance\" lp-amount-currency=\"paymentOrder.currencySym\"></span>' + '</div>' + '</div>' + '<div class=\"clearfix\" ng-if=\"eBill.amountDue\">' + '<div class=\"col-xs-5 col-md-5\">' + '<div lp-custom-radio=\"\" name=\"eBillAmount\" ng-click=\"specificAmount.display = false\" ' + 'ng-model=\"paymentOrder.amount\" value=\"{{ eBill.amountDue }}\">' + '<span lp-i18n=\"Minimum Amount\"></span>' + '</div>' + '</div>' + '<div class=\"col-xs-7 col-md-7 text-right\">' + '<span class=\"radio h5\" lp-amount=\"eBill.amountDue\" lp-amount-currency=\"paymentOrder.currencySym\"></span>' + '</div>' + '</div>' + '<div class=\"form-group clearfix\">' + '<div class=\"col-xs-5 col-md-5\">' + '<div lp-custom-radio=\"\" name=\"eBillAmount\" ng-click=\"specificAmount.display = true\" ng-model=\"paymentOrder.amount\" ng-value=\"specificAmount.amount\">' + '<span lp-i18n=\"Specified Amount\"></span>' + '</div>' + '</div>' + '<div class=\"col-xs-7 col-md-7 lp-currency-amount-input\" ng-show=\"specificAmount.display\"\">' + '<div class=\"amount-area\" name=\"amount\" ng-model=\"specificAmount.amount\" ' + ' e-bill-amount-input=\"{currencySym: paymentOrder.currencySym }\"></div>' + '</div>' + '</div>' + '</div>' + '<div class=\"form-group clearfix\" ng-if=\"!eBill\">' + '<div class=\"lp-st-section clearfix\">' + '<div class=\"pull-left lp-st-caption\" lp-i18n=\"Amount to pay\"></div>' + '<div class=\"pull-left lp-st-control lp-currency-amount-input\">' + '<div class=\"amount-area\" name=\"amount\" ng-model=\"paymentOrder.amount\" ' + ' e-bill-amount-input=\"{currencySym: paymentOrder.currencySym}\" required=\"required\">' + '</div>' + '</div>' + '</div>' + '</div>' + '<div class=\"form-group clearfix\">' + '<div class=\"lp-st-section clearfix\">' + '<div class=\"pull-left lp-st-caption\" lp-i18n=\"Pay with\"></div>' + '<div class=\"col-xs-12 col-sm-12\">' + '<div name=\"accountId\" class=\"lp-accounts-header\" ng-change=\"\"' + 'lp-accounts-select=\"lp-accounts-select\"' + 'ng-model=\"paymentOrder.account\"' + 'lp-accounts=\"accounts\" required=\"required\">' + '</div>' + '</div>' + '</div>' + '</div>' + '<div lp-payment-date-box ' + 'payment-order=\"paymentOrder\" ' + 'show-urgent-transfer=\"showUrgentTransfer()\"' + 'scheduled-transfer-frequencies=\"scheduledTransferFrequencies\"' + 'scheduled-transfer-end-options=\"scheduledTransferEndOptions\">' + '</div>' + '<div class=\"memo\">' + '<textarea aria-label=\"payment description\" class=\"form-control memo-area\"' + 'placeholder=\"Description (optional) Maximum number of characters is 140\"' + 'maxlength=\"140\"' + 'ng-model=\"paymentOrder.memo\">' + '</textarea>' + '</div>' + '</form>';\n\n\t    // @ngInject\n\t    exports.lpNewPaymentBox = function ($timeout) {\n\t        var link = function link(scope, element, attrs) {\n\t            // Amount entered by the user\n\t            scope.specificAmount = {};\n\n\t            // Initialzes amount selection\n\t            $timeout(function () {\n\t                if (!scope.paymentOrder.amount && scope.eBill) {\n\t                    scope.paymentOrder.amount = scope.eBill.amountDue;\n\t                }\n\t            });\n\n\t            // Update the payment order model when user put custom amount\n\t            scope.$watch('specificAmount.amount', function (value) {\n\t                scope.paymentOrder.amount = value;\n\t            });\n\t        };\n\n\t        return {\n\t            restrict: 'A',\n\t            scope: {\n\t                paymentOrder: '=payment',\n\t                accounts: '=accounts',\n\t                eBill: '=?', // e.g. { amountDue: 98.65, outstandingBalance: 986.5, dueDate: \"2015-03-31\" } */\n\t                showUrgentTransfer: '&',\n\t                scheduledTransferFrequencies: '=?',\n\t                scheduledTransferEndOptions: '=?'\n\t            },\n\t            replace: true,\n\t            link: link,\n\t            template: paymentBoxTemplate\n\t        };\n\t    };\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\n\t    'use strict';\n\n\t    var onetimeTransferTemplate = '<div class=\"lp-onetime-transfer\">' + '<div modal-dialog=\"\" show=\"urgentTransferModalShown\" closable=\"false\">' + '<div class=\"modal-header\">' + '<h2><i class=\"lp-icon lp-icon-xxl lp-icon-info-sign\"></i> <span lp-i18n=\"Urgent Transfer\"></span></h2>' + '</div>' + '<div class=\"modal-body\" lp-i18n=\"If you need to send money fast and cannot wait for the usual bank time of approx. 1-2 days then Urgent Transfer allows you to pass the money across in a 5 minute window instead. However, it does come with a 5$ charge and this will appear as a separate transaction in your activity view.\">' + '</div>' + '<div class=\"modal-footer\">' + '<button type=\"button\" class=\"btn btn-primary\" ng-click=\"toggleUrgentTransferModal()\" lp-i18n=\"Close\"></button>' + '</div>' + '</div>' + '<div class=\"one-time clearfix\">' + '<div class=\"lp-st-section clearfix\">' + '<div class=\"pull-left lp-st-caption\" lp-i18n=\"Sending date\"></div>' + '<div class=\"pull-left lp-st-control calendar\">' + '<input ng-click=\"isOpenDate = !isOpenDate\" required=\"required\" type=\"text\" name=\"scheduleDate\"' + 'ng-model=\"paymentOrder.scheduleDate\" datepicker-popup=\"dd-MMM-yyyy\"' + 'min-date=\"todaysDate\" is-open=\"isOpenDate\" class=\"form-control\" lp-future-time=\"\"' + 'datepicker-options=\"dateOptions\" show-button-bar=\"false\" tabindex=\"0\" placeholder=\"select date\"' + 'aria-label=\"select date\" />' + '<span ng-click=\"isOpenDate = !isOpenDate\" class=\"lp-icon lp-icon-calendar calendar-icon\"></span>' + '</div>' + '</div>' + '<div if=\"estimatedDeliveryDate\" class=\"lp-st-section clearfix\">' + '<div class=\"pull-left lp-st-caption\" lp-i18n=\"Delivery date\"></div>' + '<div class=\"pull-left lp-st-caption\">' + '<div>{{estimatedDeliveryDate}}</div>' + '</div>' + '</div>' + '</div>' + '<div class=\"urgent-transfer\" ng-show=\"showUrgentTransfer()\">' + '<div lp-custom-checkbox=\"\" aria-label=\"{{ \\'urgent transfer\\' | translate }}\" ng-model=\"paymentOrder.urgentTransfer\">' + '<span lp-i18n=\"Make transfer urgent\"></span>' + '</div>' + '</div>' + '<p ng-show=\"paymentOrder.urgentTransfer\" class=\"urgent-transfer-message\"><span lp-i18n=\"Making an urgent transfer will incur an extra cost. This will appear on your transactions as a separate transaction.\"></span></p>' + '</div>';\n\n\t    exports.lpOnetimeTransfer = function () {\n\t        var link = function link(scope, element, attrs) {};\n\n\t        return {\n\t            restrict: 'A',\n\t            scope: {\n\t                paymentOrder: '=',\n\t                estimatedDeliveryDate: '=?',\n\t                showUrgentTransfer: '&'\n\t            },\n\t            link: link,\n\t            replace: true,\n\t            template: onetimeTransferTemplate\n\t        };\n\t    };\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\t    'use strict';\n\n\t    var paymentDateBoxTemplate = '<form name=\"PaymentDateBoxForm\" class=\"lp-payment-date-box\">' + '<div class=\"e-bill-info-wrapper\">' + '<ul tabset=\"tabset\" class=\"tabset\">' + '<li tab=\"tab\" select=\"onetimeTransfer()\">' + '<span tab-heading=\"tab-heading\" class=\"tab-heading\" lp-i18n=\"One Time\"></span>' + '<div lp-onetime-transfer payment-order=\"paymentOrder\" ' + 'estimated-delivery-date=\"paymentOrder.estDeliveryDate\" ' + 'show-urgent-transfer=\"showUrgentTransfer()\">' + '</div>' + '</li>' + '<li tab=\"tab\" select=\"scheduledTransfer()\">' + '<span tab-heading=\"tab-heading\" class=\"tab-heading\" lp-i18n=\"Recurring\"></span>' + '<div lp-scheduled-transfer=\"lp-scheduled-transfer\" ng-model=\"paymentOrder.scheduledTransfer\" frequencies=\"frequencies\" end-options=\"endOptions\">' + '</div>' + '</li>' + '</ul>' + '</div>' + '</form>';\n\n\t    exports.lpPaymentDateBox = function () {\n\t        var link = function link(scope, element, attrs) {\n\n\t            scope.onetimeTransfer = function () {\n\t                scope.paymentOrder.isScheduledTransfer = false;\n\t            };\n\n\t            scope.scheduledTransfer = function () {\n\t                scope.paymentOrder.isScheduledTransfer = true;\n\t            };\n\t        };\n\t        return {\n\t            restrict: 'A',\n\t            replace: true,\n\t            scope: {\n\t                paymentOrder: '=',\n\t                showUrgentTransfer: '&?',\n\t                frequencies: '=?scheduledTransferFrequencies',\n\t                endOptions: '=?scheduledTransferEndOptions'\n\t            },\n\t            template: paymentDateBoxTemplate,\n\t            link: link\n\t        };\n\t    };\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(module) {'use strict';\n\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\t    'use strict';\n\n\t    module.name = 'ebill-setup';\n\n\t    var base = __webpack_require__(3);\n\t    var core = __webpack_require__(4);\n\t    var ui = __webpack_require__(5);\n\n\t    var deps = [core.name, ui.name];\n\n\t    module.exports = base.createModule(module.name, deps).directive(__webpack_require__(14));\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)(module)))\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\t    'use strict';\n\n\t    var utils = __webpack_require__(3).utils;\n\n\t    /**\n\t     * Directive to display E-Bill setup view for Payee.\n\t     *\n\t     * @param payee - Payee for with E-Bills should be setuped\n\t     * @param callback - Callback function, called when ebill setup is finished or cancelled\n\t     * @param logErrors - If specified error messages will be mapped to this object,\n\t     *                    otherwise directive will display errors itself.\n\t     * @ngInject\n\t     */\n\t    exports.lpEbillSetupView = function ($timeout, lpCoreTemplate, lpEBillService, lpCoreUtils) {\n\n\t        var TPL_ALERTS = '<div class=\"lp-alerts\" tabindex=\"-1\">' + '  <div class=\"alert alert-danger\" ng-if=\"errors\">' + '    <p ng-repeat=\"error in errors\">' + '      <i class=\"lp-icon lp-icon-alert-error\"></i><span lp-i18n=\"{{error.code}}\"></span>' + '    </p>' + '  </div>' + '</div>';\n\n\t        var TPL_SITE = '<div class=\"panel-heading panel-title clearfix\">' + '  <strong lp-i18n=\"Select Billers Site\"></strong>' + '</div>' + '<p lp-i18n=\"EBillsMultipleSitesFoundInstructions\" translate-values=\"{ billerName: payee.name }\"></p>' + '<div class=\"panel-body\">' + '  <p lp-i18n=\"Select site\"></p>' + '  <div lp-field=\"lp-field\"' + '    label=\"{{ \\'Select biller site\\' | translate }}\"' + '    aria-label=\"{{ \\'Select biller sites\\' | translate }}\">' + '    <div dropdown-select=\"dropdown-select\"' + '      ng-model=\"payee.ebills.billerSite\"' + '      ng-options=\"site as site.name for site in payee.ebills.nextAction.billerSites\">' + '    </div>' + '  </div>' + '</div>';\n\n\t        var TPL_LOGIN = '<div class=\"e-bill-setup-login\">' + '   <div class=\"row header\">' + '       <h3 class=\"col-ss-12 col-xs-12 col-sm-12 col-md-12 col-lg-12\" lp-i18n=\"EBillsLoginTo\" translate-values=\"{ billerName: payee.name }\"></h3>' + '   </div>' + '   <div class=\"row instructions\">' + '       <div class=\"col-ss-12 col-xs-12 col-sm-12 col-md-6 col-lg-6\" lp-i18n=\"EBillsLoginInstructions\" translate-values=\"{ billerName: payee.name }\"></div>' + '   </div>' + '   <div class=\"row\">' + '       <div class=\"col-ss-12 col-xs-12 col-sm-12 col-md-6 col-lg-6\">' + '           <div ng-repeat=\"credential in payee.ebills.nextAction.credentialsParams\">' + '                   <div lp-labeled-input-field=\"lp-labeled-input-field\"' + '                   input-type=\"{{ credential.inputFieldType }}\"' + '                   input-value=\"credential.fieldValue\"' + '                   is-required=\"true\" input-pattern=\"/^[a-zA-Z0-9.\\'\\-_\\\\s]{1,20}$/\"' + '                   pattern-error-msg=\"{{ \\'Field is required\\' }}\" field-name=\"{{ credential.fieldLabel.replace(\\' \\',\\'\\') }}\"' + '                   placeholder-text=\"{{ credential.fieldLabel }}\"></div>' + '           </div>' + '       </div>' + '   </div>' + '</div>';\n\n\t        var TPL_ACCOUNT = '<div class=\"e-bill-confirm-account\">' + '   <div class=\"row header\">' + '     <h3 class=\"col-ss-12 col-xs-12 col-sm-12 col-md-12 col-lg-12\" lp-i18n=\"Select E-Bills Account\"></h3>' + '   </div>' + '   <div class=\"row instructions\" ng-switch=\"payee.ebills.nextAction.accounts.length\">' + '       <div class=\"col-ss-12 col-xs-12 col-sm-12 col-md-6 col-lg-6\" ng-switch-when=\"0\">' + '         <div class=\"text-danger\" lp-i18n=\"We were unable to locate an account using the logon credentials you provided.\"></div>' + '       </div>' + '       <div class=\"col-ss-12 col-xs-12 col-sm-12 col-md-6 col-lg-6\" ng-switch-when=\"1\" ng-init=\"payee.ebills.account = payee.ebills.nextAction.accounts[0]\">' + '         <div lp-i18n=\"EBillsConfirmAccountNumber\" translate-values=\"{ accountNumber: payee.ebills.nextAction.accounts[0].name }\"></div>' + '       </div>' + '       <div ng-switch-default>' + '           <div lp-i18n=\"Select the account for which you would like to receive eBills.\"></div>' + '               <div lp-field=\"lp-field\"' + '               label=\"{{ \\'Select account\\' | translate }}\"' + '               aria-label=\"{{ \\'Select account\\' | translate }}\">' + '               <div dropdown-select=\"dropdown-select\"' + '                   ng-model=\"payee.ebills.account\"' + '                   ng-options=\"val as val.name for val in payee.ebills.nextAction.accounts\">' + '               </div>' + '           </div>' + '       </div>' + '   </div>' + '</div> ';\n\n\t        var TPL_CONTROLS = '<div class=\"row\">' + '   <div class=\"col-ss-12 col-xs-12 col-sm-12 col-md-6 col-lg-6\">' + '      <div class=\"row\">' + '          <div class=\"col-ss-12 col-xs-12 col-sm-12 col-md-6 col-lg-6\">' + '              <button type=\"submit\" ng-disabled=\"continueButtonIsDisabled()\" ng-click=\"confirm()\" class=\"btn btn-primary col-sm-12 col-md-12 col-lg-12\" lp-i18n=\"Continue\"></button>' + '          </div>' + '          <div class=\"col-ss-12 col-xs-12 col-sm-12 col-md-6 col-lg-6\">' + '              <button type=\"button\" ng-click=\"cancel()\" class=\"btn btn-link col-sm-12 col-md-12 col-lg-12 text-left\" lp-i18n=\"Cancel\"></button>' + '          </div>' + '      </div>' + '   </div>' + '</div>';\n\n\t        var TPL = '<div progress-indicator=\"loading\">' + TPL_ALERTS + '  <div ng-if=\"payee.ebills.nextAction\">' + '    <div ng-if=\"payee.ebills.nextAction.billerSites\">' + TPL_SITE + TPL_CONTROLS + '</div>' + '    <div ng-if=\"payee.ebills.nextAction.credentialsParams\">' + TPL_LOGIN + TPL_CONTROLS + '</div>' + '    <div ng-if=\"payee.ebills.nextAction.accounts\">' + TPL_ACCOUNT + TPL_CONTROLS + '</div>' + '  </div>' + '</div>';\n\n\t        var link = function link(scope, element, attrs) {\n\t            scope.loading = false;\n\n\t            /**\n\t             * If external log function provided - pass error to it,\n\t             * else use local error display\n\t             *\n\t             * @param errors - array of errors\n\t             */\n\t            function handleError(err) {\n\t                if (!utils.isUndefined(scope.logErrors)) {\n\t                    scope.logErrors(err);\n\t                } else {\n\t                    scope.errors = err;\n\t                }\n\t            }\n\n\t            /**\n\t             * Validate form (simple check if each field is valid according to field's pattern)\n\t             *\n\t             * @returns {boolean}\n\t             */\n\t            scope.continueButtonIsDisabled = function () {\n\t                var valid;\n\n\t                // Login template (presuming all fields are required)\n\t                if (lpCoreUtils.has(scope.payee, 'ebills.nextAction.credentialsParams')) {\n\t                    valid = lpCoreUtils.chain(scope.payee.ebills.nextAction.credentialsParams).map('fieldValue').reduce(function (v1, v2) {\n\t                        return v1 && v2;\n\t                    }).value();\n\t                    return !valid;\n\t                }\n\n\t                // Button enabled by default\n\t                return false;\n\t            };\n\n\t            function handleEBillResponse(data) {\n\t                if (data.checkStatus) {\n\t                    $timeout(function () {\n\t                        lpEBillService.checkStatus(scope.payee.ebills).then(handleEBillResponse, function (err) {\n\t                            scope.loading = false;\n\t                            handleError(err.data.errors);\n\t                        });\n\t                    }, 2000);\n\t                } else {\n\t                    scope.payee.ebills = data;\n\t                    if (!data.furtherActionNeeded) {\n\t                        scope.payee.eBillsStatus = 'ACTIVE';\n\t                        scope.callback();\n\t                    }\n\t                    scope.loading = false;\n\t                }\n\t            }\n\n\t            scope.confirm = function () {\n\t                scope.loading = true;\n\t                handleError(null); // Clear errors\n\t                lpEBillService.performAction(scope.payee.ebills).then(handleEBillResponse, function (error) {\n\t                    handleError(error.data.errors);\n\t                    scope.loading = false;\n\t                });\n\t            };\n\n\t            scope.cancel = function () {\n\t                scope.payee.ebills = null;\n\t                scope.callback();\n\t            };\n\t        };\n\t        return {\n\t            restrict: 'A',\n\t            scope: {\n\t                payee: '=',\n\t                callback: '&',\n\t                logErrors: '=?'\n\t            },\n\t            link: link,\n\t            template: TPL\n\t        };\n\t    };\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\t    'use strict';\n\t    /**\n\t     * EBill Module Provider\n\t     * with default configuration\n\t     */\n\t    // @ngInject\n\n\t    exports.lpEbilling = function () {\n\n\t        // @ngInject\n\t        this.$get = function ($q, $http, lpCoreUtils, lpEbillingUtils, lpEbillingCache, AccountsModel) {\n\n\t            var config = {\n\t                // Default options\n\t                baseUrl: '',\n\t                locale: 'en',\n\t                debitOrdersSrc: '',\n\t                mandatesSrc: '',\n\t                dateListFormat: 'MMM dd',\n\t                showCurrencySym: true,\n\t                templates: {},\n\t                cache: {\n\t                    enable: false\n\t                }\n\n\t            };\n\n\t            var cache = lpEbillingCache;\n\t            cache.init(config.cache);\n\n\t            return {\n\t                getAccounts: function getAccounts() {\n\t                    var d = $q.defer();\n\t                    var accountsData = cache.get('accounts');\n\t                    if (accountsData) {\n\t                        d.resolve(accountsData);\n\t                    } else {\n\t                        AccountsModel.setConfig({\n\t                            accountsEndpoint: config.accountsEndPoint\n\t                        });\n\t                        AccountsModel.load().then(function (response) {\n\t                            if (response) {\n\t                                cache.put('accounts', response);\n\t                                d.resolve(response);\n\t                            } else {\n\t                                d.reject();\n\t                            }\n\t                        }, function (errObj) {\n\t                            d.reject(errObj);\n\t                        });\n\t                    }\n\n\t                    return d.promise;\n\t                },\n\t                /**\n\t                 * [getTemplate description]\n\t                 * @param  {[type]} k [description]\n\t                 * @return {[type]}   [description]\n\t                 */\n\t                getTemplate: function getTemplate(k) {\n\t                    if (!config.templates[k]) {\n\t                        throw new Error('Unable to resolve template : ' + k);\n\t                    }\n\t                    var templateUrl = config.baseUrl + config.templates[k];\n\t                    return templateUrl;\n\t                },\n\n\t                setConfig: function setConfig(options) {\n\t                    config = lpCoreUtils(options).chain().mapValues(lpCoreUtils.resolvePortalPlaceholders).defaults(config).value();\n\t                    return this;\n\t                },\n\t                /**\n\t                 * [getConfig description]\n\t                 * @param  {string} prop preference string property\n\t                 * @return {string/object}      preference value\n\t                 */\n\t                getConfig: function getConfig(prop) {\n\t                    if (prop && lpCoreUtils.isString(prop)) {\n\t                        return config[prop];\n\t                    } else {\n\t                        return config;\n\t                    }\n\t                }\n\t            };\n\t        };\n\t    };\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\n\t    'use strict';\n\n\t    // Export vars\n\n\t    var providers = {},\n\t        factories = {},\n\t        services = {};\n\n\t    /*----------------------------------------------------------------*/\n\t    /* Debit Orders Model\n\t    /*----------------------------------------------------------------*/\n\t    // @ngInject\n\t    factories.lpEbillingDebitOrdersModel = function (lpEbilling, lpEbillingMandateModel, lpEbillingUtils, lpCoreI18nUtils, $resource, $q, $filter) {\n\n\t        var utils = lpEbillingUtils;\n\t        // Provider config\n\t        var options = lpEbilling.getConfig();\n\t        var endPoint = utils.resolvePreference(options.debitOrdersSrc);\n\t        // filter helpers\n\t        var dateFilter = $filter('date');\n\t        var eBillCurrency = $filter('eBillCurrency');\n\t        var MandateModel = lpEbillingMandateModel;\n\t        var Model;\n\n\t        /**\n\t         * Enhance the response model and initialize other ngResources if needed\n\t         * @param  {object} model object\n\t         * @return {object}       object with extra data\n\t         */\n\t        function mapItem(model) {\n\n\t            var currencySym = lpCoreI18nUtils.CURRENCY_MAP[model.currency] || '';\n\n\t            var newModel = {\n\t                id: model.id,\n\t                status: model.status,\n\t                currencySym: currencySym,\n\t                dueDate: model.paymentDueDate,\n\t                dueDateFiltered: dateFilter(model.paymentDueDate, 'MMM dd y'),\n\t                scheduledDate: model.paymentScheduledDate,\n\t                scheduledDateFiltered: dateFilter(model.paymentScheduledDate, 'MMM dd'),\n\t                statusReasonInformation: model.statusReasonInformation,\n\t                isOverdue: utils.checkDueDate('isPast', model.paymentDueDate)\n\t            };\n\n\t            // Amount filtering\n\t            if (model.amount) {\n\t                newModel.amount = parseFloat(model.amount, 10);\n\t                newModel.amountFiltered = eBillCurrency(model.amount, currencySym);\n\t            }\n\t            // MinAmount filtering\n\t            if (model.minimalAmount) {\n\t                newModel.minAmount = parseFloat(model.minimalAmount, 10);\n\t                newModel.minAmountFiltered = eBillCurrency(model.minimalAmount, currencySym);\n\t            }\n\t            // Mandate\n\t            if (model.mandate) {\n\t                newModel.autoPay = model.mandate.directDebit;\n\t                newModel.mandate = new MandateModel(model.mandate);\n\t            }\n\t            // History\n\t            if (model.amountPaid) {\n\t                newModel.amountPaid = model.amountPaid;\n\t                newModel.amountPaidFiltered = $filter('eBillCurrency')(newModel.amountPaid, currencySym);\n\t            }\n\n\t            if (model.modifiedDate) {\n\t                newModel.modifiedDate = model.modifiedDate;\n\t                newModel.modifiedDateFiltered = dateFilter(model.modifiedDate, 'MMM dd');\n\t            }\n\t            // Debtor\n\t            if (model.debtor) {\n\t                newModel.debtor = model.debtor;\n\t            }\n\t            // Actions\n\t            if (model.actions && model.actions instanceof Array) {\n\t                newModel.actions = {};\n\t                model.actions.map(function (action) {\n\t                    newModel.actions[action] = Model[action];\n\t                });\n\t            }\n\t            return newModel;\n\t        }\n\n\t        // ng Resource\n\t        Model = $resource(endPoint + '/:id/:action', {}, {\n\t            query: {\n\t                method: 'GET',\n\t                isArray: true,\n\t                cache: options.cache.enable,\n\t                interceptor: {\n\t                    response: function response(_response) {\n\t                        // var status = response.config.params.status || [];\n\t                        var data = _response.data;\n\t                        if (data instanceof Array && data.length > 0) {\n\t                            return data.map(mapItem);\n\t                        }\n\t                        return data;\n\t                    }\n\t                }\n\t            },\n\t            // custom actions\n\t            accept: {\n\t                params: { action: 'accept' },\n\t                method: 'POST'\n\t            },\n\t            decline: {\n\t                params: { action: 'decline' },\n\t                method: 'POST'\n\t            },\n\t            pay: {\n\t                params: { action: 'pay' },\n\t                method: 'POST'\n\t            },\n\t            reject: {\n\t                params: { action: 'reject' },\n\t                method: 'POST'\n\t            }\n\t        });\n\n\t        /*----------------------------------------------------------------*/\n\t        /* Object methods\n\t        /*----------------------------------------------------------------*/\n\n\t        /**\n\t         * Get the default debit-orders list in this case 'SCHEDULED/RECEIVED/HANDLING' ones.\n\t         *\n\t         * @param  {object} params supported query string\n\t         * @return {object}        ngResource object\n\t         */\n\t        Model.getAll = function (params) {\n\t            params = utils.extend(params || {}, {\n\t                status: ['SCHEDULED', 'RECEIVED', 'HANDLING'].join(',')\n\t            });\n\t            return this.query(params).$promise;\n\t        };\n\n\t        /**\n\t         * Get the new debit-orders list in this case 'IN_PROGRESS' ones.\n\t         *\n\t         * @param  {object} params supported query string\n\t         * @return {object}        ngResource object\n\t         */\n\t        Model.getAllNew = function (params) {\n\n\t            params = utils.extend(params || {}, {\n\t                status: ['IN_PROGRESS'].join(',')\n\t            });\n\t            return this.query(params).$promise;\n\t        };\n\n\t        /**\n\t         * Get the history list.\n\t         *\n\t         * @param  {object} params supported query string\n\t         * @return {object}        ngResource object\n\t         */\n\t        Model.getHistory = function (params) {\n\n\t            params = utils.extend(params || {}, {\n\t                status: ['PAID', 'REJECTED', 'REFUSED'].join(',')\n\t            });\n\t            return this.query(params).$promise;\n\t        };\n\n\t        return Model;\n\t    };\n\n\t    /*----------------------------------------------------------------*/\n\t    /* Mandate Model\n\t    /*----------------------------------------------------------------*/\n\n\t    // @ngInject\n\t    factories.lpEbillingMandateModel = function (lpEbilling, lpEbillingUtils, $resource) {\n\n\t        var utils = lpEbillingUtils;\n\t        // Provider Config\n\t        var options = lpEbilling.getConfig();\n\t        var endPoint = utils.resolvePreference(options.mandatesSrc);\n\t        var Model;\n\n\t        // Mapping function\n\t        function mapItem(model) {\n\t            var newModel = {\n\t                id: model.id,\n\t                creditorName: model.creditor.name,\n\t                creditorReference: model.creditor.reference,\n\t                creditorAddress: model.creditor.postalAddress,\n\t                debitorName: model.debtor.name,\n\t                debitorAccount: model.debtor.account,\n\t                notifyOnNewOrders: model.notifyOnNewOrders\n\t            };\n\t            // Actions\n\t            if (model.actions && model.actions instanceof Array) {\n\t                newModel.actions = {};\n\t                model.actions.map(function (action) {\n\t                    newModel.actions[action] = Model[action];\n\t                });\n\t            }\n\t            return newModel;\n\t        }\n\n\t        // ngResource Function\n\t        Model = $resource(endPoint + '/:id/:action', {\n\t            id: '@id'\n\t        }, {\n\t            get: {\n\t                method: 'GET', isArray: false, cache: options.cache.enable,\n\t                interceptor: {\n\t                    response: function response(_response2) {\n\t                        return mapItem(_response2.data);\n\t                    }\n\t                }\n\t            },\n\t            // Custom action\n\t            enableDirectDebit: {\n\t                method: 'POST'\n\t            },\n\t            disableDirectDebit: {\n\t                method: 'POST'\n\t            },\n\t            enableNotifyOnNewOrders: {\n\t                method: 'POST'\n\t            },\n\t            disableNotifyOnNewOrders: {\n\t                method: 'POST'\n\t            }\n\t        });\n\n\t        return Model;\n\t    };\n\n\t    /*----------------------------------------------------------------*/\n\t    /* Cache Service\n\t    /*----------------------------------------------------------------*/\n\n\t    // @ngInject\n\t    factories.lpEbillingCache = function ($cacheFactory) {\n\t        var cache, options;\n\t        return {\n\t            init: function init(opts) {\n\t                options = opts;\n\t                cache = $cacheFactory('EBill.Cache', options);\n\t            },\n\t            put: function put(k, v) {\n\t                return !!options.enable && cache.put(k, v);\n\t            },\n\t            remove: function remove(k) {\n\t                return cache.remove(k);\n\t            },\n\t            removeAll: function removeAll() {\n\t                return cache.removeAll();\n\t            },\n\t            get: function get(k) {\n\t                return cache.get(k);\n\t            },\n\t            info: function info() {\n\t                return cache.info();\n\t            },\n\t            // #TODO $templateCache\n\t            template: function template() {}\n\t        };\n\t    };\n\n\t    /*----------------------------------------------------------------*/\n\t    /* Bus Service\n\t    /*----------------------------------------------------------------*/\n\t    // @ngInject\n\t    services.lpEbillingBus = function ($rootScope, $window, lpEbillingUtils) {\n\n\t        var utils = lpEbillingUtils;\n\n\t        var canBubble = utils.isObject($window.gadgets.pubsub) && utils.isFunction($window.gadgets.pubsub.publish);\n\t        this.channels = {};\n\n\t        this.publish = function (event, data, bubble) {\n\t            utils.info('%c' + event, 'color: blue');\n\t            $rootScope.$emit(event, data);\n\t            if (typeof bubble === 'boolean' && bubble && canBubble) {\n\t                $window.gadgets.pubsub.publish(event, data);\n\t            }\n\t        };\n\n\t        this.subscribe = function (event, handler, bubble) {\n\t            this.channels[event] = $rootScope.$on(event, handler);\n\t            if (typeof bubble === 'boolean' && bubble && canBubble) {\n\t                $window.gadgets.pubsub.subscribe(event, handler);\n\t            }\n\t        };\n\t        this.unsubscribe = function (event, handler, bubble) {\n\t            if (this.channels[event]) {\n\t                this.channels[event]();\n\t            }\n\t            if (typeof bubble === 'boolean' && bubble && canBubble) {\n\t                $window.gadgets.pubsub.unsubscribe(event, handler);\n\t            }\n\t            return this;\n\t        };\n\t    };\n\n\t    /*----------------------------------------------------------------*/\n\t    /* Export\n\t    /*----------------------------------------------------------------*/\n\t    exports.providers = providers;\n\t    exports.factories = factories;\n\t    exports.services = services;\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\n\t    'use strict';\n\n\t    // @ngInject\n\n\t    exports.eBillCurrency = function ($filter, lpEbilling) {\n\t        var orgCurrencyFilterFn = $filter('currency');\n\t        var eBillOptions = lpEbilling.getConfig();\n\t        var showCurrencySym = eBillOptions.showCurrencySym;\n\t        return function (amount, currencySym) {\n\t            currencySym = showCurrencySym ? currencySym : '';\n\t            return orgCurrencyFilterFn(amount, currencySym);\n\t        };\n\t    };\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\n\t\t'use strict';\n\n\t\tvar $ = window.jQuery;\n\n\t\t// Store directives\n\t\tvar directives = {};\n\n\t\t/**\n\t  * Ebilling list item directive\n\t  * @type {Array} angular js directive\n\t  */\n\t\tdirectives.eBillListItem = ['$timeout', '$compile', 'lpEbillingUtils', function ($timeout, $compile, utils) {\n\n\t\t\tvar TPL = ['<div>', '<div class=\"list-view-container\"', 'on-swipe=\"onSwipe($event)\"', 'ng-click=\"onClick($event)\"', 'ng-keypress=\"onKeyPressed($event)\"', 'tabindex=\"0\"', 'ng-class=\"{\\'bill-overdue\\': bill.isOverdue}\"', 'on-gesture-options=\"{ dragLockToAxisX: true,  dragBlockHorizontal: true }\">', '<div class=\"col-xs-7 e-bill-list-info column text-left\">', '<div class=\"centered\">', '<span class=\"sr-only\">Name</span>', '<div class=\"h4 counterparty-name\"><strong>{{title}}</strong></div>', '<div class=\"h6 text-muted\">{{subtitle}}</div>', '</div>', '</div>', '<div class=\"col-xs-5 e-bill-list-amount-wrapper column text-right\">', '<div class=\"centered\">', '<div class=\"e-bill-list-amount\">', '<span class=\"sr-only\">Amount</span>', '<span class=\"h4\">{{amount}}</span>', '</div>', '<div class=\"e-bill-list-info-amount\">', '<span class=\"e-bill-auto-pay-stamp badge\" ng-if=\"auto\">Auto</span>', '<span class=\"e-bill-list-due-date badge\" ng-if=\"date\">', '<i class=\"glyphicon glyphicon-calendar\"></i> {{date}}', '</span>', '</div>', '</div>', '</div>', '<div class=\"toggle-list\">', '<i class=\"lp-icon\" ng-class=\"{ \\'lp-icon-angle-up\\' : bill.opened, \\'lp-icon-angle-down\\': !bill.opened}\"></i>', '</div>', '</div>', '<div ng-transclude></div>', '</div>'].join(' ');\n\n\t\t\t/*----------------------------------------------------------------*/\n\t\t\t/* Private's\n\t  /*----------------------------------------------------------------*/\n\t\t\tvar swipeLeft = function swipeLeft($el, width, cb) {\n\t\t\t\tvar $scope = this;\n\t\t\t\t$('.list-view-container.swiped-out').css({ left: 0 }).removeClass('swiped-out');\n\n\t\t\t\t$el.stop().animate({\n\t\t\t\t\twidth: $el.width() - width\n\t\t\t\t}, 0, function () {\n\t\t\t\t\t$scope.isSwiped = true;\n\t\t\t\t\tif (typeof cb === 'function') {\n\t\t\t\t\t\tcb.call(null);\n\t\t\t\t\t}\n\t\t\t\t}).addClass('swiped-out');\n\t\t\t};\n\n\t\t\tvar swipeRight = function swipeRight($el, cb) {\n\t\t\t\tvar $scope = this;\n\t\t\t\t$el.stop().animate({\n\t\t\t\t\twidth: '100%'\n\t\t\t\t}, 0, function () {\n\t\t\t\t\t$scope.isSwiped = false;\n\t\t\t\t\tif (typeof cb === 'function') {\n\t\t\t\t\t\tcb.call(null);\n\t\t\t\t\t}\n\t\t\t\t}).removeClass('swiped-out');\n\t\t\t};\n\n\t\t\t/*----------------------------------------------------------------*/\n\t\t\t/* Instance\n\t  /*----------------------------------------------------------------*/\n\t\t\tvar linkFn = function linkFn($scope, $element, $attrs, modelCtrl) {\n\t\t\t\tvar actionElWidth;\n\t\t\t\tvar dragedEl = $element.find('.list-view-container');\n\n\t\t\t\t$scope.isSwiped = false;\n\t\t\t\t$scope.bill.opened = false;\n\n\t\t\t\tif ($scope.bill.status === 'HANDLING') {\n\t\t\t\t\t$scope.bill.processing = true;\n\t\t\t\t}\n\n\t\t\t\t$scope.title = $scope.bill.mandate.creditor.name;\n\t\t\t\t$scope.subtitle = $scope.bill.mandate.creditor.reference;\n\t\t\t\t$scope.amount = $scope.bill.amountFiltered;\n\t\t\t\t$scope.date = $scope.bill.scheduledDateFiltered;\n\t\t\t\t$scope.auto = $scope.bill.mandate.directDebit;\n\n\t\t\t\tswitch ($attrs.eBillListItem) {\n\t\t\t\t\tcase 'history':\n\t\t\t\t\t\t$scope.subtitle = $scope.bill.statusReasonInformation ? $scope.bill.status + ' - ' + $scope.bill.statusReasonInformation : $scope.bill.status;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'newbills':\n\t\t\t\t\t\t$scope.subtitle = $scope.bill.mandate.creditor.reference;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\t$scope.onKeyPressed = function ($event) {\n\n\t\t\t\t\tif ($event.keyCode === 13 || $event.which === 32) {\n\t\t\t\t\t\t$scope.onClick($event);\n\t\t\t\t\t\t$event.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t$scope.onClick = function ($event) {\n\t\t\t\t\t$scope.bill.opened = !$scope.bill.opened;\n\t\t\t\t};\n\n\t\t\t\t$scope.onSwipe = function ($event) {\n\n\t\t\t\t\tvar $itemList = $element.find('.list-view-container');\n\t\t\t\t\tactionElWidth = $element.find('.list-view-actions').width();\n\n\t\t\t\t\tif (+actionElWidth <= 0) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ($scope.bill.opened) {\n\t\t\t\t\t\t$scope.bill.opened = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ($scope.isSwiped) {\n\t\t\t\t\t\t$event.srcEvent.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t\t$timeout(function () {\n\t\t\t\t\t\tswitch ($event.direction) {\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\tswipeLeft.call($scope, $itemList, actionElWidth);break; //left\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\tswipeRight.call($scope, $itemList, actionElWidth);break; // right\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 23);\n\t\t\t\t};\n\n\t\t\t\t$scope.$on('$destroy', function () {\n\t\t\t\t\t// Clean up\n\t\t\t\t});\n\n\t\t\t\t$scope.$watch('bill.opened', function (val) {\n\t\t\t\t\tif ($scope.isSwiped || $scope.isSwiped && !!val) {\n\t\t\t\t\t\tswipeRight.call($scope, dragedEl);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$scope.$watch('bill.autoPay', function (val) {\n\t\t\t\t\tactionElWidth = $element.find('.list-view-actions').width();\n\t\t\t\t\t$timeout(function () {\n\t\t\t\t\t\tactionElWidth = $element.find('.list-view-actions').width();\n\t\t\t\t\t\tif ($scope.isSwiped) {\n\t\t\t\t\t\t\t$('.list-view-container.swiped-out').css({ left: -actionElWidth });\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tvar compileFn = function compileFn() {\n\t\t\t\treturn linkFn;\n\t\t\t};\n\t\t\treturn {\n\t\t\t\trestrict: 'EA',\n\t\t\t\trequire: '?ngModel',\n\t\t\t\tpriority: Number.MAX_VALUE,\n\t\t\t\ttransclude: true,\n\t\t\t\tcompile: compileFn,\n\t\t\t\ttemplate: TPL,\n\t\t\t\tscope: {\n\t\t\t\t\tbill: '=ngModel'\n\t\t\t\t}\n\t\t\t};\n\t\t}];\n\n\t\t/**\n\t  * Ebilling Amount input Directive\n\t  * @param  {[type]} $timeout [description]\n\t  * @return {[type]}          [description]\n\t  */\n\t\tdirectives.eBillAmountInput = ['$timeout', function ($timeout) {\n\t\t\tvar TPL = ['<div class=\"input-group clearfix\">', '<span class=\"input-group-addon\" ng-bind=\"currencySym\" ng-if=\"currencySym\"></span>', '<input name=\"noDecimal\"  placeholder=\"0\" lp-number-input lp-max-length=\"6\" min=\"0\" maxlength=\"6\" max=\"999999\" class=\"form-control whole-amount-input pull-left text-right\" type=\"number\" ng-model=\"noDecimal\"/>', '<div class=\"pull-left decimal\"><span class=\"decimal-point\">.</span></div>', '<input name=\"decimal\" lp-number-input type=\"number\" ng-model=\"decimal\" placeholder=\"0\" lp-max-length=\"2\" min=\"0\" maxlength=\"2\" max=\"99\" class=\"text-right form-control pull-left decimal-amount-input\" /> ', '</div>'].join('');\n\n\t\t\tvar linkFn = function linkFnBillAmountInput(scope, $element, $attrs, modelCtrl) {\n\n\t\t\t\tvar config = scope.config || {};\n\t\t\t\tscope.currencySym = config.currencySym || '';\n\n\t\t\t\tscope.decimal = 0;\n\t\t\t\tscope.noDecimal = 0;\n\n\t\t\t\t$element.one('click', 'input', function () {\n\t\t\t\t\tthis.value = '';\n\t\t\t\t});\n\n\t\t\t\t$element.on('keypress', 'input[name=noDecimal]', function () {\n\t\t\t\t\tif (parseInt(this.value, 10) !== 0) {\n\t\t\t\t\t\treturn 'valid_value';\n\t\t\t\t\t}\n\t\t\t\t\tthis.value = '';\n\t\t\t\t});\n\n\t\t\t\tfunction pad(n, width, z) {\n\t\t\t\t\tz = z || '0';\n\t\t\t\t\tn = n + '';\n\t\t\t\t\treturn n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;\n\t\t\t\t}\n\n\t\t\t\tfunction combineDecimals() {\n\t\t\t\t\tvar decimal = pad(parseInt(scope.decimal, 10) || 0, 2);\n\t\t\t\t\tvar noDecimal = parseInt(scope.noDecimal, 10) || 0;\n\t\t\t\t\treturn parseFloat(noDecimal + '.' + decimal).toFixed(2);\n\t\t\t\t}\n\n\t\t\t\t$element.find('input').on('input', function () {\n\t\t\t\t\tvar maxLength = this.maxLength;\n\t\t\t\t\tif (this.value.length > maxLength) {\n\t\t\t\t\t\tthis.value = this.value.substr(0, maxLength);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tscope.$watch('noDecimal+decimal', function () {\n\t\t\t\t\tvar newValue = combineDecimals();\n\t\t\t\t\tscope.amount = parseFloat(newValue);\n\t\t\t\t\tmodelCtrl.$setViewValue(scope.amount);\n\t\t\t\t});\n\n\t\t\t\tscope.$on('$destroy', function () {\n\t\t\t\t\t// Destroy\n\t\t\t\t});\n\t\t\t};\n\t\t\treturn {\n\t\t\t\trestrict: 'EA',\n\t\t\t\trequire: '?ngModel',\n\t\t\t\tpriority: Number.MAX_VALUE,\n\t\t\t\ttransclude: true,\n\t\t\t\tlink: linkFn,\n\t\t\t\ttemplate: TPL,\n\t\t\t\tscope: {\n\t\t\t\t\tamount: '=ngModel',\n\t\t\t\t\tconfig: '=eBillAmountInput'\n\t\t\t\t}\n\t\t\t};\n\t\t}];\n\n\t\t/*----------------------------------------------------------------*/\n\t\t/* Exports\n\t /*----------------------------------------------------------------*/\n\t\texports.directives = directives;\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\n\t    'use strict';\n\n\t    var angular = __webpack_require__(3).ng;\n\n\t    /*----------------------------------------------------------------*/\n\t    /* Utilities\n\t    /*----------------------------------------------------------------*/\n\t    // @ngInject\n\t    exports.lpEbillingUtils = function (lpCoreUtils, $filter, $log) {\n\n\t        this.noop = angular.noop;\n\t        this.extend = angular.extend;\n\t        this.bind = angular.bind;\n\t        this.copy = angular.copy;\n\t        this.isObject = angular.isObject;\n\t        this.isFunction = angular.isFunction;\n\t        this.isUndefined = angular.isUndefined;\n\t        this.isTouch = 'ontouchstart' in window;\n\t        this.keys = Object.keys;\n\n\t        /**\n\t         * [resolvePreference description]\n\t         * @param  {[type]} value  [description]\n\t         * @param  {[type]} params [description]\n\t         * @return {[type]}        [description]\n\t         */\n\t        this.resolvePreference = function (value, params) {\n\t            return lpCoreUtils.resolvePortalPlaceholders(value);\n\t        };\n\n\t        /**\n\t         * [widgetStaticPath description]\n\t         * @param  {[type]} widgetSrc [description]\n\t         * @return {[type]}           [description]\n\t         */\n\t        this.widgetStaticPath = function (widgetSrc) {\n\t            var parts = widgetSrc.toString().split('/');\n\t            parts.pop();\n\t            var base = parts.join('/');\n\t            base = this.resolvePreference(base);\n\t            return base;\n\t        };\n\n\t        /**\n\t         * [isBoolean description]\n\t         * @param  {[type]}  obj [description]\n\t         * @return {Boolean}     [description]\n\t         */\n\t        this.isBoolean = function (obj) {\n\t            return obj === true || obj === false || Object.prototype.toString.call(obj) === '[object Boolean]';\n\t        };\n\n\t        /**\n\t         * [filter description]\n\t         * @param  {[type]} predicate [description]\n\t         * @param  {[type]} whereObj  [description]\n\t         * @return {[type]}           [description]\n\t         */\n\t        this.filter = function (predicate, whereObj) {\n\t            if (lpCoreUtils.isEmpty(whereObj)) {\n\t                throw new Error('Specify an object criteria');\n\t            }\n\t            var k = this.keys(whereObj)[0];\n\t            return predicate.filter(function (i) {\n\t                var cond = false;\n\t                if (i.hasOwnProperty(k)) {\n\t                    cond = i[k] === whereObj[k];\n\t                }\n\t                return cond;\n\t            })[0];\n\t        };\n\n\t        /**\n\t         * [findIndex description]\n\t         * @param  {[type]} predicate [description]\n\t         * @param  {[type]} whereObj  [description]\n\t         * @return {[type]}           [description]\n\t         */\n\t        this.findIndex = function (predicate, whereObj) {\n\t            var item = this.filter(predicate, whereObj);\n\t            return predicate.indexOf(item);\n\t        };\n\n\t        /**\n\t         * [sortBy description]\n\t         * @param  {[type]} data      [description]\n\t         * @param  {[type]} attribute [description]\n\t         * @return {[type]}           [description]\n\t         */\n\t        this.sortBy = function (data, attribute, desc) {\n\t            data.sort(function (a, b) {\n\t                if (a[attribute] <= b[attribute]) {\n\t                    return desc ? 1 : -1;\n\t                }\n\t                return 1;\n\t            });\n\t        };\n\t        /**\n\t         * [checkDueDate description]\n\t         * @param  {[type]} when [description]\n\t         * @param  {[type]} d    [description]\n\t         * @return {[type]}      [description]\n\t         */\n\t        this.checkDueDate = function (when, d) {\n\t            var date = lpCoreUtils.date;\n\n\t            if (typeof d !== 'undefined') {\n\t                if (when === 'isToday') {\n\t                    return date().isSame(date(d), 'day');\n\t                    // return  today.equals(d);\n\t                } else if (when === 'isTomorrow') {\n\t                        return date().add(1, 'day').isSame(date(d), 'day');\n\t                        // return d.equals(tomorrow);\n\t                    } else if (when === 'isYesterday') {\n\t                            return date().subtract(1, 'day').isSame(date(d), 'day');\n\t                            // return d.equals(yesterday);\n\t                        } else if (when === 'isPast') {\n\t                                return date().isAfter(date(d), 'day');\n\t                                // return today.isAfter(d);\n\t                            }\n\n\t                return d;\n\t            }\n\n\t            return null;\n\t        };\n\t        /**\n\t         * [dueDateIndicator description]\n\t         * @param  {[type]} d [description]\n\t         * @return {[type]}   [description]\n\t         */\n\t        this.dueDateIndicator = function (d) {\n\t            if (this.checkDueDate('isToday', d)) {\n\t                return '(today)';\n\t            }\n\t            if (this.checkDueDate('isTomorrow', d)) {\n\t                return '(tommorow)';\n\t            }\n\t            if (this.checkDueDate('isYesterday', d)) {\n\t                return '(yesterday)';\n\t            }\n\t            return '';\n\t        };\n\n\t        /**\n\t         * [groupBy description]\n\t         * @param  {[type]} attribute [description]\n\t         * @return {[type]}           [description]\n\t         */\n\t        // #TODO make it more customizable\n\t        this.groupBy = function (data, groupBy, groupLabelPrefix, groupLabelSuffix, sortOrder) {\n\n\t            var groupValue = '';\n\t            var group;\n\t            var groups = [];\n\t            var groupLabel = '';\n\t            groupLabelPrefix = groupLabelPrefix || '';\n\t            groupLabelSuffix = groupLabelSuffix || '';\n\t            var supportedGroups = ['dueDate', 'amount', 'modifiedDate'];\n\n\t            if (!data instanceof Array || data.length <= 0) {\n\t                // empty\n\t                return groups;\n\t            }\n\t            if (supportedGroups.indexOf(groupBy) <= -1) {\n\t                throw new Error('Unsupported groupby attribute');\n\t            }\n\n\t            this.sortBy(data, groupBy, sortOrder);\n\n\t            data.forEach(function (item) {\n\t                switch (groupBy) {\n\t                    case 'amount':\n\t                        groupLabel = $filter('eBillCurrency')(item[groupBy], item.currencySym);\n\t                        break;\n\t                    case 'dueDate':\n\t                    case 'modifiedDate':\n\t                        groupLabelPrefix = groupLabelPrefix;\n\t                        var dueDate = item[groupBy];\n\t                        groupLabel = dueDate && $filter('date')(dueDate, 'MMM dd').toString().toLowerCase();\n\t                        var labelSuffix = this.checkDueDate('isPast', dueDate) ? groupLabelSuffix : this.dueDateIndicator(dueDate);\n\t                }\n\t                if (groupLabel !== groupValue) {\n\t                    group = {\n\t                        label: [groupLabelPrefix, groupLabel, labelSuffix].join(' '),\n\t                        bills: []\n\t                    };\n\t                    groupValue = groupLabel;\n\t                    groups.push(group);\n\t                }\n\t                if (group && group.bills instanceof Array) {\n\t                    group.bills.push(item);\n\t                }\n\t            }.bind(this));\n\t            return groups;\n\t        };\n\n\t        /**\n\t         * [error description]\n\t         * @param  {[type]} err [description]\n\t         * @return {[type]}     [description]\n\t         */\n\t        this.error = function (err) {\n\t            // TODO Error management\n\t            throw new Error(err);\n\t        };\n\n\t        /**\n\t         * [log description]\n\t         * @return {[type]} [description]\n\t         */\n\t        this.log = function () {\n\t            if (location.hostname.toLowerCase() !== 'localhost') {\n\t                return;\n\t            }\n\t            var arg = [].slice.call(arguments, 0);\n\t            if (this.isFunction($log.log)) {\n\t                $log.log.apply($log.log, arg);\n\t            }\n\t        };\n\n\t        /**\n\t         * [info description]\n\t         * @return {[type]} [description]\n\t         */\n\t        this.info = function () {\n\t            if (location.hostname.toLowerCase() !== 'localhost') {\n\t                return;\n\t            }\n\t            var arg = [].slice.call(arguments, 0);\n\t            if (this.isFunction($log.info)) {\n\t                $log.info.apply($log.info, arg);\n\t            }\n\t        };\n\t    };\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\n\t    'use strict';\n\n\t    // base utilities\n\n\t    var utils = __webpack_require__(3).utils;\n\t    // default configuration\n\t    var defaults = {\n\t        url: '/v1/bill-payments'\n\t    };\n\t    var normalize = __webpack_require__(21);\n\n\t    /*----------------------------------------------------------------*/\n\t    /* Private Functions\n\t    /*----------------------------------------------------------------*/\n\t    function parse(res) {\n\t        return res.data;\n\t    }\n\n\t    /**\n\t     * @ngInject\n\t     * @constructor\n\t     */\n\t    var EBillService = function EBillService($http, lpCoreError) {\n\t        this.http = $http;\n\t    };\n\n\t    var api = {\n\n\t        /**\n\t         * Setup new E-Bills\n\t         */\n\t        setup: function setup(payee) {\n\t            return this.http.post(this.config.url + '/e-bills', payee).then(parse).then(normalize);\n\t        },\n\n\t        /**\n\t         * Stop E-Bills\n\t         */\n\t        stop: function stop(payeeId) {\n\t            return this.http.delete(this.config.url + '/e-bills' + '/' + payeeId).then(parse).then(normalize);\n\t        },\n\n\t        /**\n\t         * Check status of E-Bill setup\n\t         */\n\t        checkStatus: function checkStatus(eBillInfo) {\n\t            return this.http.get(this.config.url + '/e-bills/status', { params: { sessionId: eBillInfo.sessionId } }).then(parse).then(normalize);\n\t        },\n\n\t        /**\n\t         * Sent information requested for E-Bill setup\n\t         */\n\t        performAction: function performAction(eBillInfo) {\n\t            return this.http.post(this.config.url + eBillInfo.nextAction.url, eBillInfo).then(parse).then(normalize);\n\t        },\n\n\t        /**\n\t         * Check what information is necessary to resolve E-Bill errors\n\t         */\n\t        checkErrors: function checkErrors(payeeId) {\n\t            return this.http.get(this.config.url + '/e-bills/errors', { params: { payeeId: payeeId } }).then(parse).then(normalize);\n\t        },\n\n\t        setConfig: function setConfig(options) {\n\t            this.config = utils.chain(options).mapValues(utils.resolvePortalPlaceholders).defaults(defaults).value();\n\t            return this;\n\t        },\n\n\t        getConfig: function getConfig(prop, defVal) {\n\t            if (prop && utils.isString(prop)) {\n\t                return this.config[prop] || defVal;\n\t            } else {\n\t                return this.config;\n\t            }\n\t        }\n\t    };\n\n\t    /**\n\t     * mixing public api methods\n\t     */\n\t    utils.assign(EBillService.prototype, api);\n\n\t    // export service\n\t    exports.lpEBillService = EBillService;\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\t    'use strict';\n\n\t    module.exports = function (data) {\n\t        if (!data) {\n\t            return {};\n\t        }\n\n\t        // Response returns bool as string, remove once BE fixed\n\t        data.furtherActionNeeded = data.furtherActionNeeded === 'true';\n\n\t        if (!data.furtherActionNeeded) {\n\t            return data;\n\t        } // Setup finished\n\n\t        if (!data.nextAction) {\n\t            // Response not ready, keep checking\n\t            data.checkStatus = true;\n\t            return data;\n\t        }\n\n\t        if (data.nextAction.credentialsParams) {\n\t            data.credentialsParams = data.nextAction.credentialsParams;\n\t            data.credentialsParams.forEach(function (entry) {\n\t                entry.inputFieldType = entry.masked ? 'PASSWORD' : 'TEXT';\n\t            });\n\t        }\n\t        return data;\n\t    };\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\n\t    'use strict';\n\n\t    // base utilities\n\n\t    var _ = __webpack_require__(3).utils;\n\n\t    /**\n\t     * @ngInject\n\t     * @constructor\n\t     */\n\t    var EBillPayService = function EBillPayService(lpCoreUtils) {\n\t        function EBillPayModel() {\n\t            var model = this;\n\n\t            model.endOptionsEnum = {\n\t                AFTER: 'after',\n\t                ON_DATE: 'onDate',\n\t                CANCEL: 'onCancel'\n\t            };\n\t            model.endOptions = [{ id: model.endOptionsEnum.AFTER }, { id: model.endOptionsEnum.CANCEL }, { id: model.endOptionsEnum.ON_DATE }];\n\t            model.frequencies = [{\n\t                id: 'OneTime',\n\t                schedule: null\n\t            }, {\n\t                id: 'Weekly',\n\t                schedule: {\n\t                    transferFrequency: 'WEEKLY',\n\t                    every: 1\n\t                }\n\t            }, {\n\t                id: 'EveryTwoWeeks',\n\t                schedule: {\n\t                    transferFrequency: 'WEEKLY',\n\t                    every: 2\n\t                }\n\t            }, {\n\t                id: 'EveryFourWeeks',\n\t                schedule: {\n\t                    transferFrequency: 'WEEKLY',\n\t                    every: 4\n\t                }\n\t            }, {\n\t                id: 'Monthly',\n\t                schedule: {\n\t                    transferFrequency: 'MONTHLY',\n\t                    every: 1\n\t                }\n\t            }, {\n\t                id: 'EveryTwoMonths',\n\t                schedule: {\n\t                    transferFrequency: 'MONTHLY',\n\t                    every: 2\n\t                }\n\t            }, {\n\t                id: 'Quarterly',\n\t                schedule: {\n\t                    transferFrequency: 'MONTHLY',\n\t                    every: 3\n\t                }\n\t            }, {\n\t                id: 'EveryFourMonths',\n\t                schedule: {\n\t                    transferFrequency: 'MONTHLY',\n\t                    every: 4\n\t                }\n\t            }, {\n\t                id: 'BiAnnual',\n\t                schedule: {\n\t                    transferFrequency: 'MONTHLY',\n\t                    every: 6\n\t                }\n\t            }, {\n\t                id: 'Annually',\n\t                schedule: {\n\t                    transferFrequency: 'YEARLY',\n\t                    every: 1\n\t                }\n\t            }];\n\n\t            var formatDate = function formatDate(date) {\n\t                return lpCoreUtils.date(date).format('YYYY-MM-DD');\n\t            };\n\n\t            var getScheduleFromFrequency = function getScheduleFromFrequency(frequencyId) {\n\t                return _(model.frequencies).find({ id: frequencyId }).schedule;\n\t            };\n\n\t            var transformSchedule = function transformSchedule(scheduledTransfer) {\n\t                var schedule = {\n\t                    startDate: formatDate(scheduledTransfer.startDate),\n\t                    on: 0\n\t                };\n\t                _.assign(schedule, getScheduleFromFrequency(scheduledTransfer.frequency));\n\t                if (scheduledTransfer.endOn === model.endOptionsEnum.AFTER) {\n\t                    schedule.repeat = scheduledTransfer.timesToRepeat;\n\t                } else if (scheduledTransfer.endOn === model.endOptionsEnum.ON_DATE) {\n\t                    schedule.endDate = formatDate(scheduledTransfer.endDate);\n\t                }\n\t                return schedule;\n\t            };\n\n\t            model.transformPayment = function (payee, payment) {\n\t                var pay = {\n\t                    instructedAmount: payment.amount,\n\t                    instructedCurrency: 'USD',\n\t                    debitAccount: {\n\t                        id: payment.account.identifier || payment.account.id,\n\t                        source: 'PRTYINTERNAL'\n\t                    },\n\t                    creditAccount: {\n\t                        id: payee.payeeId,\n\t                        source: 'EBILL'\n\t                    },\n\t                    additionalInfo: {\n\t                        memo: payment.memo\n\t                    }\n\t                };\n\t                var isOneTimeRecurringTransfer = payment.isScheduledTransfer && payment.scheduledTransfer && payment.scheduledTransfer.frequency === 'OneTime';\n\t                if (payment.isScheduledTransfer && !isOneTimeRecurringTransfer) {\n\t                    pay.paymentMode = 'RECURRING';\n\t                    pay.schedule = transformSchedule(payment.scheduledTransfer);\n\t                } else {\n\t                    pay.paymentMode = 'SINGLE';\n\t                    var executionDate = isOneTimeRecurringTransfer ? payment.scheduledTransfer.startDate : payment.scheduleDate;\n\t                    pay.executionDateTime = formatDate(executionDate);\n\t                    pay.urgentTransfer = payment.urgentTransfer;\n\t                }\n\t                return pay;\n\t            };\n\n\t            model.createPaymentTemplate = function () {\n\t                return {\n\t                    amount: 0,\n\t                    scheduleDate: new Date(),\n\t                    currencySym: '$', // TODO: Remove hardcoded currency\n\t                    isScheduledTransfer: false,\n\t                    scheduledTransfer: {\n\t                        startDate: new Date(),\n\t                        intervals: [],\n\t                        timesToRepeat: 1\n\t                    },\n\t                    memo: ''\n\t                };\n\t            };\n\t        }\n\n\t        this.getModel = function () {\n\t            return new EBillPayModel();\n\t        };\n\t    };\n\n\t    // export service\n\t    exports.lpEBillPayService = EBillPayService;\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** scripts/main.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 9673132e17f316158e64\n **/","define(function(require, exports, module) {\n\n    'use strict';\n\n    module.name = 'module-ebilling';\n\n    var base = require('base');\n    var core = require('core');\n    var ui = require('ui');\n\n    var accounts = require('module-accounts');\n    var payments = require('module-payments');\n    var moduleEnrollment = require('module-enrollment');\n    var newPaymentBox = require('./components/new-payment-box/scripts/main');\n    var eBillSetup = require('./components/ebill-setup/scripts/main');\n\n\n    // Module name\n    var deps = [\n        ui.name,\n        core.name,\n        accounts.name,\n        payments.name,\n        moduleEnrollment.name,\n        newPaymentBox.name,\n        eBillSetup.name\n    ];\n\n    module.exports = base.createModule(module.name, deps)\n        .provider( require('./provider') )\n        .service( require('./models').services )\n        .factory( require('./models').factories )\n        .filter( require('./filters') )\n        .directive( require('./views').directives )\n        .service( require('./utils') )\n        .service( require('./services/ebill-service'))\n        .service( require('./services/ebill-pay-service'));\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/main.js\n **/","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/module.js\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"base\"\n ** module id = 3\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"core\"\n ** module id = 4\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"ui\"\n ** module id = 5\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"module-accounts\"\n ** module id = 6\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"module-payments\"\n ** module id = 7\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"module-enrollment\"\n ** module id = 8\n ** module chunks = 0\n **/","define(function(require, exports, module) {\n    'use strict';\n\n    module.name = 'new-payment-box';\n\n    var base = require('base');\n    var core = require('core');\n    var ui = require('ui');\n\n    var deps = [\n        core.name,\n        ui.name\n    ];\n\n    module.exports = base.createModule(module.name, deps)\n        .directive(require('./lp-new-payment-box'))\n        .directive(require('./lp-onetime-transfer'))\n        .directive(require('./lp-payment-date-box'));\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/components/new-payment-box/scripts/main.js\n **/","/*eslint space-infix-ops:0*/\n\ndefine(function(require, exports, module) {\n\n    'use strict';\n\n    var paymentBoxTemplate =\n        '<form class=\"lp-new-payment-box\">' +\n            '<div class=\"form-group lp-new-payment-balances\" ng-if=\"eBill\">' +\n                '<div class=\"clearfix\" ng-if=\"eBill.outstandingBalance\">' +\n                    '<div class=\"col-xs-5 col-md-5\">' +\n                        '<div lp-custom-radio=\"\" name=\"eBillAmount\" ng-click=\"specificAmount.display = false\" ' +\n                                'ng-model=\"paymentOrder.amount\" value=\"{{ eBill.outstandingBalance }}\">' +\n                                '<span lp-i18n=\"Statement Balance\"></span>' +\n                        '</div>' +\n                    '</div>' +\n                     '<div class=\"col-xs-7 col-md-7 text-right\">' +\n                        '<span class=\"radio h5\" lp-amount=\"eBill.outstandingBalance\" lp-amount-currency=\"paymentOrder.currencySym\"></span>'+\n                    '</div>' +\n                '</div>' +\n\n                '<div class=\"clearfix\" ng-if=\"eBill.amountDue\">' +\n                    '<div class=\"col-xs-5 col-md-5\">' +\n                        '<div lp-custom-radio=\"\" name=\"eBillAmount\" ng-click=\"specificAmount.display = false\" ' +\n                                'ng-model=\"paymentOrder.amount\" value=\"{{ eBill.amountDue }}\">' +\n                            '<span lp-i18n=\"Minimum Amount\"></span>' +\n                        '</div>' +\n                    '</div>' +\n                    '<div class=\"col-xs-7 col-md-7 text-right\">' +\n                        '<span class=\"radio h5\" lp-amount=\"eBill.amountDue\" lp-amount-currency=\"paymentOrder.currencySym\"></span>'+\n                    '</div>' +\n                '</div>' +\n\n                '<div class=\"form-group clearfix\">' +\n                    '<div class=\"col-xs-5 col-md-5\">' +\n                        '<div lp-custom-radio=\"\" name=\"eBillAmount\" ng-click=\"specificAmount.display = true\" ng-model=\"paymentOrder.amount\" ng-value=\"specificAmount.amount\">' +\n                            '<span lp-i18n=\"Specified Amount\"></span>' +\n                        '</div>' +\n                    '</div>' +\n                    '<div class=\"col-xs-7 col-md-7 lp-currency-amount-input\" ng-show=\"specificAmount.display\"\">' +\n                        '<div class=\"amount-area\" name=\"amount\" ng-model=\"specificAmount.amount\" ' +\n                           ' e-bill-amount-input=\"{currencySym: paymentOrder.currencySym }\"></div>' +\n                    '</div>' +\n                '</div>' +\n            '</div>' +\n\n            '<div class=\"form-group clearfix\" ng-if=\"!eBill\">' +\n                '<div class=\"lp-st-section clearfix\">' +\n                    '<div class=\"pull-left lp-st-caption\" lp-i18n=\"Amount to pay\"></div>' +\n                    '<div class=\"pull-left lp-st-control lp-currency-amount-input\">' +\n                         '<div class=\"amount-area\" name=\"amount\" ng-model=\"paymentOrder.amount\" ' +\n                               ' e-bill-amount-input=\"{currencySym: paymentOrder.currencySym}\" required=\"required\">' +\n                        '</div>' +\n                    '</div>' +\n                '</div>' +\n            '</div>' +\n\n            '<div class=\"form-group clearfix\">' +\n               '<div class=\"lp-st-section clearfix\">' +\n                   '<div class=\"pull-left lp-st-caption\" lp-i18n=\"Pay with\"></div>' +\n                    '<div class=\"col-xs-12 col-sm-12\">' +\n                        '<div name=\"accountId\" class=\"lp-accounts-header\" ng-change=\"\"' +\n                            'lp-accounts-select=\"lp-accounts-select\"' +\n                            'ng-model=\"paymentOrder.account\"' +\n                            'lp-accounts=\"accounts\" required=\"required\">' +\n                        '</div>' +\n                    '</div>' +\n               '</div>' +\n            '</div>' +\n\n            '<div lp-payment-date-box ' +\n                'payment-order=\"paymentOrder\" ' +\n                'show-urgent-transfer=\"showUrgentTransfer()\"' +\n                'scheduled-transfer-frequencies=\"scheduledTransferFrequencies\"' +\n                'scheduled-transfer-end-options=\"scheduledTransferEndOptions\">' +\n            '</div>' +\n\n            '<div class=\"memo\">' +\n                '<textarea aria-label=\"payment description\" class=\"form-control memo-area\"' +\n                    'placeholder=\"Description (optional) Maximum number of characters is 140\"' +\n                    'maxlength=\"140\"' +\n                    'ng-model=\"paymentOrder.memo\">' +\n                '</textarea>' +\n            '</div>' +\n        '</form>';\n\n    // @ngInject\n    exports.lpNewPaymentBox = function($timeout) {\n        var link = function(scope, element, attrs) {\n            // Amount entered by the user\n            scope.specificAmount = {};\n\n            // Initialzes amount selection\n            $timeout(function() {\n                if (!scope.paymentOrder.amount && scope.eBill) {\n                    scope.paymentOrder.amount = scope.eBill.amountDue;\n                }\n            });\n\n            // Update the payment order model when user put custom amount\n            scope.$watch('specificAmount.amount', function(value) {\n                scope.paymentOrder.amount = value;\n            });\n        };\n\n        return {\n            restrict: 'A',\n            scope: {\n                paymentOrder: '=payment',\n                accounts: '=accounts',\n                eBill: '=?', // e.g. { amountDue: 98.65, outstandingBalance: 986.5, dueDate: \"2015-03-31\" } */\n                showUrgentTransfer: '&',\n                scheduledTransferFrequencies: '=?',\n                scheduledTransferEndOptions: '=?'\n            },\n            replace: true,\n            link: link,\n            template: paymentBoxTemplate\n        };\n    };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/components/new-payment-box/scripts/lp-new-payment-box.js\n **/","define(function(require, exports, module) {\n\n    'use strict';\n\n    var onetimeTransferTemplate =\n        '<div class=\"lp-onetime-transfer\">' +\n            '<div modal-dialog=\"\" show=\"urgentTransferModalShown\" closable=\"false\">' +\n                '<div class=\"modal-header\">' +\n                    '<h2><i class=\"lp-icon lp-icon-xxl lp-icon-info-sign\"></i> <span lp-i18n=\"Urgent Transfer\"></span></h2>' +\n                '</div>' +\n                '<div class=\"modal-body\" lp-i18n=\"If you need to send money fast and cannot wait for the usual bank time of approx. 1-2 days then Urgent Transfer allows you to pass the money across in a 5 minute window instead. However, it does come with a 5$ charge and this will appear as a separate transaction in your activity view.\">' +\n                '</div>' +\n                '<div class=\"modal-footer\">' +\n                    '<button type=\"button\" class=\"btn btn-primary\" ng-click=\"toggleUrgentTransferModal()\" lp-i18n=\"Close\"></button>' +\n                '</div>' +\n            '</div>' +\n            '<div class=\"one-time clearfix\">' +\n\n                '<div class=\"lp-st-section clearfix\">' +\n                    '<div class=\"pull-left lp-st-caption\" lp-i18n=\"Sending date\"></div>' +\n                    '<div class=\"pull-left lp-st-control calendar\">' +\n                        '<input ng-click=\"isOpenDate = !isOpenDate\" required=\"required\" type=\"text\" name=\"scheduleDate\"' +\n                            'ng-model=\"paymentOrder.scheduleDate\" datepicker-popup=\"dd-MMM-yyyy\"' +\n                            'min-date=\"todaysDate\" is-open=\"isOpenDate\" class=\"form-control\" lp-future-time=\"\"' +\n                            'datepicker-options=\"dateOptions\" show-button-bar=\"false\" tabindex=\"0\" placeholder=\"select date\"' +\n                            'aria-label=\"select date\" />' +\n                        '<span ng-click=\"isOpenDate = !isOpenDate\" class=\"lp-icon lp-icon-calendar calendar-icon\"></span>' +\n                    '</div>' +\n                '</div>' +\n\n                '<div if=\"estimatedDeliveryDate\" class=\"lp-st-section clearfix\">' +\n                    '<div class=\"pull-left lp-st-caption\" lp-i18n=\"Delivery date\"></div>' +\n                    '<div class=\"pull-left lp-st-caption\">' +\n                        '<div>{{estimatedDeliveryDate}}</div>' +\n                    '</div>' +\n                '</div>' +\n            '</div>' +\n\n            '<div class=\"urgent-transfer\" ng-show=\"showUrgentTransfer()\">' +\n                '<div lp-custom-checkbox=\"\" aria-label=\"{{ \\'urgent transfer\\' | translate }}\" ng-model=\"paymentOrder.urgentTransfer\">' +\n                    '<span lp-i18n=\"Make transfer urgent\"></span>' +\n                '</div>' +\n            '</div>' +\n            '<p ng-show=\"paymentOrder.urgentTransfer\" class=\"urgent-transfer-message\"><span lp-i18n=\"Making an urgent transfer will incur an extra cost. This will appear on your transactions as a separate transaction.\"></span></p>' +\n        '</div>';\n\n    exports.lpOnetimeTransfer = function() {\n        var link = function(scope, element, attrs) {\n\n        };\n\n        return {\n            restrict: 'A',\n            scope: {\n                paymentOrder: '=',\n                estimatedDeliveryDate: '=?',\n                showUrgentTransfer: '&'\n            },\n            link: link,\n            replace: true,\n            template: onetimeTransferTemplate\n        };\n    };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/components/new-payment-box/scripts/lp-onetime-transfer.js\n **/","define(function(require, exports, module) {\n    'use strict';\n\n    var paymentDateBoxTemplate =\n        '<form name=\"PaymentDateBoxForm\" class=\"lp-payment-date-box\">' +\n            '<div class=\"e-bill-info-wrapper\">' +\n                '<ul tabset=\"tabset\" class=\"tabset\">' +\n                    '<li tab=\"tab\" select=\"onetimeTransfer()\">' +\n                        '<span tab-heading=\"tab-heading\" class=\"tab-heading\" lp-i18n=\"One Time\"></span>' +\n                        '<div lp-onetime-transfer payment-order=\"paymentOrder\" ' +\n                            'estimated-delivery-date=\"paymentOrder.estDeliveryDate\" ' +\n                            'show-urgent-transfer=\"showUrgentTransfer()\">' +\n                        '</div>' +\n                    '</li>' +\n                    '<li tab=\"tab\" select=\"scheduledTransfer()\">' +\n                        '<span tab-heading=\"tab-heading\" class=\"tab-heading\" lp-i18n=\"Recurring\"></span>' +\n                        '<div lp-scheduled-transfer=\"lp-scheduled-transfer\" ng-model=\"paymentOrder.scheduledTransfer\" frequencies=\"frequencies\" end-options=\"endOptions\">' +\n                        '</div>' +\n                    '</li>' +\n                '</ul>' +\n            '</div>' +\n        '</form>';\n\n    exports.lpPaymentDateBox = function() {\n        var link = function(scope, element, attrs) {\n\n            scope.onetimeTransfer = function() {\n                scope.paymentOrder.isScheduledTransfer = false;\n            };\n\n            scope.scheduledTransfer = function() {\n                scope.paymentOrder.isScheduledTransfer = true;\n            };\n\n        };\n        return {\n            restrict: 'A',\n            replace: true,\n            scope: {\n                paymentOrder: '=',\n                showUrgentTransfer: '&?',\n                frequencies: '=?scheduledTransferFrequencies',\n                endOptions: '=?scheduledTransferEndOptions'\n            },\n            template: paymentDateBoxTemplate,\n            link: link\n        };\n    };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/components/new-payment-box/scripts/lp-payment-date-box.js\n **/","define(function(require, exports, module) {\n    'use strict';\n\n    module.name = 'ebill-setup';\n\n    var base = require('base');\n    var core = require('core');\n    var ui = require('ui');\n\n    var deps = [\n        core.name,\n        ui.name\n    ];\n\n    module.exports = base.createModule(module.name, deps)\n        .directive(require('./lp-ebill-setup-view'));\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/components/ebill-setup/scripts/main.js\n **/","define(function(require, exports, module) {\n    'use strict';\n\n    var utils = require('base').utils;\n\n    /**\n     * Directive to display E-Bill setup view for Payee.\n     *\n     * @param payee - Payee for with E-Bills should be setuped\n     * @param callback - Callback function, called when ebill setup is finished or cancelled\n     * @param logErrors - If specified error messages will be mapped to this object,\n     *                    otherwise directive will display errors itself.\n     * @ngInject\n     */\n    exports.lpEbillSetupView = function($timeout, lpCoreTemplate, lpEBillService, lpCoreUtils) {\n\n        var TPL_ALERTS =\n            '<div class=\"lp-alerts\" tabindex=\"-1\">' +\n            '  <div class=\"alert alert-danger\" ng-if=\"errors\">' +\n            '    <p ng-repeat=\"error in errors\">' +\n            '      <i class=\"lp-icon lp-icon-alert-error\"></i><span lp-i18n=\"{{error.code}}\"></span>' +\n            '    </p>' +\n            '  </div>' +\n            '</div>';\n\n        var TPL_SITE =\n            '<div class=\"panel-heading panel-title clearfix\">' +\n            '  <strong lp-i18n=\"Select Billers Site\"></strong>' +\n            '</div>' +\n            '<p lp-i18n=\"EBillsMultipleSitesFoundInstructions\" translate-values=\"{ billerName: payee.name }\"></p>' +\n            '<div class=\"panel-body\">' +\n            '  <p lp-i18n=\"Select site\"></p>' +\n            '  <div lp-field=\"lp-field\"' +\n            '    label=\"{{ \\'Select biller site\\' | translate }}\"' +\n            '    aria-label=\"{{ \\'Select biller sites\\' | translate }}\">' +\n            '    <div dropdown-select=\"dropdown-select\"' +\n            '      ng-model=\"payee.ebills.billerSite\"' +\n            '      ng-options=\"site as site.name for site in payee.ebills.nextAction.billerSites\">' +\n            '    </div>' +\n            '  </div>' +\n            '</div>';\n\n        var TPL_LOGIN =\n            '<div class=\"e-bill-setup-login\">' +\n            '   <div class=\"row header\">' +\n            '       <h3 class=\"col-ss-12 col-xs-12 col-sm-12 col-md-12 col-lg-12\" lp-i18n=\"EBillsLoginTo\" translate-values=\"{ billerName: payee.name }\"></h3>' +\n            '   </div>' +\n            '   <div class=\"row instructions\">' +\n            '       <div class=\"col-ss-12 col-xs-12 col-sm-12 col-md-6 col-lg-6\" lp-i18n=\"EBillsLoginInstructions\" translate-values=\"{ billerName: payee.name }\"></div>' +\n            '   </div>' +\n            '   <div class=\"row\">' +\n            '       <div class=\"col-ss-12 col-xs-12 col-sm-12 col-md-6 col-lg-6\">' +\n            '           <div ng-repeat=\"credential in payee.ebills.nextAction.credentialsParams\">' +\n            '                   <div lp-labeled-input-field=\"lp-labeled-input-field\"' +\n            '                   input-type=\"{{ credential.inputFieldType }}\"' +\n            '                   input-value=\"credential.fieldValue\"' +\n            '                   is-required=\"true\" input-pattern=\"/^[a-zA-Z0-9.\\'\\-_\\\\s]{1,20}$/\"' +\n            '                   pattern-error-msg=\"{{ \\'Field is required\\' }}\" field-name=\"{{ credential.fieldLabel.replace(\\' \\',\\'\\') }}\"' +\n            '                   placeholder-text=\"{{ credential.fieldLabel }}\"></div>' +\n            '           </div>' +\n            '       </div>' +\n            '   </div>' +\n            '</div>';\n\n        var TPL_ACCOUNT =\n            '<div class=\"e-bill-confirm-account\">' +\n            '   <div class=\"row header\">' +\n            '     <h3 class=\"col-ss-12 col-xs-12 col-sm-12 col-md-12 col-lg-12\" lp-i18n=\"Select E-Bills Account\"></h3>' +\n            '   </div>' +\n            '   <div class=\"row instructions\" ng-switch=\"payee.ebills.nextAction.accounts.length\">' +\n            '       <div class=\"col-ss-12 col-xs-12 col-sm-12 col-md-6 col-lg-6\" ng-switch-when=\"0\">' +\n            '         <div class=\"text-danger\" lp-i18n=\"We were unable to locate an account using the logon credentials you provided.\"></div>' +\n            '       </div>' +\n            '       <div class=\"col-ss-12 col-xs-12 col-sm-12 col-md-6 col-lg-6\" ng-switch-when=\"1\" ng-init=\"payee.ebills.account = payee.ebills.nextAction.accounts[0]\">' +\n            '         <div lp-i18n=\"EBillsConfirmAccountNumber\" translate-values=\"{ accountNumber: payee.ebills.nextAction.accounts[0].name }\"></div>' +\n            '       </div>' +\n            '       <div ng-switch-default>' +\n            '           <div lp-i18n=\"Select the account for which you would like to receive eBills.\"></div>' +\n            '               <div lp-field=\"lp-field\"' +\n            '               label=\"{{ \\'Select account\\' | translate }}\"' +\n            '               aria-label=\"{{ \\'Select account\\' | translate }}\">' +\n            '               <div dropdown-select=\"dropdown-select\"' +\n            '                   ng-model=\"payee.ebills.account\"' +\n            '                   ng-options=\"val as val.name for val in payee.ebills.nextAction.accounts\">' +\n            '               </div>' +\n            '           </div>' +\n            '       </div>' +\n            '   </div>' +\n            '</div> ';\n\n        var TPL_CONTROLS =\n            '<div class=\"row\">' +\n            '   <div class=\"col-ss-12 col-xs-12 col-sm-12 col-md-6 col-lg-6\">' +\n            '      <div class=\"row\">' +\n            '          <div class=\"col-ss-12 col-xs-12 col-sm-12 col-md-6 col-lg-6\">' +\n            '              <button type=\"submit\" ng-disabled=\"continueButtonIsDisabled()\" ng-click=\"confirm()\" class=\"btn btn-primary col-sm-12 col-md-12 col-lg-12\" lp-i18n=\"Continue\"></button>' +\n            '          </div>' +\n            '          <div class=\"col-ss-12 col-xs-12 col-sm-12 col-md-6 col-lg-6\">' +\n            '              <button type=\"button\" ng-click=\"cancel()\" class=\"btn btn-link col-sm-12 col-md-12 col-lg-12 text-left\" lp-i18n=\"Cancel\"></button>' +\n            '          </div>' +\n            '      </div>' +\n            '   </div>' +\n            '</div>';\n\n        var TPL =\n            '<div progress-indicator=\"loading\">' + TPL_ALERTS +\n            '  <div ng-if=\"payee.ebills.nextAction\">' +\n            '    <div ng-if=\"payee.ebills.nextAction.billerSites\">' + TPL_SITE + TPL_CONTROLS + '</div>' +\n            '    <div ng-if=\"payee.ebills.nextAction.credentialsParams\">' + TPL_LOGIN + TPL_CONTROLS + '</div>' +\n            '    <div ng-if=\"payee.ebills.nextAction.accounts\">' + TPL_ACCOUNT + TPL_CONTROLS + '</div>' +\n            '  </div>' +\n            '</div>';\n\n\n        var link = function(scope, element, attrs) {\n            scope.loading = false;\n\n            /**\n             * If external log function provided - pass error to it,\n             * else use local error display\n             *\n             * @param errors - array of errors\n             */\n            function handleError(err) {\n                if (!utils.isUndefined(scope.logErrors)) {\n                    scope.logErrors(err);\n                } else {\n                    scope.errors = err;\n                }\n            }\n\n            /**\n             * Validate form (simple check if each field is valid according to field's pattern)\n             *\n             * @returns {boolean}\n             */\n            scope.continueButtonIsDisabled = function() {\n                var valid;\n\n                // Login template (presuming all fields are required)\n                if (lpCoreUtils.has(scope.payee, 'ebills.nextAction.credentialsParams')) {\n                    valid = lpCoreUtils.chain(scope.payee.ebills.nextAction.credentialsParams).map('fieldValue').reduce(function(v1, v2){return v1 && v2;}).value();\n                    return !valid;\n                }\n                \n                // Button enabled by default\n                return false;\n            };\n\n            function handleEBillResponse(data) {\n                if (data.checkStatus) {\n                    $timeout(function() {\n                        lpEBillService.checkStatus(scope.payee.ebills)\n                            .then(handleEBillResponse, function(err) {\n                                scope.loading = false;\n                                handleError(err.data.errors);\n                            });\n                    }, 2000);\n                } else {\n                    scope.payee.ebills = data;\n                    if (!data.furtherActionNeeded) {\n                        scope.payee.eBillsStatus = 'ACTIVE';\n                        scope.callback();\n                    }\n                    scope.loading = false;\n                }\n            }\n\n            scope.confirm = function() {\n                scope.loading = true;\n                handleError(null); // Clear errors\n                lpEBillService.performAction(scope.payee.ebills)\n                    .then(handleEBillResponse, function(error) {\n                        handleError(error.data.errors);\n                        scope.loading = false;\n                    });\n            };\n\n            scope.cancel = function() {\n                scope.payee.ebills = null;\n                scope.callback();\n            };\n\n        };\n        return {\n            restrict: 'A',\n            scope: {\n                payee: '=',\n                callback: '&',\n                logErrors: '=?'\n            },\n            link: link,\n            template: TPL\n        };\n    };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/components/ebill-setup/scripts/lp-ebill-setup-view.js\n **/","define(function(require, exports, module) {\n    'use strict';\n    /**\n     * EBill Module Provider\n     * with default configuration\n     */\n    // @ngInject\n    exports.lpEbilling = function() {\n\n        // @ngInject\n        this.$get = function($q, $http, lpCoreUtils, lpEbillingUtils, lpEbillingCache, AccountsModel) {\n\n            var config = {\n                // Default options\n                baseUrl: '',\n                locale: 'en',\n                debitOrdersSrc: '',\n                mandatesSrc: '',\n                dateListFormat: 'MMM dd',\n                showCurrencySym: true,\n                templates: {},\n                cache: {\n                    enable: false\n                }\n\n            };\n\n            var cache = lpEbillingCache;\n            cache.init(config.cache);\n\n\n            return {\n                 getAccounts: function() {\n                    var d = $q.defer();\n                    var accountsData = cache.get('accounts');\n                    if (accountsData) {\n                        d.resolve(accountsData);\n                    } else {\n                        AccountsModel.setConfig({\n                            accountsEndpoint: config.accountsEndPoint\n                        });\n                        AccountsModel.load().then(function(response) {\n                                if (response) {\n                                    cache.put('accounts', response);\n                                    d.resolve(response);\n                                } else {\n                                    d.reject();\n                                }\n                            }, function(errObj) {\n                                d.reject(errObj);\n                            });\n                    }\n\n                    return d.promise;\n                },\n                /**\n                 * [getTemplate description]\n                 * @param  {[type]} k [description]\n                 * @return {[type]}   [description]\n                 */\n                getTemplate: function(k) {\n                    if (!config.templates[k]) {\n                        throw new Error('Unable to resolve template : ' + k);\n                    }\n                    var templateUrl = config.baseUrl + config.templates[k];\n                    return templateUrl;\n                },\n\n                setConfig: function(options) {\n                    config = lpCoreUtils(options).chain()\n                        .mapValues(lpCoreUtils.resolvePortalPlaceholders)\n                        .defaults(config)\n                        .value();\n                    return this;\n                },\n                /**\n                 * [getConfig description]\n                 * @param  {string} prop preference string property\n                 * @return {string/object}      preference value\n                 */\n                getConfig: function(prop) {\n                    if (prop && lpCoreUtils.isString(prop)) {\n                        return config[prop];\n                    } else {\n                        return config;\n                    }\n                }\n            };\n        };\n\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/provider.js\n **/","define( function( require, exports, module) {\n\n    'use strict';\n\n    // Export vars\n    var providers = {}, factories = {}, services = {};\n\n    /*----------------------------------------------------------------*/\n    /* Debit Orders Model\n    /*----------------------------------------------------------------*/\n    // @ngInject\n    factories.lpEbillingDebitOrdersModel = function(lpEbilling, lpEbillingMandateModel, lpEbillingUtils, lpCoreI18nUtils, $resource, $q, $filter ) {\n\n        var utils = lpEbillingUtils;\n        // Provider config\n        var options = lpEbilling.getConfig();\n        var endPoint = utils.resolvePreference(options.debitOrdersSrc);\n        // filter helpers\n        var dateFilter = $filter('date');\n        var eBillCurrency = $filter('eBillCurrency');\n        var MandateModel = lpEbillingMandateModel;\n        var Model;\n\n        /**\n         * Enhance the response model and initialize other ngResources if needed\n         * @param  {object} model object\n         * @return {object}       object with extra data\n         */\n        function mapItem(model) {\n\n            var currencySym = lpCoreI18nUtils.CURRENCY_MAP[model.currency] || '';\n\n            var newModel = {\n                id: model.id,\n                status: model.status,\n                currencySym: currencySym,\n                dueDate: model.paymentDueDate,\n                dueDateFiltered: dateFilter( model.paymentDueDate, 'MMM dd y'),\n                scheduledDate: model.paymentScheduledDate,\n                scheduledDateFiltered: dateFilter( model.paymentScheduledDate, 'MMM dd'),\n                statusReasonInformation: model.statusReasonInformation,\n                isOverdue: utils.checkDueDate( 'isPast', model.paymentDueDate )\n            };\n\n            // Amount filtering\n            if(model.amount) {\n               newModel.amount = parseFloat(model.amount, 10);\n               newModel.amountFiltered = eBillCurrency(model.amount, currencySym);\n            }\n            // MinAmount filtering\n            if(model.minimalAmount) {\n                newModel.minAmount = parseFloat(model.minimalAmount, 10);\n                newModel.minAmountFiltered = eBillCurrency(model.minimalAmount, currencySym);\n            }\n            // Mandate\n            if(model.mandate) {\n                newModel.autoPay = model.mandate.directDebit;\n                newModel.mandate = new MandateModel(model.mandate);\n            }\n            // History\n            if(model.amountPaid) {\n                newModel.amountPaid = model.amountPaid;\n                newModel.amountPaidFiltered = $filter('eBillCurrency')(newModel.amountPaid, currencySym);\n            }\n\n            if(model.modifiedDate) {\n                newModel.modifiedDate = model.modifiedDate;\n                newModel.modifiedDateFiltered = dateFilter( model.modifiedDate, 'MMM dd');\n            }\n            // Debtor\n            if(model.debtor) {\n                newModel.debtor = model.debtor;\n            }\n            // Actions\n            if(model.actions && model.actions instanceof Array) {\n                newModel.actions = {};\n                model.actions.map(function(action){\n                    newModel.actions[action] = Model[action];\n               });\n            }\n            return newModel;\n        }\n\n        // ng Resource\n        Model = $resource(endPoint + '/:id/:action', {\n        }, {\n            query: {\n                method: 'GET',\n                isArray: true,\n                cache: options.cache.enable,\n                interceptor: {\n                    response: function (response) {\n                        // var status = response.config.params.status || [];\n                        var data = response.data;\n                        if(data instanceof Array && data.length > 0) {\n                            return data.map(mapItem);\n                        }\n                        return data;\n                    }\n                }\n            },\n            // custom actions\n            accept: {\n                params: { action: 'accept' },\n                method: 'POST'\n            },\n            decline: {\n                params: { action: 'decline' },\n                method: 'POST'\n            },\n            pay: {\n                params: { action: 'pay' },\n                method: 'POST'\n            },\n            reject: {\n                params: { action: 'reject' },\n                method: 'POST'\n            }\n        });\n\n        /*----------------------------------------------------------------*/\n        /* Object methods\n        /*----------------------------------------------------------------*/\n\n        /**\n         * Get the default debit-orders list in this case 'SCHEDULED/RECEIVED/HANDLING' ones.\n         *\n         * @param  {object} params supported query string\n         * @return {object}        ngResource object\n         */\n        Model.getAll = function (params) {\n            params = utils.extend(params || {}, {\n                status: ['SCHEDULED', 'RECEIVED', 'HANDLING'].join(',')\n            });\n            return this.query(params).$promise;\n        };\n\n        /**\n         * Get the new debit-orders list in this case 'IN_PROGRESS' ones.\n         *\n         * @param  {object} params supported query string\n         * @return {object}        ngResource object\n         */\n        Model.getAllNew = function (params) {\n\n            params = utils.extend(params || {}, {\n                status: ['IN_PROGRESS'].join(',')\n            });\n            return this.query(params).$promise;\n        };\n\n        /**\n         * Get the history list.\n         *\n         * @param  {object} params supported query string\n         * @return {object}        ngResource object\n         */\n        Model.getHistory = function (params) {\n\n            params = utils.extend(params || {}, {\n                status: ['PAID', 'REJECTED', 'REFUSED'].join(',')\n            });\n            return this.query(params).$promise;\n        };\n\n        return Model;\n    };\n\n    /*----------------------------------------------------------------*/\n    /* Mandate Model\n    /*----------------------------------------------------------------*/\n\n    // @ngInject\n    factories.lpEbillingMandateModel = function(lpEbilling, lpEbillingUtils, $resource) {\n\n        var utils = lpEbillingUtils;\n        // Provider Config\n        var options = lpEbilling.getConfig();\n        var endPoint = utils.resolvePreference(options.mandatesSrc);\n        var Model;\n\n        // Mapping function\n       function mapItem(model) {\n            var newModel = {\n                id: model.id,\n                creditorName: model.creditor.name,\n                creditorReference: model.creditor.reference,\n                creditorAddress: model.creditor.postalAddress,\n                debitorName: model.debtor.name,\n                debitorAccount: model.debtor.account,\n                notifyOnNewOrders: model.notifyOnNewOrders\n            };\n             // Actions\n            if(model.actions && model.actions instanceof Array) {\n                newModel.actions = {};\n                model.actions.map(function(action){\n                    newModel.actions[action] = Model[action];\n               });\n            }\n            return newModel;\n        }\n\n        // ngResource Function\n        Model = $resource(endPoint + '/:id/:action', {\n            id: '@id'\n        }, {\n            get: {\n                method: 'GET', isArray: false, cache: options.cache.enable,\n                interceptor: {\n                    response: function (response) {\n                        return mapItem(response.data);\n                    }\n                }\n            },\n            // Custom action\n            enableDirectDebit: {\n                method: 'POST'\n            },\n            disableDirectDebit: {\n                method: 'POST'\n            },\n            enableNotifyOnNewOrders: {\n                method: 'POST'\n            },\n            disableNotifyOnNewOrders: {\n                method: 'POST'\n            }\n        });\n\n        return Model;\n    };\n\n    /*----------------------------------------------------------------*/\n    /* Cache Service\n    /*----------------------------------------------------------------*/\n\n    // @ngInject\n    factories.lpEbillingCache = function($cacheFactory) {\n        var cache, options;\n        return {\n            init: function(opts){\n                options = opts;\n                cache = $cacheFactory('EBill.Cache', options);\n            },\n            put: function(k, v) {\n                return !!options.enable && cache.put(k, v);\n            },\n            remove: function(k) {\n                return cache.remove(k);\n            },\n            removeAll: function() {\n                return cache.removeAll();\n            },\n            get: function(k) {\n                return cache.get(k);\n            },\n            info: function() {\n                return cache.info();\n            },\n            // #TODO $templateCache\n            template: function() {\n            }\n        };\n    };\n\n    /*----------------------------------------------------------------*/\n    /* Bus Service\n    /*----------------------------------------------------------------*/\n    // @ngInject\n    services.lpEbillingBus = function($rootScope, $window, lpEbillingUtils) {\n\n        var utils = lpEbillingUtils;\n\n        var canBubble = utils.isObject($window.gadgets.pubsub) && utils.isFunction($window.gadgets.pubsub.publish);\n        this.channels = {};\n\n        this.publish = function(event, data, bubble) {\n            utils.info('%c' + event, 'color: blue');\n            $rootScope.$emit(event, data);\n            if(typeof bubble === 'boolean' && bubble && canBubble) {\n                $window.gadgets.pubsub.publish(event, data);\n            }\n        };\n\n        this.subscribe = function(event, handler, bubble) {\n            this.channels[event] = $rootScope.$on(event, handler);\n            if(typeof bubble === 'boolean' && bubble && canBubble) {\n                $window.gadgets.pubsub.subscribe(event, handler);\n            }\n        };\n        this.unsubscribe = function(event, handler, bubble) {\n            if (this.channels[event]) {\n                this.channels[event]();\n            }\n            if(typeof bubble === 'boolean' && bubble && canBubble) {\n                $window.gadgets.pubsub.unsubscribe(event, handler);\n            }\n            return this;\n        };\n    };\n\n    /*----------------------------------------------------------------*/\n    /* Export\n    /*----------------------------------------------------------------*/\n    exports.providers = providers;\n    exports.factories = factories;\n    exports.services = services;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/models.js\n **/","define( function( require, exports, module) {\n\n    'use strict';\n\n    // @ngInject\n    exports.eBillCurrency = function($filter, lpEbilling) {\n        var orgCurrencyFilterFn = $filter('currency');\n        var eBillOptions = lpEbilling.getConfig();\n        var showCurrencySym = eBillOptions.showCurrencySym;\n        return function (amount, currencySym) {\n            currencySym = (showCurrencySym ? currencySym : '');\n            return orgCurrencyFilterFn(amount, currencySym );\n        };\n    };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/filters.js\n **/","define(function(require, exports, module) {\n\n\t'use strict';\n\n\tvar $ = window.jQuery;\n\n\t// Store directives\n\tvar directives = {};\n\n\t/**\n\t * Ebilling list item directive\n\t * @type {Array} angular js directive\n\t */\n\tdirectives.eBillListItem = ['$timeout', '$compile', 'lpEbillingUtils', function ($timeout, $compile, utils) {\n\n\t\tvar TPL = ['<div>',\n\t\t\t\t\t'<div class=\"list-view-container\"',\n\t\t\t\t\t\t'on-swipe=\"onSwipe($event)\"',\n\t\t\t\t\t\t'ng-click=\"onClick($event)\"',\n\t\t\t\t\t\t'ng-keypress=\"onKeyPressed($event)\"',\n\t\t\t\t\t\t'tabindex=\"0\"',\n\t\t\t\t\t\t'ng-class=\"{\\'bill-overdue\\': bill.isOverdue}\"',\n\t\t\t\t\t\t'on-gesture-options=\"{ dragLockToAxisX: true,  dragBlockHorizontal: true }\">',\n\t\t\t\t\t\t'<div class=\"col-xs-7 e-bill-list-info column text-left\">',\n\t\t\t\t\t\t\t'<div class=\"centered\">',\n\t\t\t\t\t\t\t\t'<span class=\"sr-only\">Name</span>',\n\t\t\t\t\t\t\t\t'<div class=\"h4 counterparty-name\"><strong>{{title}}</strong></div>',\n\t\t\t\t\t\t\t\t'<div class=\"h6 text-muted\">{{subtitle}}</div>',\n\t\t\t\t\t\t\t'</div>',\n\t\t\t\t\t\t'</div>',\n\t\t\t\t\t\t'<div class=\"col-xs-5 e-bill-list-amount-wrapper column text-right\">',\n\t\t\t\t\t\t\t'<div class=\"centered\">',\n\t\t\t\t\t\t\t\t'<div class=\"e-bill-list-amount\">',\n\t\t\t\t\t\t\t\t\t'<span class=\"sr-only\">Amount</span>',\n\t\t\t\t\t\t\t\t\t'<span class=\"h4\">{{amount}}</span>',\n\t\t\t\t\t\t\t\t'</div>',\n\t\t\t\t\t\t\t\t'<div class=\"e-bill-list-info-amount\">',\n\t\t\t\t\t\t\t\t\t'<span class=\"e-bill-auto-pay-stamp badge\" ng-if=\"auto\">Auto</span>',\n\t\t\t\t\t\t\t\t\t'<span class=\"e-bill-list-due-date badge\" ng-if=\"date\">',\n\t\t\t\t\t\t\t\t\t\t'<i class=\"glyphicon glyphicon-calendar\"></i> {{date}}',\n\t\t\t\t\t\t\t\t\t'</span>',\n\t\t\t\t\t\t\t\t'</div>',\n\t\t\t\t\t\t\t'</div>',\n\t\t\t\t\t\t'</div>',\n\t\t\t\t\t\t'<div class=\"toggle-list\">',\n\t\t\t\t\t\t\t'<i class=\"lp-icon\" ng-class=\"{ \\'lp-icon-angle-up\\' : bill.opened, \\'lp-icon-angle-down\\': !bill.opened}\"></i>',\n\t\t\t\t\t\t'</div>',\n\t\t\t\t\t'</div>',\n\t\t\t\t\t'<div ng-transclude></div>',\n\t\t\t\t'</div>'].join(' ');\n\n\t\t/*----------------------------------------------------------------*/\n\t\t/* Private's\n\t\t/*----------------------------------------------------------------*/\n\t\tvar swipeLeft = function($el, width, cb) {\n\t\t\tvar $scope = this;\n\t\t\t$('.list-view-container.swiped-out').css({ left: 0 }).removeClass('swiped-out');\n\n\t\t\t$el.stop().animate({\n\t\t\t\twidth: $el.width() - width\n\t\t\t}, 0, function() {\n\t\t\t\t$scope.isSwiped = true;\n\t\t\t\tif (typeof cb === 'function') { cb.call(null); }\n\t\t\t}).addClass('swiped-out');\n\t\t};\n\n\t\tvar swipeRight = function($el, cb) {\n\t\t\tvar $scope = this;\n\t\t\t$el.stop().animate({\n\t\t\t\twidth: '100%'\n\t\t\t}, 0, function() {\n\t\t\t\t$scope.isSwiped = false;\n\t\t\t\tif (typeof cb === 'function') { cb.call(null); }\n\t\t\t}).removeClass('swiped-out');\n\t\t};\n\n\t\t/*----------------------------------------------------------------*/\n\t\t/* Instance\n\t\t/*----------------------------------------------------------------*/\n\t\tvar linkFn = function ($scope, $element, $attrs, modelCtrl) {\n\t\t\tvar actionElWidth;\n\t\t\tvar dragedEl = $element.find('.list-view-container');\n\n\t\t\t$scope.isSwiped = false;\n\t\t\t$scope.bill.opened = false;\n\n\t\t\tif($scope.bill.status === 'HANDLING') {\n\t\t\t\t$scope.bill.processing = true;\n\t\t\t}\n\n\t\t\t$scope.title = $scope.bill.mandate.creditor.name;\n\t\t\t$scope.subtitle = $scope.bill.mandate.creditor.reference;\n\t\t\t$scope.amount = $scope.bill.amountFiltered;\n\t\t\t$scope.date = $scope.bill.scheduledDateFiltered;\n\t\t\t$scope.auto = $scope.bill.mandate.directDebit;\n\n\t\t\tswitch($attrs.eBillListItem) {\n\t\t\t\tcase 'history' :\n\t\t\t\t\t$scope.subtitle = $scope.bill.statusReasonInformation ? $scope.bill.status + ' - ' + $scope.bill.statusReasonInformation : $scope.bill.status;\n\t\t\t\tbreak;\n\t\t\t\tcase 'newbills' :\n\t\t\t\t\t$scope.subtitle = $scope.bill.mandate.creditor.reference;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t$scope.onKeyPressed = function($event) {\n\n\t\t\t\tif($event.keyCode === 13 || $event.which === 32) {\n\t\t\t\t\t$scope.onClick($event);\n\t\t\t\t\t$event.preventDefault();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.onClick = function($event) {\n\t\t\t\t$scope.bill.opened = !$scope.bill.opened;\n\t\t\t};\n\n\t\t\t$scope.onSwipe = function($event) {\n\n\t\t\t\tvar $itemList = $element.find('.list-view-container');\n\t\t\t\tactionElWidth = $element.find('.list-view-actions').width();\n\n\t\t\t\tif(+actionElWidth <= 0) { return; }\n\n\t\t\t\tif($scope.bill.opened) {\n\t\t\t\t\t$scope.bill.opened = false;\n\t\t\t\t}\n\n\t\t\t\tif( $scope.isSwiped) {\n\t\t\t\t\t$event.srcEvent.stopPropagation();\n\t\t\t\t}\n\t\t\t\t$timeout(function(){\n\t\t\t\t\tswitch($event.direction) {\n\t\t\t\t\t\tcase 2 : swipeLeft.call($scope, $itemList, actionElWidth); break; //left\n\t\t\t\t\t\tcase 4 : swipeRight.call($scope, $itemList, actionElWidth); break; // right\n\t\t\t\t\t}\n\t\t\t\t}, 23);\n\t\t\t};\n\n\t\t\t$scope.$on('$destroy', function() {\n\t\t\t\t// Clean up\n\t\t\t});\n\n\t\t\t$scope.$watch('bill.opened', function(val) {\n\t\t\t\tif( $scope.isSwiped || ($scope.isSwiped && !!val) ) {\n\t\t\t\t\tswipeRight.call($scope, dragedEl);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$scope.$watch('bill.autoPay', function(val) {\n\t\t\t\tactionElWidth = $element.find('.list-view-actions').width();\n\t\t\t\t$timeout(function(){\n\t\t\t\t\tactionElWidth = $element.find('.list-view-actions').width();\n\t\t\t\t\tif($scope.isSwiped) {\n\t\t\t\t\t\t$('.list-view-container.swiped-out').css({ left: -actionElWidth });\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\tvar compileFn = function() {\n\t\t\treturn linkFn;\n\t\t};\n\t\treturn {\n\t\t\trestrict: 'EA',\n\t\t\trequire: '?ngModel',\n\t\t\tpriority: Number.MAX_VALUE,\n\t\t\ttransclude: true,\n\t\t\tcompile: compileFn,\n\t\t\ttemplate: TPL,\n\t\t\tscope: {\n\t\t\t\tbill: '=ngModel'\n\t\t\t}\n\t\t};\n\t}];\n\n\t/**\n\t * Ebilling Amount input Directive\n\t * @param  {[type]} $timeout [description]\n\t * @return {[type]}          [description]\n\t */\n\tdirectives.eBillAmountInput = ['$timeout', function ($timeout) {\n\t\tvar TPL = ['<div class=\"input-group clearfix\">',\n\t\t\t\t\t\t'<span class=\"input-group-addon\" ng-bind=\"currencySym\" ng-if=\"currencySym\"></span>',\n\t\t\t\t\t\t'<input name=\"noDecimal\"  placeholder=\"0\" lp-number-input lp-max-length=\"6\" min=\"0\" maxlength=\"6\" max=\"999999\" class=\"form-control whole-amount-input pull-left text-right\" type=\"number\" ng-model=\"noDecimal\"/>',\n\t\t\t\t\t\t'<div class=\"pull-left decimal\"><span class=\"decimal-point\">.</span></div>',\n\t\t\t\t\t\t'<input name=\"decimal\" lp-number-input type=\"number\" ng-model=\"decimal\" placeholder=\"0\" lp-max-length=\"2\" min=\"0\" maxlength=\"2\" max=\"99\" class=\"text-right form-control pull-left decimal-amount-input\" /> ',\n\t\t\t\t\t'</div>'].join('');\n\n\t\tvar linkFn = function linkFnBillAmountInput (scope, $element, $attrs, modelCtrl) {\n\n\t\t\tvar config = scope.config || {};\n\t\t\tscope.currencySym = config.currencySym || '';\n\n\t\t\tscope.decimal = 0;\n\t\t\tscope.noDecimal = 0;\n\n\t\t\t$element.one('click', 'input', function () {\n\t\t\t\tthis.value = '';\n\t\t\t});\n\n\t\t\t$element.on('keypress', 'input[name=noDecimal]', function () {\n\t\t\t\tif(parseInt(this.value, 10) !== 0){\n\t\t\t\t\treturn 'valid_value';\n\t\t\t\t}\n\t\t\t\tthis.value = '';\n\t\t\t});\n\n\t\t\tfunction pad(n, width, z) {\n\t\t\t\tz = z || '0';\n\t\t\t\tn = n + '';\n\t\t\t\treturn n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;\n\t\t\t}\n\n\t\t\tfunction combineDecimals () {\n\t\t\t\tvar decimal = pad(parseInt(scope.decimal, 10) || 0, 2);\n\t\t\t\tvar noDecimal = parseInt(scope.noDecimal, 10) || 0;\n\t\t\t\treturn parseFloat(noDecimal + '.' + decimal).toFixed(2);\n\t\t\t}\n\n\t\t\t$element.find('input').on('input', function () {\n\t\t\t\tvar maxLength = this.maxLength;\n\t\t\t\tif(this.value.length > maxLength){\n\t\t\t\t\tthis.value = this.value.substr(0, maxLength);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tscope.$watch('noDecimal+decimal', function() {\n\t\t\t\tvar newValue = combineDecimals();\n\t\t\t\tscope.amount = parseFloat(newValue);\n\t\t\t\tmodelCtrl.$setViewValue( scope.amount );\n\t\t\t});\n\n\t\t\tscope.$on('$destroy', function() {\n\t\t\t\t// Destroy\n\t\t\t});\n\n\t\t};\n\t\treturn {\n\t\t\trestrict: 'EA',\n\t\t\trequire: '?ngModel',\n\t\t\tpriority: Number.MAX_VALUE,\n\t\t\ttransclude: true,\n\t\t\tlink: linkFn,\n\t\t\ttemplate: TPL,\n\t\t\tscope: {\n\t\t\t\tamount: '=ngModel',\n\t\t\t\tconfig: '=eBillAmountInput'\n\t\t\t}\n\t\t};\n\n\t}];\n\n\t/*----------------------------------------------------------------*/\n\t/* Exports\n\t/*----------------------------------------------------------------*/\n\texports.directives = directives;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/views.js\n **/","define( function( require, exports, module) {\n\n    'use strict';\n\n    var angular = require('base').ng;\n\n    /*----------------------------------------------------------------*/\n    /* Utilities\n    /*----------------------------------------------------------------*/\n    // @ngInject\n    exports.lpEbillingUtils = function(lpCoreUtils, $filter, $log) {\n\n        this.noop = angular.noop;\n        this.extend = angular.extend;\n        this.bind = angular.bind;\n        this.copy = angular.copy;\n        this.isObject = angular.isObject;\n        this.isFunction = angular.isFunction;\n        this.isUndefined = angular.isUndefined;\n        this.isTouch = ('ontouchstart' in window);\n        this.keys = Object.keys;\n\n        /**\n         * [resolvePreference description]\n         * @param  {[type]} value  [description]\n         * @param  {[type]} params [description]\n         * @return {[type]}        [description]\n         */\n        this.resolvePreference = function(value, params) {\n            return lpCoreUtils.resolvePortalPlaceholders(value);\n        };\n\n        /**\n         * [widgetStaticPath description]\n         * @param  {[type]} widgetSrc [description]\n         * @return {[type]}           [description]\n         */\n        this.widgetStaticPath = function(widgetSrc) {\n            var parts = widgetSrc.toString().split('/');\n            parts.pop();\n            var base = parts.join('/');\n            base = this.resolvePreference(base);\n            return base;\n        };\n\n        /**\n         * [isBoolean description]\n         * @param  {[type]}  obj [description]\n         * @return {Boolean}     [description]\n         */\n        this.isBoolean = function ( obj ) {\n            return obj === true || obj === false || Object.prototype.toString.call(obj) === '[object Boolean]';\n        };\n\n        /**\n         * [filter description]\n         * @param  {[type]} predicate [description]\n         * @param  {[type]} whereObj  [description]\n         * @return {[type]}           [description]\n         */\n        this.filter = function(predicate, whereObj) {\n            if( lpCoreUtils.isEmpty(whereObj) ) {\n                throw new Error('Specify an object criteria');\n            }\n            var k = this.keys(whereObj)[0];\n            return predicate.filter(function(i){\n                var cond = false;\n                if(i.hasOwnProperty(k)) {\n                    cond = i[k] === whereObj[k];\n                }\n                return cond;\n            })[0];\n        };\n\n        /**\n         * [findIndex description]\n         * @param  {[type]} predicate [description]\n         * @param  {[type]} whereObj  [description]\n         * @return {[type]}           [description]\n         */\n        this.findIndex = function(predicate, whereObj ) {\n            var item = this.filter(predicate, whereObj);\n            return predicate.indexOf(item);\n        };\n\n        /**\n         * [sortBy description]\n         * @param  {[type]} data      [description]\n         * @param  {[type]} attribute [description]\n         * @return {[type]}           [description]\n         */\n        this.sortBy = function( data, attribute, desc ) {\n            data.sort(\n                function( a, b ) {\n                    if ( a[ attribute ] <= b[ attribute ] ) {\n                        return desc ? 1 : -1;\n                    }\n                    return 1;\n                }\n            );\n        };\n        /**\n         * [checkDueDate description]\n         * @param  {[type]} when [description]\n         * @param  {[type]} d    [description]\n         * @return {[type]}      [description]\n         */\n        this.checkDueDate = function(when, d) {\n            var date = lpCoreUtils.date;\n\n            if( typeof d !== 'undefined' ) {\n                if (when === 'isToday') {\n                    return date().isSame(date(d), 'day');\n                    // return  today.equals(d);\n                }\n                else if (when === 'isTomorrow') {\n                    return date().add(1, 'day').isSame(date(d), 'day');\n                    // return d.equals(tomorrow);\n                }\n                else if (when === 'isYesterday') {\n                    return date().subtract(1, 'day').isSame(date(d), 'day');\n                    // return d.equals(yesterday);\n                }\n                else if (when === 'isPast') {\n                    return date().isAfter(date(d), 'day');\n                    // return today.isAfter(d);\n                }\n\n                return d;\n            }\n\n            return null;\n        };\n        /**\n         * [dueDateIndicator description]\n         * @param  {[type]} d [description]\n         * @return {[type]}   [description]\n         */\n        this.dueDateIndicator = function(d) {\n            if (this.checkDueDate( 'isToday', d )) { return '(today)'; }\n            if (this.checkDueDate( 'isTomorrow', d )) { return '(tommorow)'; }\n            if (this.checkDueDate( 'isYesterday', d )) { return '(yesterday)'; }\n            return '';\n        };\n\n        /**\n         * [groupBy description]\n         * @param  {[type]} attribute [description]\n         * @return {[type]}           [description]\n         */\n        // #TODO make it more customizable\n        this.groupBy = function( data, groupBy, groupLabelPrefix, groupLabelSuffix, sortOrder) {\n\n            var groupValue = '';\n            var group;\n            var groups = [];\n            var groupLabel = '';\n            groupLabelPrefix = groupLabelPrefix || '';\n            groupLabelSuffix = groupLabelSuffix || '';\n            var supportedGroups = ['dueDate', 'amount', 'modifiedDate'];\n\n            if(!data instanceof Array || data.length <= 0) {\n                // empty\n                return groups;\n            }\n            if(supportedGroups.indexOf(groupBy) <= -1) {\n                throw new Error('Unsupported groupby attribute');\n            }\n\n            this.sortBy(data, groupBy, sortOrder);\n\n            data.forEach(function(item) {\n                switch(groupBy) {\n                    case 'amount':\n                        groupLabel = $filter('eBillCurrency')(item[ groupBy ], item.currencySym );\n                    break;\n                    case 'dueDate':\n                    case 'modifiedDate':\n                        groupLabelPrefix = groupLabelPrefix;\n                        var dueDate = item[groupBy];\n                        groupLabel = dueDate && $filter('date')(dueDate, 'MMM dd').toString().toLowerCase();\n                        var labelSuffix = (this.checkDueDate( 'isPast', dueDate )) ? groupLabelSuffix : this.dueDateIndicator(dueDate);\n                }\n                if ( groupLabel !== groupValue ) {\n                    group = {\n                        label: [ groupLabelPrefix, groupLabel, labelSuffix].join(' '),\n                        bills: []\n                    };\n                    groupValue = groupLabel;\n                    groups.push( group );\n                }\n                if(group && group.bills instanceof Array) { group.bills.push( item ); }\n            }.bind(this));\n            return groups;\n        };\n\n\n        /**\n         * [error description]\n         * @param  {[type]} err [description]\n         * @return {[type]}     [description]\n         */\n        this.error = function(err) {\n           // TODO Error management\n           throw new Error(err);\n        };\n\n        /**\n         * [log description]\n         * @return {[type]} [description]\n         */\n        this.log = function() {\n            if( location.hostname.toLowerCase() !== 'localhost' ) { return; }\n            var arg = [].slice.call(arguments, 0);\n            if( this.isFunction($log.log) ) {\n                $log.log.apply($log.log, arg);\n            }\n        };\n\n        /**\n         * [info description]\n         * @return {[type]} [description]\n         */\n        this.info = function() {\n            if( location.hostname.toLowerCase() !== 'localhost' ) { return; }\n            var arg = [].slice.call(arguments, 0);\n            if( this.isFunction($log.info) ) {\n                $log.info.apply($log.info, arg);\n            }\n        };\n    };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/utils.js\n **/","define(function(require, exports, module) {\n\n    'use strict';\n\n    // base utilities\n    var utils = require('base').utils;\n    // default configuration\n    var defaults = {\n        url: '/v1/bill-payments'\n    };\n    var normalize = require('./ebill-normalizer');\n\n    /*----------------------------------------------------------------*/\n    /* Private Functions\n    /*----------------------------------------------------------------*/\n    function parse(res) {\n        return res.data;\n    }\n\n    /**\n     * @ngInject\n     * @constructor\n     */\n    var EBillService = function EBillService($http, lpCoreError) {\n        this.http = $http;\n    };\n\n    var api = {\n\n        /**\n         * Setup new E-Bills\n         */\n        setup: function(payee) {\n            return this.http.post(this.config.url + '/e-bills', payee)\n                .then(parse)\n                .then(normalize);\n        },\n\n        /**\n         * Stop E-Bills\n         */\n        stop: function(payeeId) {\n            return this.http.delete(this.config.url + '/e-bills' + '/' + payeeId)\n                .then(parse)\n                .then(normalize);\n        },\n\n        /**\n         * Check status of E-Bill setup\n         */\n        checkStatus: function(eBillInfo) {\n            return this.http.get(this.config.url + '/e-bills/status', { params: { sessionId: eBillInfo.sessionId }})\n                .then(parse)\n                .then(normalize);\n        },\n\n        /**\n         * Sent information requested for E-Bill setup\n         */\n        performAction: function(eBillInfo) {\n            return this.http.post(this.config.url + eBillInfo.nextAction.url, eBillInfo)\n                .then(parse)\n                .then(normalize);\n        },\n\n        /**\n         * Check what information is necessary to resolve E-Bill errors\n         */\n        checkErrors: function(payeeId) {\n            return this.http.get(this.config.url + '/e-bills/errors', { params: { payeeId: payeeId }})\n                .then(parse)\n                .then(normalize);\n        },\n\n        setConfig: function(options) {\n            this.config = utils.chain(options)\n                .mapValues(utils.resolvePortalPlaceholders)\n                .defaults(defaults)\n                .value();\n            return this;\n        },\n\n        getConfig: function(prop, defVal) {\n            if (prop && utils.isString(prop)) {\n                return this.config[prop] || defVal;\n            } else {\n                return this.config;\n            }\n        }\n    };\n\n    /**\n     * mixing public api methods\n     */\n    utils.assign(EBillService.prototype, api);\n\n    // export service\n    exports.lpEBillService = EBillService;\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/services/ebill-service.js\n **/","define( function (require, exports, module) {\n    'use strict';\n\n    module.exports = function(data) {\n        if (!data) { return {}; }\n\n        // Response returns bool as string, remove once BE fixed\n        data.furtherActionNeeded = data.furtherActionNeeded === 'true';\n\n        if (!data.furtherActionNeeded) { return data; } // Setup finished\n\n        if (!data.nextAction) { // Response not ready, keep checking\n            data.checkStatus = true;\n            return data;\n        }\n\n        if (data.nextAction.credentialsParams) {\n            data.credentialsParams = data.nextAction.credentialsParams;\n            data.credentialsParams.forEach(function(entry) {\n                entry.inputFieldType = entry.masked ? 'PASSWORD' : 'TEXT';\n            });\n        }\n        return data;\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/services/ebill-normalizer.js\n **/","define(function(require, exports, module) {\n\n    'use strict';\n\n    // base utilities\n    var _ = require('base').utils;\n\n    /**\n     * @ngInject\n     * @constructor\n     */\n    var EBillPayService = function EBillPayService(lpCoreUtils) {\n        function EBillPayModel () {\n            var model = this;\n\n            model.endOptionsEnum = {\n                AFTER: 'after',\n                ON_DATE: 'onDate',\n                CANCEL: 'onCancel'\n            };\n            model.endOptions = [\n                {id: model.endOptionsEnum.AFTER},\n                {id: model.endOptionsEnum.CANCEL},\n                {id: model.endOptionsEnum.ON_DATE}\n            ];\n            model.frequencies = [\n                {\n                    id: 'OneTime',\n                    schedule: null\n                },\n                {\n                    id: 'Weekly',\n                    schedule: {\n                        transferFrequency: 'WEEKLY',\n                        every: 1\n                    }\n                },\n                {\n                    id: 'EveryTwoWeeks',\n                    schedule: {\n                        transferFrequency: 'WEEKLY',\n                        every: 2\n                    }\n                },\n                {\n                    id: 'EveryFourWeeks',\n                    schedule: {\n                        transferFrequency: 'WEEKLY',\n                        every: 4\n                    }\n                },\n                {\n                    id: 'Monthly',\n                    schedule: {\n                        transferFrequency: 'MONTHLY',\n                        every: 1\n                    }\n                },\n                {\n                    id: 'EveryTwoMonths',\n                    schedule: {\n                        transferFrequency: 'MONTHLY',\n                        every: 2\n                    }\n                },\n                {\n                    id: 'Quarterly',\n                    schedule: {\n                        transferFrequency: 'MONTHLY',\n                        every: 3\n                    }\n                },\n                {\n                    id: 'EveryFourMonths',\n                    schedule: {\n                        transferFrequency: 'MONTHLY',\n                        every: 4\n                    }\n                },\n                {\n                    id: 'BiAnnual',\n                    schedule: {\n                        transferFrequency: 'MONTHLY',\n                        every: 6\n                    }\n                },\n                {\n                    id: 'Annually',\n                    schedule: {\n                        transferFrequency: 'YEARLY',\n                        every: 1\n                    }\n                }\n            ];\n\n            var formatDate = function(date) {\n                return lpCoreUtils.date(date).format('YYYY-MM-DD');\n            };\n\n            var getScheduleFromFrequency = function (frequencyId){\n                return _(model.frequencies).find({id: frequencyId}).schedule;\n            };\n\n            var transformSchedule = function(scheduledTransfer) {\n                var schedule = {\n                    startDate: formatDate(scheduledTransfer.startDate),\n                    on: 0\n                };\n                _.assign(schedule, getScheduleFromFrequency(scheduledTransfer.frequency));\n                if (scheduledTransfer.endOn === model.endOptionsEnum.AFTER) {\n                    schedule.repeat = scheduledTransfer.timesToRepeat;\n                } else if (scheduledTransfer.endOn === model.endOptionsEnum.ON_DATE) {\n                    schedule.endDate = formatDate(scheduledTransfer.endDate);\n                }\n                return schedule;\n            };\n\n            model.transformPayment = function(payee, payment) {\n                var pay = {\n                    instructedAmount: payment.amount,\n                    instructedCurrency: 'USD',\n                    debitAccount: {\n                        id: payment.account.identifier || payment.account.id,\n                        source: 'PRTYINTERNAL'\n                    },\n                    creditAccount: {\n                        id: payee.payeeId,\n                        source: 'EBILL'\n                    },\n                    additionalInfo: {\n                        memo: payment.memo\n                    }\n                };\n                var isOneTimeRecurringTransfer = payment.isScheduledTransfer && payment.scheduledTransfer && payment.scheduledTransfer.frequency === 'OneTime';\n                if (payment.isScheduledTransfer && !isOneTimeRecurringTransfer) {\n                    pay.paymentMode = 'RECURRING';\n                    pay.schedule = transformSchedule(payment.scheduledTransfer);\n                } else {\n                    pay.paymentMode = 'SINGLE';\n                    var executionDate = isOneTimeRecurringTransfer ? payment.scheduledTransfer.startDate : payment.scheduleDate;\n                    pay.executionDateTime = formatDate(executionDate);\n                    pay.urgentTransfer = payment.urgentTransfer;\n                }\n                return pay;\n            };\n\n            model.createPaymentTemplate = function() {\n                return {\n                    amount: 0,\n                    scheduleDate: new Date(),\n                    currencySym: '$', // TODO: Remove hardcoded currency\n                    isScheduledTransfer: false,\n                    scheduledTransfer: {\n                        startDate: new Date(),\n                        intervals: [],\n                        timesToRepeat: 1\n                    },\n                    memo: ''\n                };\n            };\n        }\n\n        this.getModel = function (){\n            return new EBillPayModel();\n        };\n    };\n\n    // export service\n    exports.lpEBillPayService = EBillPayService;\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/services/ebill-pay-service.js\n **/"],"sourceRoot":""}