/* module-users@v2.5.1 build with â™¥ by bb-lp-cli@v1.9.17 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("base"),require("core")):"function"==typeof define&&define.amd?define(["base","core"],t):"object"==typeof exports?exports["module-users"]=t(require("base"),require("core")):e["module-users"]=t(e.base,e.core)}(this,function(e,t){return function(e){function t(r){if(o[r])return o[r].exports;var n=o[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var o={};return t.m=e,t.c=o,t.p="/",t(0)}([function(e,exports,t){e.exports=t(1)},function(e,exports,t){var o;(function(e){"use strict";o=function(require,exports,e){e.name="module-user";var o=t(3),r=t(4),n=t(5),i=[r.name,n.name];e.exports=o.createModule(e.name,i).provider(t(7)).factory(t(8)).factory(t(9)).factory(t(10)).directive(t(11))}.call(exports,t,exports,e),!(void 0!==o&&(e.exports=o))}).call(exports,t(2)(e))},function(e,exports){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(t,exports){t.exports=e},function(e,exports){e.exports=t},function(e,exports,t){var o;(function(e){"use strict";o=function(require,exports,e){e.name="component.user-reset-password";var o=t(3),r=t(4),n=[r.name];e.exports=o.createModule(e.name,n).directive(t(6))}.call(exports,t,exports,e),!(void 0!==o&&(e.exports=o))}).call(exports,t(2)(e))},function(e,exports,t){var o;o=function(require,exports,e){"use strict";exports.lpResetPasswordLink=function(e){function t(t,o,r){var n=e(r.ngClick||"");t.fireOnClick=function(e){e.preventDefault(),e.stopPropagation(),n(t,{$event:e})}}function o(){return t}var r=['<a href="#" ng-click="fireOnClick($event)">','<small lp-i18n="Having trouble accessing your account?"></small>',"</a>"].join("");return{restricted:"A",template:r,compile:o}},exports.lpResetPasswordLink.$inject=["$parse"]}.call(exports,t,exports,e),!(void 0!==o&&(e.exports=o))},function(e,exports,t){var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};o=function(require,exports,e){"use strict";var t=window,o={MISSING_USERNAME:"Please fill in your username",MISSING_PASSWORD:"Please fill in your password",MISSING_OTP:"You must provide otp code",CANNOT_AUTHENTICATE:"Sorry, we could not authenticate you with these credentials",MAX_ATTEMPTS_EXCEEDED:"Number of login attempts exceeded",ACCOUNT_BLOCKED:"Your account has been blocked",NOT_FOUND:"Resource not found",UNKNOWN_ERROR:"There was an error processing your request. Contact your administrator",DISCONNECTED:"Unable to connect. Please check your connection",FORBIDDEN:"Access has been denied due to security reasons",BAD_GATEWAY:"Bad gateway. Contact your administrator",SESSIONS_LIMIT_REACHED:"You already have an active session. Please close it before starting a new session"},n={UNKNOWN_ERROR:"UNKNOWN_ERROR",NOT_FOUND:"NOT_FOUND",BAD_REQUEST:"BAD_REQUEST",CANNOT_AUTHENTICATE:"CANNOT_AUTHENTICATE",MAX_ATTEMPTS_EXCEEDED:"MAX_ATTEMPTS_EXCEEDED",DISCONNECTED:"DISCONNECTED",FORBIDDEN:"FORBIDDEN",BAD_GATEWAY:"BAD_GATEWAY",SESSIONS_LIMIT_REACHED:"SESSIONS_LIMIT_REACHED"},i={INITIATED:"Initiated",VERIFIED:"Verified"},a={PHONE:"phone",EMAIL:"email"};exports.lpUsersAuthentication=function(e){var s={},c=function(t){return!(e.isString(t)&&e.trim(t).length)},l=function(t){if(!e.isObject(t))throw new Error("Argument `options` should be an object instead "+("undefined"==typeof t?"undefined":r(t)))},u=function(t){return function(o){e.extend(s,o.session),t.resolve(o)}},d={code:n.UNKNOWN_ERROR,message:o[n.UNKNOWN_ERROR]},p=function(e){var t,o,r=e.errors;return r&&r.length&&(t=r[0].code,t!==n.UNKNOWN_ERROR&&(o=r[0].message)),{code:t||d.code,message:o||d.message}},f=function(e){return function(t,r){var i;switch(r){case 0:i={code:n.DISCONNECTED,message:o[n.DISCONNECTED]};break;case 400:i={code:n.BAD_REQUEST,message:t.message};break;case 401:i={code:n.CANNOT_AUTHENTICATE,message:o[n.CANNOT_AUTHENTICATE]};break;case 403:i=t&&t[0]&&"OLB-403001"===t[0].code?{code:n.SESSIONS_LIMIT_REACHED,message:o[n.SESSIONS_LIMIT_REACHED]}:{code:n.FORBIDDEN,message:o[n.FORBIDDEN]};break;case 404:i={code:n.NOT_FOUND,message:o[n.NOT_FOUND]};break;case 502:i={code:n.BAD_GATEWAY,message:o[n.BAD_GATEWAY]};break;default:i=p(t)}e.reject(i)}},g={Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"};this.$get=function(r,d,A,E){var m={ERROR_CODE:n},R={initiateEndPoint:"",otpEndPoint:"",serverRootPath:"",portalName:"",pageName:"",reloadOnSuccess:!0};return m.getConfig=function(){return R},m.setConfig=function(t){return R=e(t).chain().mapValues(e.resolvePortalPlaceholders).defaults(R).value(),this},e.forEach(i,function(t){m["is"+e.capitalize(t)]=function(){return s.status&&s.status.toLowerCase()===t.toLowerCase()}}),m.initiate=function(t){var n,i=d.defer();if(l(t),c(t.username)?n=o.MISSING_USERNAME:c(t.password)&&(n=o.MISSING_PASSWORD),n)i.reject(new Error(n));else{var s={deliveryMethod:a.PHONE};r({method:"POST",url:R.initiateEndPoint,params:s,data:e.buildQueryString(t),headers:g}).success(u(i)).error(f(i))}return i.promise},m.securityCheck=function(){var t=d.defer(),o={j_username:s.username,j_password:s.id,portal_name:R.portalName,page_name:R.pageName};return r({method:"POST",url:R.serverRootPath+"/j_spring_security_check?rd="+(new Date).getTime(),data:e.buildQueryString(o),headers:g}).success(u(t)).error(f(t)),t.promise},m.verifyOTP=function(t){var n=d.defer();return l(t),c(t.otpCode)?n.reject(new Error(o.MISSING_OTP)):r({method:"POST",url:R.otpEndPoint.replace("{id}",s.id),data:e.buildQueryString({otp_code:t.otpCode}),headers:g}).success(u(n)).error(f(n)),n.promise},m.handleVerifiedResponse=function(t){var o=e.getPortalProperty("defaultLandingPage");if(0===A.location.protocol.indexOf("file:")&&(t.successView=null,o=null),e.isString(o))return"/"!==o.charAt(0)&&(o="/"+o),void A.location.replace(R.serverRootPath+o);if(e.isString(t.successView))A.location.replace(R.serverRootPath+t.successView);else{var r;r=0===A.location.protocol.indexOf("file:")?A.location.pathname.split("//")[0]+A.location.search+A.location.hash:A.location.href,R.reloadOnSuccess&&A.location.replace(r)}},m.logOut=function(){var e=E.root+"/j_spring_security_logout?portalName="+E.name,o=E.root+t.b$.portal.config.defaultLandingPage;return A.sessionStorage.clear(),r({method:"POST",url:e,headers:g}).then(function(e){var t=parseInt(e.status,10);if(!(t>=200&&t<300||304===t))throw new Error(p(e).message);A.location.replace(o)})},m.MOCKABLE={session:s},m},this.$get.$inject=["$http","$q","$window","lpPortal"]},exports.lpUsersAuthentication.$inject=["lpCoreUtils"]}.call(exports,t,exports,e),!(void 0!==o&&(e.exports=o))},function(e,exports,t){var o;o=function(require,exports,e){"use strict";exports.lpDefaultProfileImage=function(e){var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABPCAIAAADz89W0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3MkVFRDI3OTJERUQxMUUzQkU4Qzk1MDlEQzAyMjFFNCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3MkVFRDI3QTJERUQxMUUzQkU4Qzk1MDlEQzAyMjFFNCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjcyRUVEMjc3MkRFRDExRTNCRThDOTUwOURDMDIyMUU0IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjcyRUVEMjc4MkRFRDExRTNCRThDOTUwOURDMDIyMUU0Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+gildPAAABRdJREFUeNrsmstKI0EUhicmRmO8IoKIgigoCoovIOhOX8m38RncuHWjG0HFjeAl4GWhoAvvUZPMZ/6ZQ9OtmUBa04OnFk2luqo9X51LnVMzqZWVlV8/qbX8+mHNgR3YgR3YgR3YgR3YgR3YgR3YgR3YgR3YgR3YgR3YgR34O1umkcWVSiX4M5VK2Yj6PDUt9Co6GPxI6MvB+U0GDlL9MZiWluBe6KkJ9iqI8RmDjVeq7cO/1TQN8wTm9fX16ekpn88/Pj5ms1kky+VyLy8vdMrlMoOtra100um0MWgLghj0mfD29mav+JnJZJKiYWuA9fb2jo2NiRYwhL64uIBf0k9NTTFHWyMY5kRtVX0msIqfPK+vr0ulUnRrmgyMHF1dXQsLCz09PYChlpubm7W1tbu7O2SFbXx8fGZmxpiZDwzToobKTwhZgmKfn5/Pz883NjaKxaJMo3FR0/Pz841/Ba0iGSSDg4MPDw/Ih27b29uPj495hbUXCoWRkRGELlYb5MDAzCv6etJ4xaD2BWzGh4aGmHl5eVnD4b8PWPpBFbK6q6ur0dFRlCxzbWtrw6sZ7OjoQNXIPTs7y2ScOVttTGCVvFTN+lI7P/kyP9k4vhkLc6NBCwmQiT76RLdbW1vLy8tyP8inp6dPT09RFHi49Pb29sDAgMyVJ+N0YI6eW6yFljkMEvyYw19pftCSQ0osheWTk5OjoyNCFLolgGHGc3Nzm5ubnZ2dbMf6+jquzvj7H85kbLOCja+xO4uLi2wWO4I5yMJjceBGMy3bcsRCOBnhzs7O/f09CmcvwJ6cnAQbWgi7u7vhyVcbVIxg1cxkOX1G6LM1eDLBWX4hS47LgWMAthiLuKgCJEx3b2+PETk2KsV1IZS7QmgeyxL5M5y5apO1M5lpds4rqicrtUS94gESZoAnJib6+/sBYBcI3ZiojqtQvik1auNub2+xDu2j3CRGS47fhzVCrEJRGCR+u7S0pIAE5/DwsDpRYEuniOe7u7vsnbKO1N8WL3MMufT74VZNIVAvHY4f/JDgjEoVYC0g84x+oVRt5WpjrX3zizTcaHloSlBKaJkjZ698WOoy3do0dfTKEmw6+DNPTbCWFA2HVC0DVpOtKsYyfnBwsL+/T4gyk+aVlC8kebuKEL1VREhWPRws8aIVrD15RWp9dnYGQyhpEZvgdUQpb5MXVAItKUHLXM4MW/KZKeotZ4/O3mipYGvVOITxZKUllmNGLxuar+HQ1QT6URqsA5noRVIZugOIOoX8glWazEdk2DF6ciZ2J7E8RC4qbPItKkTxh6wjeDeiJcQ50hVLM1G4YkGC6uEQsIWcYMWD6HaVESo8dKppnBGcWaFLsZrz2WJbEjUsEqvvTWl20RHKW2zQtsBuCKiZqCsPDw/tbiiJGpboxFskNjyJa5VgjSs73RCpzKbuJ9ksFApkMhYLkwgMGInx6uoqRZKUo6u5f2rJ/FlVhOqwvr6+GAumr9Kwkko0U7+UZtLsi2KVQoDcwbKUJPqwLiikIrmxyil5bG0N6zKEQlpHsZRsdwzJ1TAiIqhiDzmj7qssONVYq9ybtVKsrUpWLh2NQBDKaaVnRFc9XOdyqVp3l1aZJNSkLdlUTLYiIXjY1nm1EDx77QxL6DkcyoHr+QexaGYe7SRUw9EEu55z5bOFH36qaRcA/11zYAd2YAd2YAd2YAd2YAd2YAd2YAd24B/QMrH/J4qkA8f7Pyhcw+7DzW6/BRgAykJQPtOgddIAAAAASUVORK5CYII=",o=function(e){var t="";e=e.split(" ");for(var o=0;o<e.length;o++)t+=e[o].substr(0,1);return t=t.toUpperCase()},r=function(e){var t=e.charCodeAt(0)-64,o=t+120,r=Math.floor((t-1)/25*4+1-1),n=[[o,210,210],[o,o,210],[210,o,o],[o,210,o],[210,o,210]];return n[r]};return function(n,i,a,s){if(!arguments.length)return t;var c=document.createElement("canvas");if(!c.getContext||!c.getContext("2d"))return t;var l=o(n);s=s||r(l),c.setAttribute("width",i),c.setAttribute("height",a);var u=c.getContext("2d");u.fillStyle=e.isArray(s)?"rgb("+s.join(",")+")":s,u.fillRect(0,0,i,a),u.fillStyle="rgb(250,250,250)";var d;switch(l.length){case 1:d=.6;break;case 2:d=.5;break;case 3:d=.45;break;default:d=.3}var p=parseInt(d*a,10),f=Math.floor(.15*a);return u.font=p+"px Proxima Regular, Helvetica Nueue, Helvetica, Arial, sans-serif",u.textAlign="right",u.fillText(l,i-3,a-f),c.toDataURL("image/png")}},exports.lpDefaultProfileImage.$inject=["lpCoreUtils"]}.call(exports,t,exports,e),!(void 0!==o&&(e.exports=o))},function(e,exports,t){var o;o=function(require,exports,e){"use strict";exports.lpUserDetails=function(e,t,o){function r(e){var r=[];return t.each(e,function(e,t){r.push({key:o.instant(t),value:"dateOfBirth"===t?o.formatDate(e):o.instant(e)})}),r}function n(e){e.photoUrl=e.photoData||(e.PhotoUrl?decodeURIComponent(e.photoUrl):null),e.details=r(e.details);var t=e.activities;return t?t.lastLoggedIn?t.lastLoggedIn=o.formatDate(t.lastLoggedIn,"medium"):t.lastLoggedIn="":e.activities={lastLoggedIn:""},e}return{get:function(t){return e.get(t).then(function(e){return n(e.data)})},put:function(o,r){return e({method:"put",url:o,transformRequest:t.buildQueryString,data:r,headers:{"Content-Type":"application/x-www-form-urlencoded;"}})}}},exports.lpUserDetails.$inject=["$http","lpCoreUtils","lpCoreI18n"]}.call(exports,t,exports,e),!(void 0!==o&&(e.exports=o))},function(e,exports,t){var o;o=function(require,exports,e){"use strict";exports.lpUserSettings=function(e){return{changePassword:function(t,o,r){return e.post(t,{data:{oldPassword:o,password:r}})}}},exports.lpUserSettings.$inject=["$http"]}.call(exports,t,exports,e),!(void 0!==o&&(e.exports=o))},function(e,exports,t){var o;o=function(require,exports,e){"use strict";exports.profileImage=function(e,t){return{restrict:"EA",replace:!0,template:'<img height="{{size}}" width="{{size}}" ng-src="{{dataUrl}}"" />',scope:{fullname:"@",color:"@",size:"="},link:function(e,o,r){var n=function(o,r){e.dataUrl=t(e.fullname,o,r,e.color)};e.$watch("size + fullname + color",function(){var t=e.size||100,o=e.size||100;n(t,o)})}}},exports.profileImage.$inject=["lpCoreUtils","lpDefaultProfileImage"]}.call(exports,t,exports,e),!(void 0!==o&&(e.exports=o))}])});
//# sourceMappingURL=main.js.map